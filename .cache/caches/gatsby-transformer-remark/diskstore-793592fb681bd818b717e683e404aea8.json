{"expireTime":9007200888440673000,"key":"transformer-remark-markdown-html-ast-39194bc30d3563030a9a1f49e89d6d69--","val":{"type":"root","children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":2,"column":5,"offset":5},"end":{"line":2,"column":13,"offset":13}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":13,"offset":13}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"REST"}],"position":{"start":{"line":4,"column":1,"offset":15},"end":{"line":4,"column":7,"offset":21}}},{"type":"text","value":" is a generally agreed-upon set of principles and constraints. They are ","position":{"start":{"line":4,"column":7,"offset":21},"end":{"line":4,"column":79,"offset":93}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"recommendations","position":{"start":{"line":4,"column":81,"offset":95},"end":{"line":4,"column":96,"offset":110}}}],"position":{"start":{"line":4,"column":79,"offset":93},"end":{"line":4,"column":98,"offset":112}}},{"type":"text","value":", not a standard.","position":{"start":{"line":4,"column":98,"offset":112},"end":{"line":4,"column":115,"offset":129}}}],"position":{"start":{"line":4,"column":1,"offset":15},"end":{"line":4,"column":115,"offset":129}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// inside /api/apiRoutes.js <- this can be place anywhere and called anything\nconst express = require('express');\n\n// if the other routers are not nested inside /api then the paths would change\nconst userRoutes = require('./users/userRoutes');\nconst productRoutes = require('./products/productRoutes');\nconst clientRoutes = require('./clients/clientRoutes');\n\nconst router = express.Router(); // notice the Uppercase R\n\n// this file will only be used when the route begins with \"/api\"\n// so we can remove that from the URLs, so \"/api/users\" becomes simply \"/users\"\nrouter.use('/users', userRoutes);\nrouter.use('/products', productRoutes);\nrouter.use('/clients', clientRoutes);\n\n// .. and any other endpoint related to the user's resource\n\n// after the route has been fully configured, we then export it so it can be required where needed\nmodule.exports = router; // standard convention dictates that this is the last line on the file\n"}],"position":{"start":{"line":6,"column":1,"offset":131},"end":{"line":25,"column":100,"offset":1124}}}],"position":{"start":{"line":6,"column":1,"offset":131},"end":{"line":25,"column":100,"offset":1124}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Objective 1 — explain the role of a foreign key","position":{"start":{"line":27,"column":1,"offset":1126},"end":{"line":27,"column":170,"offset":1295}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":29,"column":5,"offset":1301},"end":{"line":29,"column":13,"offset":1309}}}],"position":{"start":{"line":29,"column":1,"offset":1297},"end":{"line":29,"column":13,"offset":1309}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Foreign keys","position":{"start":{"line":31,"column":3,"offset":1313},"end":{"line":31,"column":15,"offset":1325}}}],"position":{"start":{"line":31,"column":1,"offset":1311},"end":{"line":31,"column":17,"offset":1327}}},{"type":"text","value":" are a type of table field used for creating links between tables. Like ","position":{"start":{"line":31,"column":17,"offset":1327},"end":{"line":31,"column":89,"offset":1399}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"primary keys","position":{"start":{"line":31,"column":91,"offset":1401},"end":{"line":31,"column":103,"offset":1413}}}],"position":{"start":{"line":31,"column":89,"offset":1399},"end":{"line":31,"column":105,"offset":1415}}},{"type":"text","value":", they are most often integers that identify (rather than store) data. However, whereas a primary key is used to id rows in a table, foreign keys are used to connect a record in one table to a record in a second table.","position":{"start":{"line":31,"column":105,"offset":1415},"end":{"line":31,"column":323,"offset":1633}}}],"position":{"start":{"line":31,"column":1,"offset":1311},"end":{"line":31,"column":323,"offset":1633}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":33,"column":5,"offset":1639},"end":{"line":33,"column":17,"offset":1651}}}],"position":{"start":{"line":33,"column":1,"offset":1635},"end":{"line":33,"column":17,"offset":1651}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider the following ","position":{"start":{"line":35,"column":1,"offset":1653},"end":{"line":35,"column":24,"offset":1676}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":35,"column":24,"offset":1676},"end":{"line":35,"column":31,"offset":1683}}},{"type":"text","value":" and ","position":{"start":{"line":35,"column":31,"offset":1683},"end":{"line":35,"column":36,"offset":1688}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":35,"column":36,"offset":1688},"end":{"line":35,"column":46,"offset":1698}}},{"type":"text","value":" tables.","position":{"start":{"line":35,"column":46,"offset":1698},"end":{"line":35,"column":54,"offset":1706}}}],"position":{"start":{"line":35,"column":1,"offset":1653},"end":{"line":35,"column":54,"offset":1706}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/b88ebcd8fa3a4fa3a36cf99c939f6067\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":37,"column":1,"offset":1708},"end":{"line":37,"column":106,"offset":1813}}},{"type":"text","value":"Untitled","position":{"start":{"line":37,"column":106,"offset":1813},"end":{"line":37,"column":114,"offset":1821}}},{"type":"raw","value":"</a>","position":{"start":{"line":37,"column":114,"offset":1821},"end":{"line":37,"column":118,"offset":1825}}}],"position":{"start":{"line":37,"column":1,"offset":1708},"end":{"line":37,"column":118,"offset":1825}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/a4ccaec69c484ce0bcd03d2e8a83e489\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":39,"column":1,"offset":1827},"end":{"line":39,"column":106,"offset":1932}}},{"type":"text","value":"Untitled","position":{"start":{"line":39,"column":106,"offset":1932},"end":{"line":39,"column":114,"offset":1940}}},{"type":"raw","value":"</a>","position":{"start":{"line":39,"column":114,"offset":1940},"end":{"line":39,"column":118,"offset":1944}}}],"position":{"start":{"line":39,"column":1,"offset":1827},"end":{"line":39,"column":118,"offset":1944}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":41,"column":1,"offset":1946},"end":{"line":41,"column":5,"offset":1950}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":41,"column":5,"offset":1950},"end":{"line":41,"column":14,"offset":1959}}},{"type":"text","value":" in the ","position":{"start":{"line":41,"column":14,"offset":1959},"end":{"line":41,"column":22,"offset":1967}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":41,"column":22,"offset":1967},"end":{"line":41,"column":32,"offset":1977}}},{"type":"text","value":" table is an example of a ","position":{"start":{"line":41,"column":32,"offset":1977},"end":{"line":41,"column":58,"offset":2003}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foreign key"}],"position":{"start":{"line":41,"column":58,"offset":2003},"end":{"line":41,"column":71,"offset":2016}}},{"type":"text","value":". Each entry in the ","position":{"start":{"line":41,"column":71,"offset":2016},"end":{"line":41,"column":91,"offset":2036}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":41,"column":91,"offset":2036},"end":{"line":41,"column":100,"offset":2045}}},{"type":"text","value":" (foreign key) column corresponds to an ","position":{"start":{"line":41,"column":100,"offset":2045},"end":{"line":41,"column":140,"offset":2085}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":41,"column":140,"offset":2085},"end":{"line":41,"column":144,"offset":2089}}},{"type":"text","value":" (primary key) in the ","position":{"start":{"line":41,"column":144,"offset":2089},"end":{"line":41,"column":166,"offset":2111}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":41,"column":166,"offset":2111},"end":{"line":41,"column":173,"offset":2118}}},{"type":"text","value":" table. This allows us to track which farm each rancher belongs to while keeping the tables normalized.","position":{"start":{"line":41,"column":173,"offset":2118},"end":{"line":41,"column":276,"offset":2221}}}],"position":{"start":{"line":41,"column":1,"offset":1946},"end":{"line":41,"column":276,"offset":2221}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we could only see the ","position":{"start":{"line":43,"column":1,"offset":2223},"end":{"line":43,"column":26,"offset":2248}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":43,"column":26,"offset":2248},"end":{"line":43,"column":36,"offset":2258}}},{"type":"text","value":" table, we would know that John, Jane, and Jen all work together and that Jim and Jay also work together. However, to know where any of them work, we would need to look at the ","position":{"start":{"line":43,"column":36,"offset":2258},"end":{"line":43,"column":212,"offset":2434}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":43,"column":212,"offset":2434},"end":{"line":43,"column":219,"offset":2441}}},{"type":"text","value":" table.","position":{"start":{"line":43,"column":219,"offset":2441},"end":{"line":43,"column":226,"offset":2448}}}],"position":{"start":{"line":43,"column":1,"offset":2223},"end":{"line":43,"column":226,"offset":2448}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Challenge","position":{"start":{"line":45,"column":5,"offset":2454},"end":{"line":45,"column":14,"offset":2463}}}],"position":{"start":{"line":45,"column":1,"offset":2450},"end":{"line":45,"column":14,"offset":2463}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Open ","position":{"start":{"line":47,"column":1,"offset":2465},"end":{"line":47,"column":6,"offset":2470}}},{"type":"raw","value":"<a href=\"https://www.w3schools.com/sql/trysql.asp?filename=trysql_op_in\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":47,"column":6,"offset":2470},"end":{"line":47,"column":119,"offset":2583}}},{"type":"text","value":"SQLTryIT (Links to an external site.)","position":{"start":{"line":47,"column":119,"offset":2583},"end":{"line":47,"column":156,"offset":2620}}},{"type":"raw","value":"</a>","position":{"start":{"line":47,"column":156,"offset":2620},"end":{"line":47,"column":160,"offset":2624}}},{"type":"text","value":".","position":{"start":{"line":47,"column":160,"offset":2624},"end":{"line":47,"column":161,"offset":2625}}}],"position":{"start":{"line":47,"column":1,"offset":2465},"end":{"line":47,"column":161,"offset":2625}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"How many records in the products table belong to the category “confections”?","position":{"start":{"line":49,"column":1,"offset":2627},"end":{"line":49,"column":77,"offset":2703}}}],"position":{"start":{"line":49,"column":1,"offset":2627},"end":{"line":49,"column":77,"offset":2703}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Objective 2 — query data from multiple tables","position":{"start":{"line":51,"column":5,"offset":2709},"end":{"line":51,"column":50,"offset":2754}}}],"position":{"start":{"line":51,"column":1,"offset":2705},"end":{"line":51,"column":50,"offset":2754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we understand the basics of querying data from a single table, let’s move on to selecting data from multiple tables using JOIN operations.","position":{"start":{"line":53,"column":1,"offset":2756},"end":{"line":53,"column":148,"offset":2903}}}],"position":{"start":{"line":53,"column":1,"offset":2756},"end":{"line":53,"column":148,"offset":2903}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":55,"column":5,"offset":2909},"end":{"line":55,"column":13,"offset":2917}}}],"position":{"start":{"line":55,"column":1,"offset":2905},"end":{"line":55,"column":13,"offset":2917}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can use a ","position":{"start":{"line":57,"column":1,"offset":2919},"end":{"line":57,"column":14,"offset":2932}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JOIN"}],"position":{"start":{"line":57,"column":14,"offset":2932},"end":{"line":57,"column":20,"offset":2938}}},{"type":"text","value":" to combine query data from multiple tables using a single ","position":{"start":{"line":57,"column":20,"offset":2938},"end":{"line":57,"column":79,"offset":2997}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":57,"column":79,"offset":2997},"end":{"line":57,"column":87,"offset":3005}}},{"type":"text","value":" statement.","position":{"start":{"line":57,"column":87,"offset":3005},"end":{"line":57,"column":98,"offset":3016}}}],"position":{"start":{"line":57,"column":1,"offset":2919},"end":{"line":57,"column":98,"offset":3016}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are different types of joins; some are listed below:","position":{"start":{"line":59,"column":1,"offset":3018},"end":{"line":59,"column":59,"offset":3076}}}],"position":{"start":{"line":59,"column":1,"offset":3018},"end":{"line":59,"column":59,"offset":3076}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"9c7e\">","position":{"start":{"line":61,"column":5,"offset":3082},"end":{"line":61,"column":21,"offset":3098}}},{"type":"text","value":"inner joins.","position":{"start":{"line":61,"column":21,"offset":3098},"end":{"line":61,"column":33,"offset":3110}}},{"type":"raw","value":"</span>","position":{"start":{"line":61,"column":33,"offset":3110},"end":{"line":61,"column":40,"offset":3117}}}],"position":{"start":{"line":61,"column":1,"offset":3078},"end":{"line":61,"column":40,"offset":3117}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7cd3\">","position":{"start":{"line":62,"column":5,"offset":3122},"end":{"line":62,"column":21,"offset":3138}}},{"type":"text","value":"outer joins.","position":{"start":{"line":62,"column":21,"offset":3138},"end":{"line":62,"column":33,"offset":3150}}},{"type":"raw","value":"</span>","position":{"start":{"line":62,"column":33,"offset":3150},"end":{"line":62,"column":40,"offset":3157}}}],"position":{"start":{"line":62,"column":1,"offset":3118},"end":{"line":62,"column":40,"offset":3157}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"96e6\">","position":{"start":{"line":63,"column":5,"offset":3162},"end":{"line":63,"column":21,"offset":3178}}},{"type":"text","value":"left joins.","position":{"start":{"line":63,"column":21,"offset":3178},"end":{"line":63,"column":32,"offset":3189}}},{"type":"raw","value":"</span>","position":{"start":{"line":63,"column":32,"offset":3189},"end":{"line":63,"column":39,"offset":3196}}}],"position":{"start":{"line":63,"column":1,"offset":3158},"end":{"line":63,"column":39,"offset":3196}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0e55\">","position":{"start":{"line":64,"column":5,"offset":3201},"end":{"line":64,"column":21,"offset":3217}}},{"type":"text","value":"right joins.","position":{"start":{"line":64,"column":21,"offset":3217},"end":{"line":64,"column":33,"offset":3229}}},{"type":"raw","value":"</span>","position":{"start":{"line":64,"column":33,"offset":3229},"end":{"line":64,"column":40,"offset":3236}}}],"position":{"start":{"line":64,"column":1,"offset":3197},"end":{"line":64,"column":40,"offset":3236}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d582\">","position":{"start":{"line":65,"column":5,"offset":3241},"end":{"line":65,"column":21,"offset":3257}}},{"type":"text","value":"cross joins.","position":{"start":{"line":65,"column":21,"offset":3257},"end":{"line":65,"column":33,"offset":3269}}},{"type":"raw","value":"</span>","position":{"start":{"line":65,"column":33,"offset":3269},"end":{"line":65,"column":40,"offset":3276}}}],"position":{"start":{"line":65,"column":1,"offset":3237},"end":{"line":65,"column":40,"offset":3276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"6716\">","position":{"start":{"line":66,"column":5,"offset":3281},"end":{"line":66,"column":21,"offset":3297}}},{"type":"text","value":"non-equality joins.","position":{"start":{"line":66,"column":21,"offset":3297},"end":{"line":66,"column":40,"offset":3316}}},{"type":"raw","value":"</span>","position":{"start":{"line":66,"column":40,"offset":3316},"end":{"line":66,"column":47,"offset":3323}}}],"position":{"start":{"line":66,"column":1,"offset":3277},"end":{"line":66,"column":47,"offset":3323}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b7f0\">","position":{"start":{"line":67,"column":5,"offset":3328},"end":{"line":67,"column":21,"offset":3344}}},{"type":"text","value":"self joins.","position":{"start":{"line":67,"column":21,"offset":3344},"end":{"line":67,"column":32,"offset":3355}}},{"type":"raw","value":"</span>","position":{"start":{"line":67,"column":32,"offset":3355},"end":{"line":67,"column":39,"offset":3362}}}],"position":{"start":{"line":67,"column":1,"offset":3324},"end":{"line":67,"column":39,"offset":3362}}},{"type":"text","value":"\n"}],"position":{"start":{"line":61,"column":1,"offset":3078},"end":{"line":67,"column":39,"offset":3362}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using ","position":{"start":{"line":69,"column":1,"offset":3364},"end":{"line":69,"column":7,"offset":3370}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"joins"}],"position":{"start":{"line":69,"column":7,"offset":3370},"end":{"line":69,"column":14,"offset":3377}}},{"type":"text","value":" requires that the two tables of interest contain at least one field with shared information. For example, if a ","position":{"start":{"line":69,"column":14,"offset":3377},"end":{"line":69,"column":126,"offset":3489}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":69,"column":127,"offset":3490},"end":{"line":69,"column":138,"offset":3501}}}],"position":{"start":{"line":69,"column":126,"offset":3489},"end":{"line":69,"column":139,"offset":3502}}},{"type":"text","value":" table has an ","position":{"start":{"line":69,"column":139,"offset":3502},"end":{"line":69,"column":153,"offset":3516}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":69,"column":154,"offset":3517},"end":{"line":69,"column":156,"offset":3519}}}],"position":{"start":{"line":69,"column":153,"offset":3516},"end":{"line":69,"column":157,"offset":3520}}},{"type":"text","value":" field, and an employee table has a ","position":{"start":{"line":69,"column":157,"offset":3520},"end":{"line":69,"column":193,"offset":3556}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":69,"column":194,"offset":3557},"end":{"line":69,"column":204,"offset":3567}}}],"position":{"start":{"line":69,"column":193,"offset":3556},"end":{"line":69,"column":205,"offset":3568}}},{"type":"text","value":"id_ field, and the values that exist in the ","position":{"start":{"line":69,"column":205,"offset":3568},"end":{"line":69,"column":249,"offset":3612}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":69,"column":250,"offset":3613},"end":{"line":69,"column":252,"offset":3615}}}],"position":{"start":{"line":69,"column":249,"offset":3612},"end":{"line":69,"column":253,"offset":3616}}},{"type":"text","value":" column of the ","position":{"start":{"line":69,"column":253,"offset":3616},"end":{"line":69,"column":268,"offset":3631}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":69,"column":269,"offset":3632},"end":{"line":69,"column":280,"offset":3643}}}],"position":{"start":{"line":69,"column":268,"offset":3631},"end":{"line":69,"column":281,"offset":3644}}},{"type":"text","value":" table live in the ","position":{"start":{"line":69,"column":281,"offset":3644},"end":{"line":69,"column":300,"offset":3663}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":69,"column":301,"offset":3664},"end":{"line":69,"column":311,"offset":3674}}}],"position":{"start":{"line":69,"column":300,"offset":3663},"end":{"line":69,"column":312,"offset":3675}}},{"type":"text","value":"id_ field of the employee table, we can use those fields to join both tables like so:","position":{"start":{"line":69,"column":312,"offset":3675},"end":{"line":69,"column":397,"offset":3760}}}],"position":{"start":{"line":69,"column":1,"offset":3364},"end":{"line":69,"column":397,"offset":3760}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees\njoin departments on employees.department_id = departments.id\n"}],"position":{"start":{"line":71,"column":1,"offset":3762},"end":{"line":72,"column":65,"offset":3854}}}],"position":{"start":{"line":71,"column":1,"offset":3762},"end":{"line":72,"column":65,"offset":3854}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This query will return the data from both tables for every instance where the ","position":{"start":{"line":74,"column":1,"offset":3856},"end":{"line":74,"column":79,"offset":3934}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ON"}],"position":{"start":{"line":74,"column":79,"offset":3934},"end":{"line":74,"column":83,"offset":3938}}},{"type":"text","value":" condition is true. If there are employees with no value for department","position":{"start":{"line":74,"column":83,"offset":3938},"end":{"line":74,"column":154,"offset":4009}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id or where the value stored in the field does not correspond to an existing id in the","position":{"start":{"line":74,"column":155,"offset":4010},"end":{"line":74,"column":241,"offset":4096}}}],"position":{"start":{"line":74,"column":154,"offset":4009},"end":{"line":74,"column":242,"offset":4097}}},{"type":"text","value":" departments ","position":{"start":{"line":74,"column":242,"offset":4097},"end":{"line":74,"column":255,"offset":4110}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table, then that record will NOT be returned. In a similar fashion, any records from the","position":{"start":{"line":74,"column":256,"offset":4111},"end":{"line":74,"column":344,"offset":4199}}}],"position":{"start":{"line":74,"column":255,"offset":4110},"end":{"line":74,"column":345,"offset":4200}}},{"type":"text","value":" departments ","position":{"start":{"line":74,"column":345,"offset":4200},"end":{"line":74,"column":358,"offset":4213}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table that don't have an employee associated with them will also be omitted from the results. Basically, if the","position":{"start":{"line":74,"column":359,"offset":4214},"end":{"line":74,"column":470,"offset":4325}}}],"position":{"start":{"line":74,"column":358,"offset":4213},"end":{"line":74,"column":471,"offset":4326}}},{"type":"text","value":" id","position":{"start":{"line":74,"column":471,"offset":4326},"end":{"line":74,"column":474,"offset":4329}}},{"type":"text","value":"*","position":{"start":{"line":74,"column":474,"offset":4329},"end":{"line":74,"column":476,"offset":4331}}},{"type":"text","value":" does not show as the value of department_id for an employee, it won't be able to join.","position":{"start":{"line":74,"column":476,"offset":4331},"end":{"line":74,"column":563,"offset":4418}}}],"position":{"start":{"line":74,"column":1,"offset":3856},"end":{"line":74,"column":563,"offset":4418}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can shorten the condition by giving the table names an alias. This is a common practice. Below is the same example using aliases, picking which fields to return and sorting the results:","position":{"start":{"line":76,"column":1,"offset":4420},"end":{"line":76,"column":189,"offset":4608}}}],"position":{"start":{"line":76,"column":1,"offset":4420},"end":{"line":76,"column":189,"offset":4608}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select d.id, d.name, e.id, e.first_name, e.last_name, e.salary\nfrom employees as e\njoin departments as d\n  on e.department_id = d.id\norder by d.name, e.last_name\n"}],"position":{"start":{"line":78,"column":1,"offset":4610},"end":{"line":82,"column":33,"offset":4791}}}],"position":{"start":{"line":78,"column":1,"offset":4610},"end":{"line":82,"column":33,"offset":4791}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notice that we can take advantage of white space and indentation to make queries more readable.","position":{"start":{"line":84,"column":1,"offset":4793},"end":{"line":84,"column":96,"offset":4888}}}],"position":{"start":{"line":84,"column":1,"offset":4793},"end":{"line":84,"column":96,"offset":4888}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are several ways of writing joins, but the one shown here should work on all database management systems and avoid some pitfalls, so we recommend it.","position":{"start":{"line":86,"column":1,"offset":4890},"end":{"line":86,"column":156,"offset":5045}}}],"position":{"start":{"line":86,"column":1,"offset":4890},"end":{"line":86,"column":156,"offset":5045}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The syntax for performing a similar join using Knex is as follows:","position":{"start":{"line":88,"column":1,"offset":5047},"end":{"line":88,"column":67,"offset":5113}}}],"position":{"start":{"line":88,"column":1,"offset":5047},"end":{"line":88,"column":67,"offset":5113}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('employees as e')\n  .join('departments as d', 'e.department_id', 'd.id')\n  .select('d.id', 'd.name', 'e.first_name', 'e.last_name', 'e.salary')\n"}],"position":{"start":{"line":90,"column":1,"offset":5115},"end":{"line":92,"column":75,"offset":5273}}}],"position":{"start":{"line":90,"column":1,"offset":5115},"end":{"line":92,"column":75,"offset":5273}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":94,"column":5,"offset":5279},"end":{"line":94,"column":17,"offset":5291}}}],"position":{"start":{"line":94,"column":1,"offset":5275},"end":{"line":94,"column":17,"offset":5291}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A good explanation of how the different types of joins can be seen ","position":{"start":{"line":96,"column":1,"offset":5293},"end":{"line":96,"column":68,"offset":5360}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql/joins/sql-joins.php\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":96,"column":68,"offset":5360},"end":{"line":96,"column":169,"offset":5461}}},{"type":"text","value":"in this article from w3resource.com (Links to an external site.)","position":{"start":{"line":96,"column":169,"offset":5461},"end":{"line":96,"column":233,"offset":5525}}},{"type":"raw","value":"</a>","position":{"start":{"line":96,"column":233,"offset":5525},"end":{"line":96,"column":237,"offset":5529}}},{"type":"text","value":".","position":{"start":{"line":96,"column":237,"offset":5529},"end":{"line":96,"column":238,"offset":5530}}}],"position":{"start":{"line":96,"column":1,"offset":5293},"end":{"line":96,"column":238,"offset":5530}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Challenge","position":{"start":{"line":98,"column":5,"offset":5536},"end":{"line":98,"column":14,"offset":5545}}}],"position":{"start":{"line":98,"column":1,"offset":5532},"end":{"line":98,"column":14,"offset":5545}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use ","position":{"start":{"line":100,"column":1,"offset":5547},"end":{"line":100,"column":5,"offset":5551}}},{"type":"raw","value":"<a href=\"https://www.w3schools.com/Sql/tryit.asp?filename=trysql_select_top\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":100,"column":5,"offset":5551},"end":{"line":100,"column":122,"offset":5668}}},{"type":"text","value":"this online tool (Links to an external site.)","position":{"start":{"line":100,"column":122,"offset":5668},"end":{"line":100,"column":167,"offset":5713}}},{"type":"raw","value":"</a>","position":{"start":{"line":100,"column":167,"offset":5713},"end":{"line":100,"column":171,"offset":5717}}},{"type":"text","value":" to write the following queries:","position":{"start":{"line":100,"column":171,"offset":5717},"end":{"line":100,"column":203,"offset":5749}}}],"position":{"start":{"line":100,"column":1,"offset":5547},"end":{"line":100,"column":203,"offset":5749}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"9ccf\">","position":{"start":{"line":102,"column":5,"offset":5755},"end":{"line":102,"column":21,"offset":5771}}},{"type":"text","value":"list the products, including their category name.","position":{"start":{"line":102,"column":21,"offset":5771},"end":{"line":102,"column":70,"offset":5820}}},{"type":"raw","value":"</span>","position":{"start":{"line":102,"column":70,"offset":5820},"end":{"line":102,"column":77,"offset":5827}}}],"position":{"start":{"line":102,"column":1,"offset":5751},"end":{"line":102,"column":77,"offset":5827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b07f\">","position":{"start":{"line":103,"column":5,"offset":5832},"end":{"line":103,"column":21,"offset":5848}}},{"type":"text","value":"list the products, including the supplier name.","position":{"start":{"line":103,"column":21,"offset":5848},"end":{"line":103,"column":68,"offset":5895}}},{"type":"raw","value":"</span>","position":{"start":{"line":103,"column":68,"offset":5895},"end":{"line":103,"column":75,"offset":5902}}}],"position":{"start":{"line":103,"column":1,"offset":5828},"end":{"line":103,"column":75,"offset":5902}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7b08\">","position":{"start":{"line":104,"column":5,"offset":5907},"end":{"line":104,"column":21,"offset":5923}}},{"type":"text","value":"list the products, including both the category name and supplier name.","position":{"start":{"line":104,"column":21,"offset":5923},"end":{"line":104,"column":91,"offset":5993}}},{"type":"raw","value":"</span>","position":{"start":{"line":104,"column":91,"offset":5993},"end":{"line":104,"column":98,"offset":6000}}}],"position":{"start":{"line":104,"column":1,"offset":5903},"end":{"line":104,"column":98,"offset":6000}}},{"type":"text","value":"\n"}],"position":{"start":{"line":102,"column":1,"offset":5751},"end":{"line":104,"column":98,"offset":6000}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is SQL Joins?","position":{"start":{"line":106,"column":5,"offset":6006},"end":{"line":106,"column":23,"offset":6024}}}],"position":{"start":{"line":106,"column":1,"offset":6002},"end":{"line":106,"column":23,"offset":6024}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An SQL JOIN clause combines rows from two or more tables. It creates a set of rows in a temporary table.","position":{"start":{"line":108,"column":1,"offset":6026},"end":{"line":108,"column":105,"offset":6130}}}],"position":{"start":{"line":108,"column":1,"offset":6026},"end":{"line":108,"column":105,"offset":6130}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"How to Join two tables in SQL?","position":{"start":{"line":110,"column":5,"offset":6136},"end":{"line":110,"column":35,"offset":6166}}}],"position":{"start":{"line":110,"column":1,"offset":6132},"end":{"line":110,"column":35,"offset":6166}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A JOIN works on two or more tables if they have at least one common field and have a relationship between them.","position":{"start":{"line":112,"column":1,"offset":6168},"end":{"line":112,"column":112,"offset":6279}}}],"position":{"start":{"line":112,"column":1,"offset":6168},"end":{"line":112,"column":112,"offset":6279}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"JOIN keeps the base tables (structure and data) unchanged.","position":{"start":{"line":114,"column":1,"offset":6281},"end":{"line":114,"column":59,"offset":6339}}}],"position":{"start":{"line":114,"column":1,"offset":6281},"end":{"line":114,"column":59,"offset":6339}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Join vs. Subquery","position":{"start":{"line":116,"column":5,"offset":6345},"end":{"line":116,"column":22,"offset":6362}}}],"position":{"start":{"line":116,"column":1,"offset":6341},"end":{"line":116,"column":22,"offset":6362}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"eeea\">","position":{"start":{"line":118,"column":5,"offset":6368},"end":{"line":118,"column":21,"offset":6384}}},{"type":"text","value":"JOINs are faster than a subquery and it is very rare that the opposite.","position":{"start":{"line":118,"column":21,"offset":6384},"end":{"line":118,"column":92,"offset":6455}}},{"type":"raw","value":"</span>","position":{"start":{"line":118,"column":92,"offset":6455},"end":{"line":118,"column":99,"offset":6462}}}],"position":{"start":{"line":118,"column":1,"offset":6364},"end":{"line":118,"column":99,"offset":6462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"3b2e\">","position":{"start":{"line":119,"column":5,"offset":6467},"end":{"line":119,"column":21,"offset":6483}}},{"type":"text","value":"In JOINs the RDBMS calculates an execution plan, that can predict, what data should be loaded and how much it will take to processed and as a result this process save some times, unlike the subquery there is no pre-process calculation and run all the queries and load all their data to do the processing.","position":{"start":{"line":119,"column":21,"offset":6483},"end":{"line":119,"column":325,"offset":6787}}},{"type":"raw","value":"</span>","position":{"start":{"line":119,"column":325,"offset":6787},"end":{"line":119,"column":332,"offset":6794}}}],"position":{"start":{"line":119,"column":1,"offset":6463},"end":{"line":119,"column":332,"offset":6794}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"84ce\">","position":{"start":{"line":120,"column":5,"offset":6799},"end":{"line":120,"column":21,"offset":6815}}},{"type":"text","value":"A JOIN is checked conditions first and then put it into table and displays; where as a subquery take separate temp table internally and checking condition.","position":{"start":{"line":120,"column":21,"offset":6815},"end":{"line":120,"column":176,"offset":6970}}},{"type":"raw","value":"</span>","position":{"start":{"line":120,"column":176,"offset":6970},"end":{"line":120,"column":183,"offset":6977}}}],"position":{"start":{"line":120,"column":1,"offset":6795},"end":{"line":120,"column":183,"offset":6977}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"3002\">","position":{"start":{"line":121,"column":5,"offset":6982},"end":{"line":121,"column":21,"offset":6998}}},{"type":"text","value":"When joins are using, there should be connection between two or more than two tables and each table has a relation with other while subquery means query inside another query, has no need to relation, it works on columns and conditions.","position":{"start":{"line":121,"column":21,"offset":6998},"end":{"line":121,"column":256,"offset":7233}}},{"type":"raw","value":"</span>","position":{"start":{"line":121,"column":256,"offset":7233},"end":{"line":121,"column":263,"offset":7240}}}],"position":{"start":{"line":121,"column":1,"offset":6978},"end":{"line":121,"column":263,"offset":7240}}},{"type":"text","value":"\n"}],"position":{"start":{"line":118,"column":1,"offset":6364},"end":{"line":121,"column":263,"offset":7240}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SQL JOINS: EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":123,"column":5,"offset":7246},"end":{"line":123,"column":43,"offset":7284}}}],"position":{"start":{"line":123,"column":1,"offset":7242},"end":{"line":123,"column":43,"offset":7284}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The are two types of SQL JOINS — EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":125,"column":1,"offset":7286},"end":{"line":125,"column":61,"offset":7346}}}],"position":{"start":{"line":125,"column":1,"offset":7286},"end":{"line":125,"column":61,"offset":7346}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"31e6\">","position":{"start":{"line":127,"column":5,"offset":7352},"end":{"line":127,"column":21,"offset":7368}}},{"type":"text","value":"SQL EQUI JOIN :","position":{"start":{"line":127,"column":21,"offset":7368},"end":{"line":127,"column":36,"offset":7383}}},{"type":"raw","value":"</span>","position":{"start":{"line":127,"column":36,"offset":7383},"end":{"line":127,"column":43,"offset":7390}}}],"position":{"start":{"line":127,"column":1,"offset":7348},"end":{"line":127,"column":43,"offset":7390}}},{"type":"text","value":"\n"}],"position":{"start":{"line":127,"column":1,"offset":7348},"end":{"line":127,"column":43,"offset":7390}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN is a simple SQL join uses the equal sign(=) as the comparison operator for the condition. It has two types — SQL Outer join and SQL Inner join.","position":{"start":{"line":129,"column":1,"offset":7392},"end":{"line":129,"column":162,"offset":7553}}}],"position":{"start":{"line":129,"column":1,"offset":7392},"end":{"line":129,"column":162,"offset":7553}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d86b\">","position":{"start":{"line":131,"column":5,"offset":7559},"end":{"line":131,"column":21,"offset":7575}}},{"type":"text","value":"SQL NON EQUI JOIN :","position":{"start":{"line":131,"column":21,"offset":7575},"end":{"line":131,"column":40,"offset":7594}}},{"type":"raw","value":"</span>","position":{"start":{"line":131,"column":40,"offset":7594},"end":{"line":131,"column":47,"offset":7601}}}],"position":{"start":{"line":131,"column":1,"offset":7555},"end":{"line":131,"column":47,"offset":7601}}},{"type":"text","value":"\n"}],"position":{"start":{"line":131,"column":1,"offset":7555},"end":{"line":131,"column":47,"offset":7601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":133,"column":1,"offset":7603},"end":{"line":133,"column":5,"offset":7607}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL NON EQUI JOIN","position":{"start":{"line":133,"column":7,"offset":7609},"end":{"line":133,"column":24,"offset":7626}}}],"position":{"start":{"line":133,"column":5,"offset":7607},"end":{"line":133,"column":26,"offset":7628}}},{"type":"text","value":" is a join uses comparison operator other than the equal sign like ","position":{"start":{"line":133,"column":26,"offset":7628},"end":{"line":133,"column":93,"offset":7695}}},{"type":"text","value":">","position":{"start":{"line":133,"column":93,"offset":7695},"end":{"line":133,"column":97,"offset":7699}}},{"type":"text","value":", ","position":{"start":{"line":133,"column":97,"offset":7699},"end":{"line":133,"column":99,"offset":7701}}},{"type":"text","value":"<","position":{"start":{"line":133,"column":99,"offset":7701},"end":{"line":133,"column":103,"offset":7705}}},{"type":"text","value":", ","position":{"start":{"line":133,"column":103,"offset":7705},"end":{"line":133,"column":105,"offset":7707}}},{"type":"text","value":">","position":{"start":{"line":133,"column":105,"offset":7707},"end":{"line":133,"column":109,"offset":7711}}},{"type":"text","value":"=, ","position":{"start":{"line":133,"column":109,"offset":7711},"end":{"line":133,"column":112,"offset":7714}}},{"type":"text","value":"<","position":{"start":{"line":133,"column":112,"offset":7714},"end":{"line":133,"column":116,"offset":7718}}},{"type":"text","value":"= with the condition.","position":{"start":{"line":133,"column":116,"offset":7718},"end":{"line":133,"column":137,"offset":7739}}}],"position":{"start":{"line":133,"column":1,"offset":7603},"end":{"line":133,"column":137,"offset":7739}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL EQUI JOIN : INNER JOIN and OUTER JOIN","position":{"start":{"line":135,"column":3,"offset":7743},"end":{"line":135,"column":44,"offset":7784}}}],"position":{"start":{"line":135,"column":1,"offset":7741},"end":{"line":135,"column":46,"offset":7786}}}],"position":{"start":{"line":135,"column":1,"offset":7741},"end":{"line":135,"column":46,"offset":7786}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN can be classified into two types — INNER JOIN and OUTER JOIN","position":{"start":{"line":137,"column":1,"offset":7788},"end":{"line":137,"column":79,"offset":7866}}}],"position":{"start":{"line":137,"column":1,"offset":7788},"end":{"line":137,"column":79,"offset":7866}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c9b5\">","position":{"start":{"line":139,"column":5,"offset":7872},"end":{"line":139,"column":21,"offset":7888}}},{"type":"text","value":"SQL INNER JOIN","position":{"start":{"line":139,"column":21,"offset":7888},"end":{"line":139,"column":35,"offset":7902}}},{"type":"raw","value":"</span>","position":{"start":{"line":139,"column":35,"offset":7902},"end":{"line":139,"column":42,"offset":7909}}}],"position":{"start":{"line":139,"column":1,"offset":7868},"end":{"line":139,"column":42,"offset":7909}}},{"type":"text","value":"\n"}],"position":{"start":{"line":139,"column":1,"offset":7868},"end":{"line":139,"column":42,"offset":7909}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from tables where the key record of one table is equal to the key records of another table.","position":{"start":{"line":141,"column":1,"offset":7911},"end":{"line":141,"column":132,"offset":8042}}}],"position":{"start":{"line":141,"column":1,"offset":7911},"end":{"line":141,"column":132,"offset":8042}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"6bc6\">","position":{"start":{"line":143,"column":5,"offset":8048},"end":{"line":143,"column":21,"offset":8064}}},{"type":"text","value":"SQL OUTER JOIN","position":{"start":{"line":143,"column":21,"offset":8064},"end":{"line":143,"column":35,"offset":8078}}},{"type":"raw","value":"</span>","position":{"start":{"line":143,"column":35,"offset":8078},"end":{"line":143,"column":42,"offset":8085}}}],"position":{"start":{"line":143,"column":1,"offset":8044},"end":{"line":143,"column":42,"offset":8085}}},{"type":"text","value":"\n"}],"position":{"start":{"line":143,"column":1,"offset":8044},"end":{"line":143,"column":42,"offset":8085}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from one table and only those rows from the secondary table where the joined condition is satisfying i.e. the columns are equal in both tables.","position":{"start":{"line":145,"column":1,"offset":8087},"end":{"line":145,"column":184,"offset":8270}}}],"position":{"start":{"line":145,"column":1,"offset":8087},"end":{"line":145,"column":184,"offset":8270}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to perform a JOIN query, the required information we need are:","position":{"start":{"line":147,"column":1,"offset":8272},"end":{"line":147,"column":72,"offset":8343}}}],"position":{"start":{"line":147,"column":1,"offset":8272},"end":{"line":147,"column":72,"offset":8343}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"a)","position":{"start":{"line":149,"column":3,"offset":8347},"end":{"line":149,"column":5,"offset":8349}}}],"position":{"start":{"line":149,"column":1,"offset":8345},"end":{"line":149,"column":7,"offset":8351}}},{"type":"text","value":" The name of the tables","position":{"start":{"line":149,"column":7,"offset":8351},"end":{"line":149,"column":30,"offset":8374}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"b)","position":{"start":{"line":149,"column":32,"offset":8376},"end":{"line":149,"column":34,"offset":8378}}}],"position":{"start":{"line":149,"column":30,"offset":8374},"end":{"line":149,"column":36,"offset":8380}}},{"type":"text","value":" Name of the columns of two or more tables, based on which a condition will perform.","position":{"start":{"line":149,"column":36,"offset":8380},"end":{"line":149,"column":120,"offset":8464}}}],"position":{"start":{"line":149,"column":1,"offset":8345},"end":{"line":149,"column":120,"offset":8464}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Syntax:","position":{"start":{"line":151,"column":3,"offset":8468},"end":{"line":151,"column":10,"offset":8475}}}],"position":{"start":{"line":151,"column":1,"offset":8466},"end":{"line":151,"column":12,"offset":8477}}}],"position":{"start":{"line":151,"column":1,"offset":8466},"end":{"line":151,"column":12,"offset":8477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FROM table1\njoin_type table2\n[ON (join_condition)]\n"}],"position":{"start":{"line":153,"column":1,"offset":8479},"end":{"line":155,"column":26,"offset":8541}}}],"position":{"start":{"line":153,"column":1,"offset":8479},"end":{"line":155,"column":26,"offset":8541}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Parameters:","position":{"start":{"line":157,"column":3,"offset":8545},"end":{"line":157,"column":14,"offset":8556}}}],"position":{"start":{"line":157,"column":1,"offset":8543},"end":{"line":157,"column":16,"offset":8558}}}],"position":{"start":{"line":157,"column":1,"offset":8543},"end":{"line":157,"column":16,"offset":8558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/3e2d9e2f028e4b7abf2da81156a54364\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":159,"column":1,"offset":8560},"end":{"line":159,"column":106,"offset":8665}}},{"type":"text","value":"Untitled","position":{"start":{"line":159,"column":106,"offset":8665},"end":{"line":159,"column":114,"offset":8673}}},{"type":"raw","value":"</a>","position":{"start":{"line":159,"column":114,"offset":8673},"end":{"line":159,"column":118,"offset":8677}}}],"position":{"start":{"line":159,"column":1,"offset":8560},"end":{"line":159,"column":118,"offset":8677}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Pictorial Presentation of SQL Joins:","position":{"start":{"line":161,"column":3,"offset":8681},"end":{"line":161,"column":39,"offset":8717}}}],"position":{"start":{"line":161,"column":1,"offset":8679},"end":{"line":161,"column":41,"offset":8719}}}],"position":{"start":{"line":161,"column":1,"offset":8679},"end":{"line":161,"column":41,"offset":8719}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*bbwqJEpV2a9WZG-t.gif\" class=\"graf-image\" /></figure>**Example:**","position":{"start":{"line":163,"column":1,"offset":8721},"end":{"line":163,"column":125,"offset":8845}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: company","position":{"start":{"line":165,"column":3,"offset":8849},"end":{"line":165,"column":24,"offset":8870}}}],"position":{"start":{"line":165,"column":1,"offset":8847},"end":{"line":165,"column":26,"offset":8872}}}],"position":{"start":{"line":165,"column":1,"offset":8847},"end":{"line":165,"column":26,"offset":8872}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: foods","position":{"start":{"line":167,"column":3,"offset":8876},"end":{"line":167,"column":22,"offset":8895}}}],"position":{"start":{"line":167,"column":1,"offset":8874},"end":{"line":167,"column":24,"offset":8897}}}],"position":{"start":{"line":167,"column":1,"offset":8874},"end":{"line":167,"column":24,"offset":8897}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To join two tables ‘company’ and ‘foods’, the following SQL statement can be used :","position":{"start":{"line":169,"column":1,"offset":8899},"end":{"line":169,"column":84,"offset":8982}}}],"position":{"start":{"line":169,"column":1,"offset":8899},"end":{"line":169,"column":84,"offset":8982}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL Code:","position":{"start":{"line":171,"column":3,"offset":8986},"end":{"line":171,"column":12,"offset":8995}}}],"position":{"start":{"line":171,"column":1,"offset":8984},"end":{"line":171,"column":14,"offset":8997}}}],"position":{"start":{"line":171,"column":1,"offset":8984},"end":{"line":171,"column":14,"offset":8997}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT  company.company_id,company.company_name,\nfoods.item_id,foods.item_name\nFROM company,foods;\n"}],"position":{"start":{"line":173,"column":1,"offset":8999},"end":{"line":175,"column":24,"offset":9109}}}],"position":{"start":{"line":173,"column":1,"offset":8999},"end":{"line":175,"column":24,"offset":9109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy","position":{"start":{"line":177,"column":1,"offset":9111},"end":{"line":177,"column":5,"offset":9115}}}],"position":{"start":{"line":177,"column":1,"offset":9111},"end":{"line":177,"column":5,"offset":9115}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Output:","position":{"start":{"line":179,"column":1,"offset":9117},"end":{"line":179,"column":8,"offset":9124}}}],"position":{"start":{"line":179,"column":1,"offset":9117},"end":{"line":179,"column":8,"offset":9124}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"COMPAN COMPANY_NAME              ITEM_ID  ITEM_NAME\n------ ------------------------- -------- ---------------\n18     Order All                 1        Chex Mix\n18     Order All                 6        Cheez-It\n18     Order All                 2        BN Biscuit\n18     Order All                 3        Mighty Munch\n18     Order All                 4        Pot Rice\n18     Order All                 5        Jaffa Cakes\n18     Order All                 7        Salt n Shake\n15     Jack Hill Ltd             1        Chex Mix\n15     Jack Hill Ltd             6        Cheez-It\n15     Jack Hill Ltd             2        BN Biscuit\n15     Jack Hill Ltd             3        Mighty Munch\n15     Jack Hill Ltd             4        Pot Rice\n15     Jack Hill Ltd             5        Jaffa Cakes\n15     Jack Hill Ltd             7        Salt n Shake\n16     Akas Foods                1        Chex Mix\n16     Akas Foods                6        Cheez-It\n16     Akas Foods                2        BN Biscuit\n16     Akas Foods                3        Mighty Munch\n16     Akas Foods                4        Pot Rice\n16     Akas Foods                5        Jaffa Cakes\n16     Akas Foods                7        Salt n Shake\n.........\n.........\n.........\n"}],"position":{"start":{"line":181,"column":1,"offset":9126},"end":{"line":206,"column":14,"offset":10479}}}],"position":{"start":{"line":181,"column":1,"offset":9126},"end":{"line":206,"column":14,"offset":10479}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"JOINS: Relational Databases","position":{"start":{"line":208,"column":3,"offset":10483},"end":{"line":208,"column":30,"offset":10510}}}],"position":{"start":{"line":208,"column":1,"offset":10481},"end":{"line":208,"column":32,"offset":10512}}}],"position":{"start":{"line":208,"column":1,"offset":10481},"end":{"line":208,"column":32,"offset":10512}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"74c4\">","position":{"start":{"line":210,"column":5,"offset":10518},"end":{"line":210,"column":21,"offset":10534}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/oracle/joins/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":210,"column":21,"offset":10534},"end":{"line":210,"column":122,"offset":10635}}},{"type":"raw","value":"<strong>","position":{"start":{"line":210,"column":122,"offset":10635},"end":{"line":210,"column":130,"offset":10643}}},{"type":"text","value":"Oracle JOINS","position":{"start":{"line":210,"column":130,"offset":10643},"end":{"line":210,"column":142,"offset":10655}}},{"type":"raw","value":"</strong>","position":{"start":{"line":210,"column":142,"offset":10655},"end":{"line":210,"column":151,"offset":10664}}},{"type":"raw","value":"</a>","position":{"start":{"line":210,"column":151,"offset":10664},"end":{"line":210,"column":155,"offset":10668}}},{"type":"raw","value":"</span>","position":{"start":{"line":210,"column":155,"offset":10668},"end":{"line":210,"column":162,"offset":10675}}}],"position":{"start":{"line":210,"column":1,"offset":10514},"end":{"line":210,"column":162,"offset":10675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f8da\">","position":{"start":{"line":211,"column":5,"offset":10680},"end":{"line":211,"column":21,"offset":10696}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/mysql/advance-query-in-mysql/mysql-joins.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":211,"column":21,"offset":10696},"end":{"line":211,"column":144,"offset":10819}}},{"type":"raw","value":"<strong>","position":{"start":{"line":211,"column":144,"offset":10819},"end":{"line":211,"column":152,"offset":10827}}},{"type":"text","value":"MySQL JOINS","position":{"start":{"line":211,"column":152,"offset":10827},"end":{"line":211,"column":163,"offset":10838}}},{"type":"raw","value":"</strong>","position":{"start":{"line":211,"column":163,"offset":10838},"end":{"line":211,"column":172,"offset":10847}}},{"type":"raw","value":"</a>","position":{"start":{"line":211,"column":172,"offset":10847},"end":{"line":211,"column":176,"offset":10851}}},{"type":"raw","value":"</span>","position":{"start":{"line":211,"column":176,"offset":10851},"end":{"line":211,"column":183,"offset":10858}}}],"position":{"start":{"line":211,"column":1,"offset":10676},"end":{"line":211,"column":183,"offset":10858}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"33a5\">","position":{"start":{"line":212,"column":5,"offset":10863},"end":{"line":212,"column":21,"offset":10879}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/PostgreSQL/postgresql-join.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":212,"column":21,"offset":10879},"end":{"line":212,"column":130,"offset":10988}}},{"type":"raw","value":"<strong>","position":{"start":{"line":212,"column":130,"offset":10988},"end":{"line":212,"column":138,"offset":10996}}},{"type":"text","value":"PostgreSQL JOINS","position":{"start":{"line":212,"column":138,"offset":10996},"end":{"line":212,"column":154,"offset":11012}}},{"type":"raw","value":"</strong>","position":{"start":{"line":212,"column":154,"offset":11012},"end":{"line":212,"column":163,"offset":11021}}},{"type":"raw","value":"</a>","position":{"start":{"line":212,"column":163,"offset":11021},"end":{"line":212,"column":167,"offset":11025}}},{"type":"raw","value":"</span>","position":{"start":{"line":212,"column":167,"offset":11025},"end":{"line":212,"column":174,"offset":11032}}}],"position":{"start":{"line":212,"column":1,"offset":10859},"end":{"line":212,"column":174,"offset":11032}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b578\">","position":{"start":{"line":213,"column":5,"offset":11037},"end":{"line":213,"column":21,"offset":11053}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sqlite/sqlite-inner-join.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":213,"column":21,"offset":11053},"end":{"line":213,"column":128,"offset":11160}}},{"type":"raw","value":"<strong>","position":{"start":{"line":213,"column":128,"offset":11160},"end":{"line":213,"column":136,"offset":11168}}},{"type":"text","value":"SQLite JOINS","position":{"start":{"line":213,"column":136,"offset":11168},"end":{"line":213,"column":148,"offset":11180}}},{"type":"raw","value":"</strong>","position":{"start":{"line":213,"column":148,"offset":11180},"end":{"line":213,"column":157,"offset":11189}}},{"type":"raw","value":"</a>","position":{"start":{"line":213,"column":157,"offset":11189},"end":{"line":213,"column":161,"offset":11193}}},{"type":"raw","value":"</span>","position":{"start":{"line":213,"column":161,"offset":11193},"end":{"line":213,"column":168,"offset":11200}}}],"position":{"start":{"line":213,"column":1,"offset":11033},"end":{"line":213,"column":168,"offset":11200}}},{"type":"text","value":"\n"}],"position":{"start":{"line":210,"column":1,"offset":10514},"end":{"line":213,"column":168,"offset":11200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Key points to remember:","position":{"start":{"line":215,"column":3,"offset":11204},"end":{"line":215,"column":26,"offset":11227}}}],"position":{"start":{"line":215,"column":1,"offset":11202},"end":{"line":215,"column":28,"offset":11229}}}],"position":{"start":{"line":215,"column":1,"offset":11202},"end":{"line":215,"column":28,"offset":11229}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Click on the following to get the slides presentation -","position":{"start":{"line":217,"column":2,"offset":11232},"end":{"line":217,"column":57,"offset":11287}}}],"position":{"start":{"line":217,"column":1,"offset":11231},"end":{"line":217,"column":58,"offset":11288}}}],"position":{"start":{"line":217,"column":1,"offset":11231},"end":{"line":217,"column":58,"offset":11288}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*lP_nQo6VtVu_68nx.png\" class=\"graf-image\" /></figure>###","position":{"start":{"line":219,"column":1,"offset":11290},"end":{"line":219,"column":116,"offset":11405}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Practice SQL Exercises","position":{"start":{"line":221,"column":3,"offset":11409},"end":{"line":221,"column":25,"offset":11431}}}],"position":{"start":{"line":221,"column":1,"offset":11407},"end":{"line":221,"column":27,"offset":11433}}}],"position":{"start":{"line":221,"column":1,"offset":11407},"end":{"line":221,"column":27,"offset":11433}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0765\">","position":{"start":{"line":223,"column":5,"offset":11439},"end":{"line":223,"column":21,"offset":11455}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":223,"column":21,"offset":11455},"end":{"line":223,"column":123,"offset":11557}}},{"type":"raw","value":"<strong>","position":{"start":{"line":223,"column":123,"offset":11557},"end":{"line":223,"column":131,"offset":11565}}},{"type":"text","value":"SQL Exercises, Practice, Solution","position":{"start":{"line":223,"column":131,"offset":11565},"end":{"line":223,"column":164,"offset":11598}}},{"type":"raw","value":"</strong>","position":{"start":{"line":223,"column":164,"offset":11598},"end":{"line":223,"column":173,"offset":11607}}},{"type":"raw","value":"</a>","position":{"start":{"line":223,"column":173,"offset":11607},"end":{"line":223,"column":177,"offset":11611}}},{"type":"raw","value":"</span>","position":{"start":{"line":223,"column":177,"offset":11611},"end":{"line":223,"column":184,"offset":11618}}}],"position":{"start":{"line":223,"column":1,"offset":11435},"end":{"line":223,"column":184,"offset":11618}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4cd9\">","position":{"start":{"line":224,"column":5,"offset":11623},"end":{"line":224,"column":21,"offset":11639}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-retrieve-from-table.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":224,"column":21,"offset":11639},"end":{"line":224,"column":141,"offset":11759}}},{"type":"raw","value":"<strong>","position":{"start":{"line":224,"column":141,"offset":11759},"end":{"line":224,"column":149,"offset":11767}}},{"type":"text","value":"SQL Retrieve data from tables [33 Exercises]","position":{"start":{"line":224,"column":149,"offset":11767},"end":{"line":224,"column":193,"offset":11811}}},{"type":"raw","value":"</strong>","position":{"start":{"line":224,"column":193,"offset":11811},"end":{"line":224,"column":202,"offset":11820}}},{"type":"raw","value":"</a>","position":{"start":{"line":224,"column":202,"offset":11820},"end":{"line":224,"column":206,"offset":11824}}},{"type":"raw","value":"</span>","position":{"start":{"line":224,"column":206,"offset":11824},"end":{"line":224,"column":213,"offset":11831}}}],"position":{"start":{"line":224,"column":1,"offset":11619},"end":{"line":224,"column":213,"offset":11831}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7204\">","position":{"start":{"line":225,"column":5,"offset":11836},"end":{"line":225,"column":21,"offset":11852}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-boolean-operators.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":225,"column":21,"offset":11852},"end":{"line":225,"column":139,"offset":11970}}},{"type":"raw","value":"<strong>","position":{"start":{"line":225,"column":139,"offset":11970},"end":{"line":225,"column":147,"offset":11978}}},{"type":"text","value":"SQL Boolean and Relational operators [12 Exercises]","position":{"start":{"line":225,"column":147,"offset":11978},"end":{"line":225,"column":198,"offset":12029}}},{"type":"raw","value":"</strong>","position":{"start":{"line":225,"column":198,"offset":12029},"end":{"line":225,"column":207,"offset":12038}}},{"type":"raw","value":"</a>","position":{"start":{"line":225,"column":207,"offset":12038},"end":{"line":225,"column":211,"offset":12042}}},{"type":"raw","value":"</span>","position":{"start":{"line":225,"column":211,"offset":12042},"end":{"line":225,"column":218,"offset":12049}}}],"position":{"start":{"line":225,"column":1,"offset":11832},"end":{"line":225,"column":218,"offset":12049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"3d4e\">","position":{"start":{"line":226,"column":5,"offset":12054},"end":{"line":226,"column":21,"offset":12070}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-wildcard-special-operators.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":226,"column":21,"offset":12070},"end":{"line":226,"column":148,"offset":12197}}},{"type":"raw","value":"<strong>","position":{"start":{"line":226,"column":148,"offset":12197},"end":{"line":226,"column":156,"offset":12205}}},{"type":"text","value":"SQL Wildcard and Special operators [22 Exercises]","position":{"start":{"line":226,"column":156,"offset":12205},"end":{"line":226,"column":205,"offset":12254}}},{"type":"raw","value":"</strong>","position":{"start":{"line":226,"column":205,"offset":12254},"end":{"line":226,"column":214,"offset":12263}}},{"type":"raw","value":"</a>","position":{"start":{"line":226,"column":214,"offset":12263},"end":{"line":226,"column":218,"offset":12267}}},{"type":"raw","value":"</span>","position":{"start":{"line":226,"column":218,"offset":12267},"end":{"line":226,"column":225,"offset":12274}}}],"position":{"start":{"line":226,"column":1,"offset":12050},"end":{"line":226,"column":225,"offset":12274}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7afb\">","position":{"start":{"line":227,"column":5,"offset":12279},"end":{"line":227,"column":21,"offset":12295}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-aggregate-functions.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":227,"column":21,"offset":12295},"end":{"line":227,"column":141,"offset":12415}}},{"type":"raw","value":"<strong>","position":{"start":{"line":227,"column":141,"offset":12415},"end":{"line":227,"column":149,"offset":12423}}},{"type":"text","value":"SQL Aggregate Functions [25 Exercises]","position":{"start":{"line":227,"column":149,"offset":12423},"end":{"line":227,"column":187,"offset":12461}}},{"type":"raw","value":"</strong>","position":{"start":{"line":227,"column":187,"offset":12461},"end":{"line":227,"column":196,"offset":12470}}},{"type":"raw","value":"</a>","position":{"start":{"line":227,"column":196,"offset":12470},"end":{"line":227,"column":200,"offset":12474}}},{"type":"raw","value":"</span>","position":{"start":{"line":227,"column":200,"offset":12474},"end":{"line":227,"column":207,"offset":12481}}}],"position":{"start":{"line":227,"column":1,"offset":12275},"end":{"line":227,"column":207,"offset":12481}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"cc71\">","position":{"start":{"line":228,"column":5,"offset":12486},"end":{"line":228,"column":21,"offset":12502}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-fromatting-output-exercises.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":228,"column":21,"offset":12502},"end":{"line":228,"column":149,"offset":12630}}},{"type":"raw","value":"<strong>","position":{"start":{"line":228,"column":149,"offset":12630},"end":{"line":228,"column":157,"offset":12638}}},{"type":"text","value":"SQL Formatting query output [10 Exercises]","position":{"start":{"line":228,"column":157,"offset":12638},"end":{"line":228,"column":199,"offset":12680}}},{"type":"raw","value":"</strong>","position":{"start":{"line":228,"column":199,"offset":12680},"end":{"line":228,"column":208,"offset":12689}}},{"type":"raw","value":"</a>","position":{"start":{"line":228,"column":208,"offset":12689},"end":{"line":228,"column":212,"offset":12693}}},{"type":"raw","value":"</span>","position":{"start":{"line":228,"column":212,"offset":12693},"end":{"line":228,"column":219,"offset":12700}}}],"position":{"start":{"line":228,"column":1,"offset":12482},"end":{"line":228,"column":219,"offset":12700}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"77bf\">","position":{"start":{"line":229,"column":5,"offset":12705},"end":{"line":229,"column":21,"offset":12721}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql/joins/s/sql-exercises/ql-exercises-quering-on-multiple-table.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":229,"column":21,"offset":12721},"end":{"line":229,"column":168,"offset":12868}}},{"type":"raw","value":"<strong>","position":{"start":{"line":229,"column":168,"offset":12868},"end":{"line":229,"column":176,"offset":12876}}},{"type":"text","value":"SQL Quering on Multiple Tables [7 Exercises]","position":{"start":{"line":229,"column":176,"offset":12876},"end":{"line":229,"column":220,"offset":12920}}},{"type":"raw","value":"</strong>","position":{"start":{"line":229,"column":220,"offset":12920},"end":{"line":229,"column":229,"offset":12929}}},{"type":"raw","value":"</a>","position":{"start":{"line":229,"column":229,"offset":12929},"end":{"line":229,"column":233,"offset":12933}}},{"type":"raw","value":"</span>","position":{"start":{"line":229,"column":233,"offset":12933},"end":{"line":229,"column":240,"offset":12940}}}],"position":{"start":{"line":229,"column":1,"offset":12701},"end":{"line":229,"column":240,"offset":12940}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0bc2\">","position":{"start":{"line":230,"column":5,"offset":12945},"end":{"line":230,"column":21,"offset":12961}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sorting-and-filtering-hr/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":230,"column":21,"offset":12961},"end":{"line":230,"column":148,"offset":13088}}},{"type":"raw","value":"<strong>","position":{"start":{"line":230,"column":148,"offset":13088},"end":{"line":230,"column":156,"offset":13096}}},{"type":"text","value":"FILTERING and SORTING on HR Database [38 Exercises]","position":{"start":{"line":230,"column":156,"offset":13096},"end":{"line":230,"column":207,"offset":13147}}},{"type":"raw","value":"</strong>","position":{"start":{"line":230,"column":207,"offset":13147},"end":{"line":230,"column":216,"offset":13156}}},{"type":"raw","value":"</a>","position":{"start":{"line":230,"column":216,"offset":13156},"end":{"line":230,"column":220,"offset":13160}}},{"type":"raw","value":"</span>","position":{"start":{"line":230,"column":220,"offset":13160},"end":{"line":230,"column":227,"offset":13167}}}],"position":{"start":{"line":230,"column":1,"offset":12941},"end":{"line":230,"column":227,"offset":13167}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"e28a\">","position":{"start":{"line":231,"column":5,"offset":13172},"end":{"line":231,"column":21,"offset":13188}}},{"type":"text","value":"SQL JOINS","position":{"start":{"line":231,"column":21,"offset":13188},"end":{"line":231,"column":30,"offset":13197}}},{"type":"raw","value":"</span>","position":{"start":{"line":231,"column":30,"offset":13197},"end":{"line":231,"column":37,"offset":13204}}}],"position":{"start":{"line":231,"column":1,"offset":13168},"end":{"line":231,"column":37,"offset":13204}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"84a2\">","position":{"start":{"line":232,"column":5,"offset":13209},"end":{"line":232,"column":21,"offset":13225}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-joins-exercises.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":232,"column":21,"offset":13225},"end":{"line":232,"column":137,"offset":13341}}},{"type":"raw","value":"<strong>","position":{"start":{"line":232,"column":137,"offset":13341},"end":{"line":232,"column":145,"offset":13349}}},{"type":"text","value":"SQL JOINS [29 Exercises]","position":{"start":{"line":232,"column":145,"offset":13349},"end":{"line":232,"column":169,"offset":13373}}},{"type":"raw","value":"</strong>","position":{"start":{"line":232,"column":169,"offset":13373},"end":{"line":232,"column":178,"offset":13382}}},{"type":"raw","value":"</a>","position":{"start":{"line":232,"column":178,"offset":13382},"end":{"line":232,"column":182,"offset":13386}}},{"type":"raw","value":"</span>","position":{"start":{"line":232,"column":182,"offset":13386},"end":{"line":232,"column":189,"offset":13393}}}],"position":{"start":{"line":232,"column":1,"offset":13205},"end":{"line":232,"column":189,"offset":13393}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f97b\">","position":{"start":{"line":233,"column":5,"offset":13398},"end":{"line":233,"column":21,"offset":13414}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/joins-hr/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":233,"column":21,"offset":13414},"end":{"line":233,"column":132,"offset":13525}}},{"type":"raw","value":"<strong>","position":{"start":{"line":233,"column":132,"offset":13525},"end":{"line":233,"column":140,"offset":13533}}},{"type":"text","value":"SQL JOINS on HR Database [27 Exercises]","position":{"start":{"line":233,"column":140,"offset":13533},"end":{"line":233,"column":179,"offset":13572}}},{"type":"raw","value":"</strong>","position":{"start":{"line":233,"column":179,"offset":13572},"end":{"line":233,"column":188,"offset":13581}}},{"type":"raw","value":"</a>","position":{"start":{"line":233,"column":188,"offset":13581},"end":{"line":233,"column":192,"offset":13585}}},{"type":"raw","value":"</span>","position":{"start":{"line":233,"column":192,"offset":13585},"end":{"line":233,"column":199,"offset":13592}}}],"position":{"start":{"line":233,"column":1,"offset":13394},"end":{"line":233,"column":199,"offset":13592}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"b33e\">  \n</span>","position":{"start":{"line":234,"column":5,"offset":13597},"end":{"line":235,"column":12,"offset":13627}}},{"type":"text","value":"\n"}],"position":{"start":{"line":234,"column":1,"offset":13593},"end":{"line":235,"column":12,"offset":13627}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0983\">","position":{"start":{"line":236,"column":5,"offset":13632},"end":{"line":236,"column":21,"offset":13648}}},{"type":"text","value":"SQL SUBQUERIES","position":{"start":{"line":236,"column":21,"offset":13648},"end":{"line":236,"column":35,"offset":13662}}},{"type":"raw","value":"</span>","position":{"start":{"line":236,"column":35,"offset":13662},"end":{"line":236,"column":42,"offset":13669}}}],"position":{"start":{"line":236,"column":1,"offset":13628},"end":{"line":236,"column":42,"offset":13669}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"423b\">","position":{"start":{"line":237,"column":5,"offset":13674},"end":{"line":237,"column":21,"offset":13690}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/subqueries/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":237,"column":21,"offset":13690},"end":{"line":237,"column":134,"offset":13803}}},{"type":"raw","value":"<strong>","position":{"start":{"line":237,"column":134,"offset":13803},"end":{"line":237,"column":142,"offset":13811}}},{"type":"text","value":"SQL SUBQUERIES [39 Exercises]","position":{"start":{"line":237,"column":142,"offset":13811},"end":{"line":237,"column":171,"offset":13840}}},{"type":"raw","value":"</strong>","position":{"start":{"line":237,"column":171,"offset":13840},"end":{"line":237,"column":180,"offset":13849}}},{"type":"raw","value":"</a>","position":{"start":{"line":237,"column":180,"offset":13849},"end":{"line":237,"column":184,"offset":13853}}},{"type":"raw","value":"</span>","position":{"start":{"line":237,"column":184,"offset":13853},"end":{"line":237,"column":191,"offset":13860}}}],"position":{"start":{"line":237,"column":1,"offset":13670},"end":{"line":237,"column":191,"offset":13860}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"a4d7\">","position":{"start":{"line":238,"column":5,"offset":13865},"end":{"line":238,"column":21,"offset":13881}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-subqueries-exercises.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":238,"column":21,"offset":13881},"end":{"line":238,"column":142,"offset":14002}}},{"type":"raw","value":"<strong>","position":{"start":{"line":238,"column":142,"offset":14002},"end":{"line":238,"column":150,"offset":14010}}},{"type":"text","value":"SQL SUBQUERIES on HR Database [55 Exercises]","position":{"start":{"line":238,"column":150,"offset":14010},"end":{"line":238,"column":194,"offset":14054}}},{"type":"raw","value":"</strong>","position":{"start":{"line":238,"column":194,"offset":14054},"end":{"line":238,"column":203,"offset":14063}}},{"type":"raw","value":"</a>","position":{"start":{"line":238,"column":203,"offset":14063},"end":{"line":238,"column":207,"offset":14067}}},{"type":"raw","value":"</span>","position":{"start":{"line":238,"column":207,"offset":14067},"end":{"line":238,"column":214,"offset":14074}}}],"position":{"start":{"line":238,"column":1,"offset":13861},"end":{"line":238,"column":214,"offset":14074}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"b63d\">  \n</span>","position":{"start":{"line":239,"column":5,"offset":14079},"end":{"line":240,"column":12,"offset":14109}}},{"type":"text","value":"\n"}],"position":{"start":{"line":239,"column":1,"offset":14075},"end":{"line":240,"column":12,"offset":14109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2c29\">","position":{"start":{"line":241,"column":5,"offset":14114},"end":{"line":241,"column":21,"offset":14130}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/union/sql-union.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":241,"column":21,"offset":14130},"end":{"line":241,"column":133,"offset":14242}}},{"type":"raw","value":"<strong>","position":{"start":{"line":241,"column":133,"offset":14242},"end":{"line":241,"column":141,"offset":14250}}},{"type":"text","value":"SQL Union[9 Exercises]","position":{"start":{"line":241,"column":141,"offset":14250},"end":{"line":241,"column":163,"offset":14272}}},{"type":"raw","value":"</strong>","position":{"start":{"line":241,"column":163,"offset":14272},"end":{"line":241,"column":172,"offset":14281}}},{"type":"raw","value":"</a>","position":{"start":{"line":241,"column":172,"offset":14281},"end":{"line":241,"column":176,"offset":14285}}},{"type":"raw","value":"</span>","position":{"start":{"line":241,"column":176,"offset":14285},"end":{"line":241,"column":183,"offset":14292}}}],"position":{"start":{"line":241,"column":1,"offset":14110},"end":{"line":241,"column":183,"offset":14292}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"92c5\">","position":{"start":{"line":242,"column":5,"offset":14297},"end":{"line":242,"column":21,"offset":14313}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/view/sql-view.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":242,"column":21,"offset":14313},"end":{"line":242,"column":131,"offset":14423}}},{"type":"raw","value":"<strong>","position":{"start":{"line":242,"column":131,"offset":14423},"end":{"line":242,"column":139,"offset":14431}}},{"type":"text","value":"SQL View[16 Exercises]","position":{"start":{"line":242,"column":139,"offset":14431},"end":{"line":242,"column":161,"offset":14453}}},{"type":"raw","value":"</strong>","position":{"start":{"line":242,"column":161,"offset":14453},"end":{"line":242,"column":170,"offset":14462}}},{"type":"raw","value":"</a>","position":{"start":{"line":242,"column":170,"offset":14462},"end":{"line":242,"column":174,"offset":14466}}},{"type":"raw","value":"</span>","position":{"start":{"line":242,"column":174,"offset":14466},"end":{"line":242,"column":181,"offset":14473}}}],"position":{"start":{"line":242,"column":1,"offset":14293},"end":{"line":242,"column":181,"offset":14473}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d3e5\">","position":{"start":{"line":243,"column":5,"offset":14478},"end":{"line":243,"column":21,"offset":14494}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-user-management.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":243,"column":21,"offset":14494},"end":{"line":243,"column":137,"offset":14610}}},{"type":"raw","value":"<strong>","position":{"start":{"line":243,"column":137,"offset":14610},"end":{"line":243,"column":145,"offset":14618}}},{"type":"text","value":"SQL User Account Management [16 Exercise]","position":{"start":{"line":243,"column":145,"offset":14618},"end":{"line":243,"column":186,"offset":14659}}},{"type":"raw","value":"</strong>","position":{"start":{"line":243,"column":186,"offset":14659},"end":{"line":243,"column":195,"offset":14668}}},{"type":"raw","value":"</a>","position":{"start":{"line":243,"column":195,"offset":14668},"end":{"line":243,"column":199,"offset":14672}}},{"type":"raw","value":"</span>","position":{"start":{"line":243,"column":199,"offset":14672},"end":{"line":243,"column":206,"offset":14679}}}],"position":{"start":{"line":243,"column":1,"offset":14474},"end":{"line":243,"column":206,"offset":14679}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"e280\">","position":{"start":{"line":244,"column":5,"offset":14684},"end":{"line":244,"column":21,"offset":14700}}},{"type":"text","value":"Movie Database","position":{"start":{"line":244,"column":21,"offset":14700},"end":{"line":244,"column":35,"offset":14714}}},{"type":"raw","value":"</span>","position":{"start":{"line":244,"column":35,"offset":14714},"end":{"line":244,"column":42,"offset":14721}}}],"position":{"start":{"line":244,"column":1,"offset":14680},"end":{"line":244,"column":42,"offset":14721}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"5198\">","position":{"start":{"line":245,"column":5,"offset":14726},"end":{"line":245,"column":21,"offset":14742}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/movie-database-exercise/basic-exercises-on-movie-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":245,"column":21,"offset":14742},"end":{"line":245,"column":175,"offset":14896}}},{"type":"raw","value":"<strong>","position":{"start":{"line":245,"column":175,"offset":14896},"end":{"line":245,"column":183,"offset":14904}}},{"type":"text","value":"BASIC queries on movie Database [10 Exercises]","position":{"start":{"line":245,"column":183,"offset":14904},"end":{"line":245,"column":229,"offset":14950}}},{"type":"raw","value":"</strong>","position":{"start":{"line":245,"column":229,"offset":14950},"end":{"line":245,"column":238,"offset":14959}}},{"type":"raw","value":"</a>","position":{"start":{"line":245,"column":238,"offset":14959},"end":{"line":245,"column":242,"offset":14963}}},{"type":"raw","value":"</span>","position":{"start":{"line":245,"column":242,"offset":14963},"end":{"line":245,"column":249,"offset":14970}}}],"position":{"start":{"line":245,"column":1,"offset":14722},"end":{"line":245,"column":249,"offset":14970}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"ddd5\">","position":{"start":{"line":246,"column":5,"offset":14975},"end":{"line":246,"column":21,"offset":14991}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/movie-database-exercise/subqueries-exercises-on-movie-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":246,"column":21,"offset":14991},"end":{"line":246,"column":180,"offset":15150}}},{"type":"raw","value":"<strong>","position":{"start":{"line":246,"column":180,"offset":15150},"end":{"line":246,"column":188,"offset":15158}}},{"type":"text","value":"SUBQUERIES on movie Database [16 Exercises]","position":{"start":{"line":246,"column":188,"offset":15158},"end":{"line":246,"column":231,"offset":15201}}},{"type":"raw","value":"</strong>","position":{"start":{"line":246,"column":231,"offset":15201},"end":{"line":246,"column":240,"offset":15210}}},{"type":"raw","value":"</a>","position":{"start":{"line":246,"column":240,"offset":15210},"end":{"line":246,"column":244,"offset":15214}}},{"type":"raw","value":"</span>","position":{"start":{"line":246,"column":244,"offset":15214},"end":{"line":246,"column":251,"offset":15221}}}],"position":{"start":{"line":246,"column":1,"offset":14971},"end":{"line":246,"column":251,"offset":15221}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"5363\">","position":{"start":{"line":247,"column":5,"offset":15226},"end":{"line":247,"column":21,"offset":15242}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/movie-database-exercise/joins-exercises-on-movie-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":247,"column":21,"offset":15242},"end":{"line":247,"column":175,"offset":15396}}},{"type":"raw","value":"<strong>","position":{"start":{"line":247,"column":175,"offset":15396},"end":{"line":247,"column":183,"offset":15404}}},{"type":"text","value":"JOINS on movie Database [24 Exercises]","position":{"start":{"line":247,"column":183,"offset":15404},"end":{"line":247,"column":221,"offset":15442}}},{"type":"raw","value":"</strong>","position":{"start":{"line":247,"column":221,"offset":15442},"end":{"line":247,"column":230,"offset":15451}}},{"type":"raw","value":"</a>","position":{"start":{"line":247,"column":230,"offset":15451},"end":{"line":247,"column":234,"offset":15455}}},{"type":"raw","value":"</span>","position":{"start":{"line":247,"column":234,"offset":15455},"end":{"line":247,"column":241,"offset":15462}}}],"position":{"start":{"line":247,"column":1,"offset":15222},"end":{"line":247,"column":241,"offset":15462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"b248\">  \n</span>","position":{"start":{"line":248,"column":5,"offset":15467},"end":{"line":249,"column":12,"offset":15497}}},{"type":"text","value":"\n"}],"position":{"start":{"line":248,"column":1,"offset":15463},"end":{"line":249,"column":12,"offset":15497}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d5ba\">","position":{"start":{"line":250,"column":5,"offset":15502},"end":{"line":250,"column":21,"offset":15518}}},{"type":"text","value":"Soccer Database","position":{"start":{"line":250,"column":21,"offset":15518},"end":{"line":250,"column":36,"offset":15533}}},{"type":"raw","value":"</span>","position":{"start":{"line":250,"column":36,"offset":15533},"end":{"line":250,"column":43,"offset":15540}}}],"position":{"start":{"line":250,"column":1,"offset":15498},"end":{"line":250,"column":43,"offset":15540}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"a586\">","position":{"start":{"line":251,"column":5,"offset":15545},"end":{"line":251,"column":21,"offset":15561}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/soccer-database-exercise/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":251,"column":21,"offset":15561},"end":{"line":251,"column":148,"offset":15688}}},{"type":"raw","value":"<strong>","position":{"start":{"line":251,"column":148,"offset":15688},"end":{"line":251,"column":156,"offset":15696}}},{"type":"text","value":"Introduction","position":{"start":{"line":251,"column":156,"offset":15696},"end":{"line":251,"column":168,"offset":15708}}},{"type":"raw","value":"</strong>","position":{"start":{"line":251,"column":168,"offset":15708},"end":{"line":251,"column":177,"offset":15717}}},{"type":"raw","value":"</a>","position":{"start":{"line":251,"column":177,"offset":15717},"end":{"line":251,"column":181,"offset":15721}}},{"type":"raw","value":"</span>","position":{"start":{"line":251,"column":181,"offset":15721},"end":{"line":251,"column":188,"offset":15728}}}],"position":{"start":{"line":251,"column":1,"offset":15541},"end":{"line":251,"column":188,"offset":15728}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d585\">","position":{"start":{"line":252,"column":5,"offset":15733},"end":{"line":252,"column":21,"offset":15749}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/soccer-database-exercise/basic-exercises-on-soccer-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":252,"column":21,"offset":15749},"end":{"line":252,"column":177,"offset":15905}}},{"type":"raw","value":"<strong>","position":{"start":{"line":252,"column":177,"offset":15905},"end":{"line":252,"column":185,"offset":15913}}},{"type":"text","value":"BASIC queries on soccer Database [29 Exercises]","position":{"start":{"line":252,"column":185,"offset":15913},"end":{"line":252,"column":232,"offset":15960}}},{"type":"raw","value":"</strong>","position":{"start":{"line":252,"column":232,"offset":15960},"end":{"line":252,"column":241,"offset":15969}}},{"type":"raw","value":"</a>","position":{"start":{"line":252,"column":241,"offset":15969},"end":{"line":252,"column":245,"offset":15973}}},{"type":"raw","value":"</span>","position":{"start":{"line":252,"column":245,"offset":15973},"end":{"line":252,"column":252,"offset":15980}}}],"position":{"start":{"line":252,"column":1,"offset":15729},"end":{"line":252,"column":252,"offset":15980}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b626\">","position":{"start":{"line":253,"column":5,"offset":15985},"end":{"line":253,"column":21,"offset":16001}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/soccer-database-exercise/subqueries-exercises-on-soccer-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":253,"column":21,"offset":16001},"end":{"line":253,"column":182,"offset":16162}}},{"type":"raw","value":"<strong>","position":{"start":{"line":253,"column":182,"offset":16162},"end":{"line":253,"column":190,"offset":16170}}},{"type":"text","value":"SUBQUERIES on soccer Database [33 Exercises]","position":{"start":{"line":253,"column":190,"offset":16170},"end":{"line":253,"column":234,"offset":16214}}},{"type":"raw","value":"</strong>","position":{"start":{"line":253,"column":234,"offset":16214},"end":{"line":253,"column":243,"offset":16223}}},{"type":"raw","value":"</a>","position":{"start":{"line":253,"column":243,"offset":16223},"end":{"line":253,"column":247,"offset":16227}}},{"type":"raw","value":"</span>","position":{"start":{"line":253,"column":247,"offset":16227},"end":{"line":253,"column":254,"offset":16234}}}],"position":{"start":{"line":253,"column":1,"offset":15981},"end":{"line":253,"column":254,"offset":16234}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"95e1\">","position":{"start":{"line":254,"column":5,"offset":16239},"end":{"line":254,"column":21,"offset":16255}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/soccer-database-exercise/joins-exercises-on-soccer-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":254,"column":21,"offset":16255},"end":{"line":254,"column":177,"offset":16411}}},{"type":"raw","value":"<strong>","position":{"start":{"line":254,"column":177,"offset":16411},"end":{"line":254,"column":185,"offset":16419}}},{"type":"text","value":"JOINS queries on soccer Database [61 Exercises]","position":{"start":{"line":254,"column":185,"offset":16419},"end":{"line":254,"column":232,"offset":16466}}},{"type":"raw","value":"</strong>","position":{"start":{"line":254,"column":232,"offset":16466},"end":{"line":254,"column":241,"offset":16475}}},{"type":"raw","value":"</a>","position":{"start":{"line":254,"column":241,"offset":16475},"end":{"line":254,"column":245,"offset":16479}}},{"type":"raw","value":"</span>","position":{"start":{"line":254,"column":245,"offset":16479},"end":{"line":254,"column":252,"offset":16486}}}],"position":{"start":{"line":254,"column":1,"offset":16235},"end":{"line":254,"column":252,"offset":16486}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"05ba\">  \n</span>","position":{"start":{"line":255,"column":5,"offset":16491},"end":{"line":256,"column":12,"offset":16521}}},{"type":"text","value":"\n"}],"position":{"start":{"line":255,"column":1,"offset":16487},"end":{"line":256,"column":12,"offset":16521}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2b7b\">","position":{"start":{"line":257,"column":5,"offset":16526},"end":{"line":257,"column":21,"offset":16542}}},{"type":"text","value":"Hospital Database","position":{"start":{"line":257,"column":21,"offset":16542},"end":{"line":257,"column":38,"offset":16559}}},{"type":"raw","value":"</span>","position":{"start":{"line":257,"column":38,"offset":16559},"end":{"line":257,"column":45,"offset":16566}}}],"position":{"start":{"line":257,"column":1,"offset":16522},"end":{"line":257,"column":45,"offset":16566}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"788d\">","position":{"start":{"line":258,"column":5,"offset":16571},"end":{"line":258,"column":21,"offset":16587}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/hospital-database-exercise/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":258,"column":21,"offset":16587},"end":{"line":258,"column":150,"offset":16716}}},{"type":"raw","value":"<strong>","position":{"start":{"line":258,"column":150,"offset":16716},"end":{"line":258,"column":158,"offset":16724}}},{"type":"text","value":"Introduction","position":{"start":{"line":258,"column":158,"offset":16724},"end":{"line":258,"column":170,"offset":16736}}},{"type":"raw","value":"</strong>","position":{"start":{"line":258,"column":170,"offset":16736},"end":{"line":258,"column":179,"offset":16745}}},{"type":"raw","value":"</a>","position":{"start":{"line":258,"column":179,"offset":16745},"end":{"line":258,"column":183,"offset":16749}}},{"type":"raw","value":"</span>","position":{"start":{"line":258,"column":183,"offset":16749},"end":{"line":258,"column":190,"offset":16756}}}],"position":{"start":{"line":258,"column":1,"offset":16567},"end":{"line":258,"column":190,"offset":16756}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0c32\">","position":{"start":{"line":259,"column":5,"offset":16761},"end":{"line":259,"column":21,"offset":16777}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/hospital-database-exercise/sql-exercise-on-hospital-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":259,"column":21,"offset":16777},"end":{"line":259,"column":178,"offset":16934}}},{"type":"raw","value":"<strong>","position":{"start":{"line":259,"column":178,"offset":16934},"end":{"line":259,"column":186,"offset":16942}}},{"type":"text","value":"BASIC, SUBQUERIES, and JOINS [39 Exercises]","position":{"start":{"line":259,"column":186,"offset":16942},"end":{"line":259,"column":229,"offset":16985}}},{"type":"raw","value":"</strong>","position":{"start":{"line":259,"column":229,"offset":16985},"end":{"line":259,"column":238,"offset":16994}}},{"type":"raw","value":"</a>","position":{"start":{"line":259,"column":238,"offset":16994},"end":{"line":259,"column":242,"offset":16998}}},{"type":"raw","value":"</span>","position":{"start":{"line":259,"column":242,"offset":16998},"end":{"line":259,"column":249,"offset":17005}}}],"position":{"start":{"line":259,"column":1,"offset":16757},"end":{"line":259,"column":249,"offset":17005}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"228b\">  \n</span>","position":{"start":{"line":260,"column":5,"offset":17010},"end":{"line":261,"column":12,"offset":17040}}},{"type":"text","value":"\n"}],"position":{"start":{"line":260,"column":1,"offset":17006},"end":{"line":261,"column":12,"offset":17040}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"54d4\">","position":{"start":{"line":262,"column":5,"offset":17045},"end":{"line":262,"column":21,"offset":17061}}},{"type":"text","value":"Employee Database","position":{"start":{"line":262,"column":21,"offset":17061},"end":{"line":262,"column":38,"offset":17078}}},{"type":"raw","value":"</span>","position":{"start":{"line":262,"column":38,"offset":17078},"end":{"line":262,"column":45,"offset":17085}}}],"position":{"start":{"line":262,"column":1,"offset":17041},"end":{"line":262,"column":45,"offset":17085}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c6fb\">","position":{"start":{"line":263,"column":5,"offset":17090},"end":{"line":263,"column":21,"offset":17106}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/employee-database-exercise/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":263,"column":21,"offset":17106},"end":{"line":263,"column":150,"offset":17235}}},{"type":"raw","value":"<strong>","position":{"start":{"line":263,"column":150,"offset":17235},"end":{"line":263,"column":158,"offset":17243}}},{"type":"text","value":"BASIC queries on employee Database [115 Exercises]","position":{"start":{"line":263,"column":158,"offset":17243},"end":{"line":263,"column":208,"offset":17293}}},{"type":"raw","value":"</strong>","position":{"start":{"line":263,"column":208,"offset":17293},"end":{"line":263,"column":217,"offset":17302}}},{"type":"raw","value":"</a>","position":{"start":{"line":263,"column":217,"offset":17302},"end":{"line":263,"column":221,"offset":17306}}},{"type":"raw","value":"</span>","position":{"start":{"line":263,"column":221,"offset":17306},"end":{"line":263,"column":228,"offset":17313}}}],"position":{"start":{"line":263,"column":1,"offset":17086},"end":{"line":263,"column":228,"offset":17313}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0419\">","position":{"start":{"line":264,"column":5,"offset":17318},"end":{"line":264,"column":21,"offset":17334}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/employee-database-exercise/subqueries-exercises-on-employee-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":264,"column":21,"offset":17334},"end":{"line":264,"column":186,"offset":17499}}},{"type":"raw","value":"<strong>","position":{"start":{"line":264,"column":186,"offset":17499},"end":{"line":264,"column":194,"offset":17507}}},{"type":"text","value":"SUBQUERIES on employee Database [77 Exercises]","position":{"start":{"line":264,"column":194,"offset":17507},"end":{"line":264,"column":240,"offset":17553}}},{"type":"raw","value":"</strong>","position":{"start":{"line":264,"column":240,"offset":17553},"end":{"line":264,"column":249,"offset":17562}}},{"type":"raw","value":"</a>","position":{"start":{"line":264,"column":249,"offset":17562},"end":{"line":264,"column":253,"offset":17566}}},{"type":"raw","value":"</span>","position":{"start":{"line":264,"column":253,"offset":17566},"end":{"line":264,"column":260,"offset":17573}}}],"position":{"start":{"line":264,"column":1,"offset":17314},"end":{"line":264,"column":260,"offset":17573}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"cb3e\">  \n</span>","position":{"start":{"line":265,"column":5,"offset":17578},"end":{"line":266,"column":12,"offset":17608}}},{"type":"text","value":"\n"}],"position":{"start":{"line":265,"column":1,"offset":17574},"end":{"line":266,"column":12,"offset":17608}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b3da\">","position":{"start":{"line":267,"column":5,"offset":17613},"end":{"line":267,"column":21,"offset":17629}}},{"type":"text","value":"More to come!","position":{"start":{"line":267,"column":21,"offset":17629},"end":{"line":267,"column":34,"offset":17642}}},{"type":"raw","value":"</span>","position":{"start":{"line":267,"column":34,"offset":17642},"end":{"line":267,"column":41,"offset":17649}}}],"position":{"start":{"line":267,"column":1,"offset":17609},"end":{"line":267,"column":41,"offset":17649}}},{"type":"text","value":"\n"}],"position":{"start":{"line":223,"column":1,"offset":11435},"end":{"line":267,"column":41,"offset":17649}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Objective 3 — write database access methods","position":{"start":{"line":269,"column":5,"offset":17655},"end":{"line":269,"column":48,"offset":17698}}}],"position":{"start":{"line":269,"column":1,"offset":17651},"end":{"line":269,"column":48,"offset":17698}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":271,"column":5,"offset":17704},"end":{"line":271,"column":13,"offset":17712}}}],"position":{"start":{"line":271,"column":1,"offset":17700},"end":{"line":271,"column":13,"offset":17712}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While we can write database code directly into our endpoints, best practices dictate that all database logic exists in separate, modular methods. These files containing database access helpers are often called ","position":{"start":{"line":273,"column":1,"offset":17714},"end":{"line":273,"column":211,"offset":17924}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"models","position":{"start":{"line":273,"column":213,"offset":17926},"end":{"line":273,"column":219,"offset":17932}}}],"position":{"start":{"line":273,"column":211,"offset":17924},"end":{"line":273,"column":221,"offset":17934}}}],"position":{"start":{"line":273,"column":1,"offset":17714},"end":{"line":273,"column":221,"offset":17934}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":275,"column":5,"offset":17940},"end":{"line":275,"column":17,"offset":17952}}}],"position":{"start":{"line":275,"column":1,"offset":17936},"end":{"line":275,"column":17,"offset":17952}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To handle CRUD operations for a single resource, we would want to create a ","position":{"start":{"line":277,"column":1,"offset":17954},"end":{"line":277,"column":76,"offset":18029}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"model","position":{"start":{"line":277,"column":78,"offset":18031},"end":{"line":277,"column":83,"offset":18036}}}],"position":{"start":{"line":277,"column":76,"offset":18029},"end":{"line":277,"column":85,"offset":18038}}},{"type":"text","value":" (or database access file) containing the following methods:","position":{"start":{"line":277,"column":85,"offset":18038},"end":{"line":277,"column":145,"offset":18098}}}],"position":{"start":{"line":277,"column":1,"offset":17954},"end":{"line":277,"column":145,"offset":18098}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n}\n\nfunction findById(id) {\n}\n\nfunction add(user) {\n}\n\nfunction update(changes, id) {\n}\n\nfunction remove(id) {\n}\n"}],"position":{"start":{"line":279,"column":1,"offset":18100},"end":{"line":292,"column":6,"offset":18269}}}],"position":{"start":{"line":279,"column":1,"offset":18100},"end":{"line":292,"column":6,"offset":18269}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each of these functions would use Knex logic to perform the necessary database operation.","position":{"start":{"line":294,"column":1,"offset":18271},"end":{"line":294,"column":90,"offset":18360}}}],"position":{"start":{"line":294,"column":1,"offset":18271},"end":{"line":294,"column":90,"offset":18360}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n  return db('users');\n}\n"}],"position":{"start":{"line":296,"column":1,"offset":18362},"end":{"line":298,"column":6,"offset":18415}}}],"position":{"start":{"line":296,"column":1,"offset":18362},"end":{"line":298,"column":6,"offset":18415}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For each method, we can choose what value to return. For example, we may prefer ","position":{"start":{"line":300,"column":1,"offset":18417},"end":{"line":300,"column":81,"offset":18497}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":300,"column":81,"offset":18497},"end":{"line":300,"column":93,"offset":18509}}},{"type":"text","value":" to return a single ","position":{"start":{"line":300,"column":93,"offset":18509},"end":{"line":300,"column":113,"offset":18529}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"user"}],"position":{"start":{"line":300,"column":113,"offset":18529},"end":{"line":300,"column":119,"offset":18535}}},{"type":"text","value":" object rather than an array.","position":{"start":{"line":300,"column":119,"offset":18535},"end":{"line":300,"column":148,"offset":18564}}}],"position":{"start":{"line":300,"column":1,"offset":18417},"end":{"line":300,"column":148,"offset":18564}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function findById(id) {\n// first() returns the first entry in the db matching the query\n  return db('users').where({ id }).first();\n}\n"}],"position":{"start":{"line":302,"column":1,"offset":18566},"end":{"line":305,"column":6,"offset":18715}}}],"position":{"start":{"line":302,"column":1,"offset":18566},"end":{"line":305,"column":6,"offset":18715}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can also use existing methods like ","position":{"start":{"line":307,"column":1,"offset":18717},"end":{"line":307,"column":39,"offset":18755}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":307,"column":39,"offset":18755},"end":{"line":307,"column":51,"offset":18767}}},{"type":"text","value":" to help ","position":{"start":{"line":307,"column":51,"offset":18767},"end":{"line":307,"column":60,"offset":18776}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"add()"}],"position":{"start":{"line":307,"column":60,"offset":18776},"end":{"line":307,"column":67,"offset":18783}}},{"type":"text","value":" return the new user (instead of just the id).","position":{"start":{"line":307,"column":67,"offset":18783},"end":{"line":307,"column":113,"offset":18829}}}],"position":{"start":{"line":307,"column":1,"offset":18717},"end":{"line":307,"column":113,"offset":18829}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function add(user) {\n  db('users').insert(user)\n    .then(ids => {\n      return findById(ids[0]);\n    });\n}\n"}],"position":{"start":{"line":309,"column":1,"offset":18831},"end":{"line":314,"column":6,"offset":18962}}}],"position":{"start":{"line":309,"column":1,"offset":18831},"end":{"line":314,"column":6,"offset":18962}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once all methods are written as desired, we can export them like so:","position":{"start":{"line":316,"column":1,"offset":18964},"end":{"line":316,"column":69,"offset":19032}}}],"position":{"start":{"line":316,"column":1,"offset":18964},"end":{"line":316,"column":69,"offset":19032}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n  find,\n  findById,\n  add,\n  update,\n  delete,\n}\n"}],"position":{"start":{"line":318,"column":1,"offset":19034},"end":{"line":324,"column":6,"offset":19129}}}],"position":{"start":{"line":318,"column":1,"offset":19034},"end":{"line":324,"column":6,"offset":19129}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"…and use the helpers in our endpoints","position":{"start":{"line":326,"column":1,"offset":19131},"end":{"line":326,"column":38,"offset":19168}}}],"position":{"start":{"line":326,"column":1,"offset":19131},"end":{"line":326,"column":38,"offset":19168}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const User = require('./user-model.js');\n\nrouter.get('/', (req, res) => {\n  User.find()\n    .then(users => {\n      res.json(users);\n    })\n    .catch(&nbsp;err => {});\n});\n"}],"position":{"start":{"line":328,"column":1,"offset":19170},"end":{"line":336,"column":8,"offset":19373}}}],"position":{"start":{"line":328,"column":1,"offset":19170},"end":{"line":336,"column":8,"offset":19373}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There should no be ","position":{"start":{"line":338,"column":1,"offset":19375},"end":{"line":338,"column":20,"offset":19394}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":338,"column":20,"offset":19394},"end":{"line":338,"column":26,"offset":19400}}},{"type":"text","value":" code in the endpoints themselves.","position":{"start":{"line":338,"column":26,"offset":19400},"end":{"line":338,"column":60,"offset":19434}}}],"position":{"start":{"line":338,"column":1,"offset":19375},"end":{"line":338,"column":60,"offset":19434}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>","position":{"start":{"line":340,"column":1,"offset":19436},"end":{"line":340,"column":119,"offset":19554}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### A database is a collection of data organized for easy retrieval and manipulation.","position":{"start":{"line":342,"column":1,"offset":19556},"end":{"line":342,"column":204,"offset":19759}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’re concerned only with digital databases, those that run on computers or other electronic devices. Digital databases have been around since the 1960s. Relational databases, those which store “related” data, are the oldest and most common type of database in use today.","position":{"start":{"line":344,"column":1,"offset":19761},"end":{"line":344,"column":272,"offset":20032}}}],"position":{"start":{"line":344,"column":1,"offset":19761},"end":{"line":344,"column":272,"offset":20032}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Data Persistence","position":{"start":{"line":346,"column":5,"offset":20038},"end":{"line":346,"column":21,"offset":20054}}}],"position":{"start":{"line":346,"column":1,"offset":20034},"end":{"line":346,"column":21,"offset":20054}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A database is often necessary because our application or code requires data persistence. This term refers to data that is infrequently accessed and not likely to be modified. In less technical terms, the information will be safely stored and remain untouched unless intentionally modified.","position":{"start":{"line":348,"column":1,"offset":20056},"end":{"line":348,"column":290,"offset":20345}}}],"position":{"start":{"line":348,"column":1,"offset":20056},"end":{"line":348,"column":290,"offset":20345}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A familiar example of non-persistent data would be JavaScript objects and arrays, which reset each time the code runs.","position":{"start":{"line":350,"column":1,"offset":20347},"end":{"line":350,"column":119,"offset":20465}}}],"position":{"start":{"line":350,"column":1,"offset":20347},"end":{"line":350,"column":119,"offset":20465}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Relational Databases","position":{"start":{"line":352,"column":5,"offset":20471},"end":{"line":352,"column":25,"offset":20491}}}],"position":{"start":{"line":352,"column":1,"offset":20467},"end":{"line":352,"column":25,"offset":20491}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In relational databases, ","position":{"start":{"line":354,"column":1,"offset":20493},"end":{"line":354,"column":26,"offset":20518}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"the data is stored in tabular format grouped into rows and columns","position":{"start":{"line":354,"column":28,"offset":20520},"end":{"line":354,"column":94,"offset":20586}}}],"position":{"start":{"line":354,"column":26,"offset":20518},"end":{"line":354,"column":96,"offset":20588}}},{"type":"text","value":" (similar to spreadsheets). A collection of rows is called a table. Each row represents a single record in the table and is made up of one or more columns.","position":{"start":{"line":354,"column":96,"offset":20588},"end":{"line":354,"column":251,"offset":20743}}}],"position":{"start":{"line":354,"column":1,"offset":20493},"end":{"line":354,"column":251,"offset":20743}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These kinds of databases are relational because a ","position":{"start":{"line":356,"column":1,"offset":20745},"end":{"line":356,"column":51,"offset":20795}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"relation","position":{"start":{"line":356,"column":52,"offset":20796},"end":{"line":356,"column":60,"offset":20804}}}],"position":{"start":{"line":356,"column":51,"offset":20795},"end":{"line":356,"column":61,"offset":20805}}},{"type":"text","value":" is a mathematical idea equivalent to a table. So relational databases are databases that store their data in tables.","position":{"start":{"line":356,"column":61,"offset":20805},"end":{"line":356,"column":178,"offset":20922}}}],"position":{"start":{"line":356,"column":1,"offset":20745},"end":{"line":356,"column":178,"offset":20922}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Tables","position":{"start":{"line":358,"column":5,"offset":20928},"end":{"line":358,"column":11,"offset":20934}}}],"position":{"start":{"line":358,"column":1,"offset":20924},"end":{"line":358,"column":11,"offset":20934}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Below are some basic facts about tables:","position":{"start":{"line":360,"column":3,"offset":20938},"end":{"line":360,"column":43,"offset":20978}}}],"position":{"start":{"line":360,"column":1,"offset":20936},"end":{"line":360,"column":45,"offset":20980}}}],"position":{"start":{"line":360,"column":1,"offset":20936},"end":{"line":360,"column":45,"offset":20980}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tables organize data in rows and columns.","position":{"start":{"line":362,"column":3,"offset":20984},"end":{"line":362,"column":44,"offset":21025}}}],"position":{"start":{"line":362,"column":3,"offset":20984},"end":{"line":362,"column":44,"offset":21025}}},{"type":"text","value":"\n"}],"position":{"start":{"line":362,"column":1,"offset":20982},"end":{"line":362,"column":44,"offset":21025}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each row in a table represents one distinct record.","position":{"start":{"line":364,"column":3,"offset":21029},"end":{"line":364,"column":54,"offset":21080}}}],"position":{"start":{"line":364,"column":3,"offset":21029},"end":{"line":364,"column":54,"offset":21080}}},{"type":"text","value":"\n"}],"position":{"start":{"line":364,"column":1,"offset":21027},"end":{"line":364,"column":54,"offset":21080}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each column represents a field or attribute that is common to all the records.","position":{"start":{"line":366,"column":3,"offset":21084},"end":{"line":366,"column":81,"offset":21162}}}],"position":{"start":{"line":366,"column":3,"offset":21084},"end":{"line":366,"column":81,"offset":21162}}},{"type":"text","value":"\n"}],"position":{"start":{"line":366,"column":1,"offset":21082},"end":{"line":366,"column":81,"offset":21162}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fields should have a descriptive name and a data type appropriate for the attribute it represents.","position":{"start":{"line":368,"column":3,"offset":21166},"end":{"line":368,"column":101,"offset":21264}}}],"position":{"start":{"line":368,"column":3,"offset":21166},"end":{"line":368,"column":101,"offset":21264}}},{"type":"text","value":"\n"}],"position":{"start":{"line":368,"column":1,"offset":21164},"end":{"line":368,"column":101,"offset":21264}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tables usually have more rows than columns.","position":{"start":{"line":370,"column":3,"offset":21268},"end":{"line":370,"column":46,"offset":21311}}}],"position":{"start":{"line":370,"column":3,"offset":21268},"end":{"line":370,"column":46,"offset":21311}}},{"type":"text","value":"\n"}],"position":{"start":{"line":370,"column":1,"offset":21266},"end":{"line":370,"column":46,"offset":21311}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tables have primary keys that uniquely identify each row.","position":{"start":{"line":372,"column":3,"offset":21315},"end":{"line":372,"column":60,"offset":21372}}}],"position":{"start":{"line":372,"column":3,"offset":21315},"end":{"line":372,"column":60,"offset":21372}}},{"type":"text","value":"\n"}],"position":{"start":{"line":372,"column":1,"offset":21313},"end":{"line":372,"column":60,"offset":21372}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Foreign keys represent the relationships with other tables.","position":{"start":{"line":374,"column":3,"offset":21376},"end":{"line":374,"column":62,"offset":21435}}}],"position":{"start":{"line":374,"column":3,"offset":21376},"end":{"line":374,"column":62,"offset":21435}}},{"type":"text","value":"\n"}],"position":{"start":{"line":374,"column":1,"offset":21374},"end":{"line":374,"column":62,"offset":21435}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*7ZPYzWNRcs2PBL6p.jpg\" class=\"graf-image\" /></figure><figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### SQL:","position":{"start":{"line":376,"column":1,"offset":21437},"end":{"line":376,"column":239,"offset":21675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQL is a standard language, which means that it almost certainly will be supported, no matter how your database is managed. That said, be aware that the SQL language can vary depending on database management tools. This lesson focuses on a set of core commands that never change. Learning the standard commands is an excellent introduction since the knowledge transfers between database products.","position":{"start":{"line":378,"column":1,"offset":21677},"end":{"line":378,"column":397,"offset":22073}}}],"position":{"start":{"line":378,"column":1,"offset":21677},"end":{"line":378,"column":397,"offset":22073}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The syntax for SQL is English-like and requires fewer symbols than programming languages like C, Java, and JavaScript.","position":{"start":{"line":380,"column":1,"offset":22075},"end":{"line":380,"column":119,"offset":22193}}}],"position":{"start":{"line":380,"column":1,"offset":22075},"end":{"line":380,"column":119,"offset":22193}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is declarative and concise, which means there is a lot less to learn to use it effectively.","position":{"start":{"line":382,"column":1,"offset":22195},"end":{"line":382,"column":95,"offset":22289}}}],"position":{"start":{"line":382,"column":1,"offset":22195},"end":{"line":382,"column":95,"offset":22289}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When learning SQL, it is helpful to understand that each command is designed for a different purpose. If we classify the commands by purpose, we’ll end up with the following sub-categories of SQL:","position":{"start":{"line":384,"column":1,"offset":22291},"end":{"line":384,"column":197,"offset":22487}}}],"position":{"start":{"line":384,"column":1,"offset":22291},"end":{"line":384,"column":197,"offset":22487}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"aba8\">","position":{"start":{"line":386,"column":5,"offset":22493},"end":{"line":386,"column":21,"offset":22509}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Definition Language (DDL)","position":{"start":{"line":386,"column":23,"offset":22511},"end":{"line":386,"column":53,"offset":22541}}}],"position":{"start":{"line":386,"column":21,"offset":22509},"end":{"line":386,"column":55,"offset":22543}}},{"type":"text","value":": used to modify database objects. Some examples are: ","position":{"start":{"line":386,"column":55,"offset":22543},"end":{"line":386,"column":109,"offset":22597}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"CREATE TABLE"}],"position":{"start":{"line":386,"column":109,"offset":22597},"end":{"line":386,"column":123,"offset":22611}}},{"type":"text","value":", ","position":{"start":{"line":386,"column":123,"offset":22611},"end":{"line":386,"column":125,"offset":22613}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ALTER TABLE"}],"position":{"start":{"line":386,"column":125,"offset":22613},"end":{"line":386,"column":138,"offset":22626}}},{"type":"text","value":", and ","position":{"start":{"line":386,"column":138,"offset":22626},"end":{"line":386,"column":144,"offset":22632}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DROP TABLE"}],"position":{"start":{"line":386,"column":144,"offset":22632},"end":{"line":386,"column":156,"offset":22644}}},{"type":"text","value":".","position":{"start":{"line":386,"column":156,"offset":22644},"end":{"line":386,"column":157,"offset":22645}}},{"type":"raw","value":"</span>","position":{"start":{"line":386,"column":157,"offset":22645},"end":{"line":386,"column":164,"offset":22652}}}],"position":{"start":{"line":386,"column":1,"offset":22489},"end":{"line":386,"column":164,"offset":22652}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4f3f\">","position":{"start":{"line":387,"column":5,"offset":22657},"end":{"line":387,"column":21,"offset":22673}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Manipulation Language (DML)","position":{"start":{"line":387,"column":23,"offset":22675},"end":{"line":387,"column":55,"offset":22707}}}],"position":{"start":{"line":387,"column":21,"offset":22673},"end":{"line":387,"column":57,"offset":22709}}},{"type":"text","value":": used to manipulate the data stored in the database. Some examples are: ","position":{"start":{"line":387,"column":57,"offset":22709},"end":{"line":387,"column":130,"offset":22782}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":387,"column":130,"offset":22782},"end":{"line":387,"column":138,"offset":22790}}},{"type":"text","value":", ","position":{"start":{"line":387,"column":138,"offset":22790},"end":{"line":387,"column":140,"offset":22792}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":387,"column":140,"offset":22792},"end":{"line":387,"column":148,"offset":22800}}},{"type":"text","value":", and ","position":{"start":{"line":387,"column":148,"offset":22800},"end":{"line":387,"column":154,"offset":22806}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE"}],"position":{"start":{"line":387,"column":154,"offset":22806},"end":{"line":387,"column":162,"offset":22814}}},{"type":"text","value":".","position":{"start":{"line":387,"column":162,"offset":22814},"end":{"line":387,"column":163,"offset":22815}}},{"type":"raw","value":"</span>","position":{"start":{"line":387,"column":163,"offset":22815},"end":{"line":387,"column":170,"offset":22822}}}],"position":{"start":{"line":387,"column":1,"offset":22653},"end":{"line":387,"column":170,"offset":22822}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"e1f2\">","position":{"start":{"line":388,"column":5,"offset":22827},"end":{"line":388,"column":21,"offset":22843}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Query Language (DQL)","position":{"start":{"line":388,"column":23,"offset":22845},"end":{"line":388,"column":48,"offset":22870}}}],"position":{"start":{"line":388,"column":21,"offset":22843},"end":{"line":388,"column":50,"offset":22872}}},{"type":"text","value":": used to ask questions about the data stored in the database. The most commonly used SQL command is ","position":{"start":{"line":388,"column":50,"offset":22872},"end":{"line":388,"column":151,"offset":22973}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":388,"column":151,"offset":22973},"end":{"line":388,"column":159,"offset":22981}}},{"type":"text","value":", and it falls in this category.","position":{"start":{"line":388,"column":159,"offset":22981},"end":{"line":388,"column":191,"offset":23013}}},{"type":"raw","value":"</span>","position":{"start":{"line":388,"column":191,"offset":23013},"end":{"line":388,"column":198,"offset":23020}}}],"position":{"start":{"line":388,"column":1,"offset":22823},"end":{"line":388,"column":198,"offset":23020}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4474\">","position":{"start":{"line":389,"column":5,"offset":23025},"end":{"line":389,"column":21,"offset":23041}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Control Language (DCL)","position":{"start":{"line":389,"column":23,"offset":23043},"end":{"line":389,"column":50,"offset":23070}}}],"position":{"start":{"line":389,"column":21,"offset":23041},"end":{"line":389,"column":52,"offset":23072}}},{"type":"text","value":": used to manage database security and user’s access to data. These commands fall into the realm of Database Administrators. Some examples are ","position":{"start":{"line":389,"column":52,"offset":23072},"end":{"line":389,"column":195,"offset":23215}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GRANT"}],"position":{"start":{"line":389,"column":195,"offset":23215},"end":{"line":389,"column":202,"offset":23222}}},{"type":"text","value":" and ","position":{"start":{"line":389,"column":202,"offset":23222},"end":{"line":389,"column":207,"offset":23227}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"REVOKE"}],"position":{"start":{"line":389,"column":207,"offset":23227},"end":{"line":389,"column":215,"offset":23235}}},{"type":"text","value":".","position":{"start":{"line":389,"column":215,"offset":23235},"end":{"line":389,"column":216,"offset":23236}}},{"type":"raw","value":"</span>","position":{"start":{"line":389,"column":216,"offset":23236},"end":{"line":389,"column":223,"offset":23243}}}],"position":{"start":{"line":389,"column":1,"offset":23021},"end":{"line":389,"column":223,"offset":23243}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"921b\">","position":{"start":{"line":390,"column":5,"offset":23248},"end":{"line":390,"column":21,"offset":23264}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Transaction Control Commands","position":{"start":{"line":390,"column":23,"offset":23266},"end":{"line":390,"column":51,"offset":23294}}}],"position":{"start":{"line":390,"column":21,"offset":23264},"end":{"line":390,"column":53,"offset":23296}}},{"type":"text","value":": used for managing groups of statements that must execute as a unit or not execute at all. Examples are ","position":{"start":{"line":390,"column":53,"offset":23296},"end":{"line":390,"column":158,"offset":23401}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"COMMIT"}],"position":{"start":{"line":390,"column":158,"offset":23401},"end":{"line":390,"column":166,"offset":23409}}},{"type":"text","value":" and ","position":{"start":{"line":390,"column":166,"offset":23409},"end":{"line":390,"column":171,"offset":23414}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ROLLBACK"}],"position":{"start":{"line":390,"column":171,"offset":23414},"end":{"line":390,"column":181,"offset":23424}}},{"type":"text","value":".","position":{"start":{"line":390,"column":181,"offset":23424},"end":{"line":390,"column":182,"offset":23425}}},{"type":"raw","value":"</span>","position":{"start":{"line":390,"column":182,"offset":23425},"end":{"line":390,"column":189,"offset":23432}}}],"position":{"start":{"line":390,"column":1,"offset":23244},"end":{"line":390,"column":189,"offset":23432}}},{"type":"text","value":"\n"}],"position":{"start":{"line":386,"column":1,"offset":22489},"end":{"line":390,"column":189,"offset":23432}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As a developer, you’ll need to get familiar with DDL and become proficient using DML and DQL. This lesson will cover only DML and DQL commands.","position":{"start":{"line":392,"column":1,"offset":23434},"end":{"line":392,"column":144,"offset":23577}}}],"position":{"start":{"line":392,"column":1,"offset":23434},"end":{"line":392,"column":144,"offset":23577}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":394,"column":1,"offset":23579},"end":{"line":394,"column":4,"offset":23582}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>The four SQL operations covered in this section will allow a user to **query**, **insert**, and **modify** a database table.","position":{"start":{"line":396,"column":1,"offset":23584},"end":{"line":396,"column":243,"offset":23826}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Query","position":{"start":{"line":398,"column":5,"offset":23832},"end":{"line":398,"column":10,"offset":23837}}}],"position":{"start":{"line":398,"column":1,"offset":23828},"end":{"line":398,"column":10,"offset":23837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":400,"column":1,"offset":23839},"end":{"line":400,"column":3,"offset":23841}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"query","position":{"start":{"line":400,"column":5,"offset":23843},"end":{"line":400,"column":10,"offset":23848}}}],"position":{"start":{"line":400,"column":3,"offset":23841},"end":{"line":400,"column":12,"offset":23850}}},{"type":"text","value":" is a SQL statement used to retrieve data from a database. The command used to write queries is ","position":{"start":{"line":400,"column":12,"offset":23850},"end":{"line":400,"column":108,"offset":23946}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":400,"column":108,"offset":23946},"end":{"line":400,"column":116,"offset":23954}}},{"type":"text","value":", and it is one of the most commonly used SQL commands.","position":{"start":{"line":400,"column":116,"offset":23954},"end":{"line":400,"column":171,"offset":24009}}}],"position":{"start":{"line":400,"column":1,"offset":23839},"end":{"line":400,"column":171,"offset":24009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The basic syntax for a ","position":{"start":{"line":402,"column":1,"offset":24011},"end":{"line":402,"column":24,"offset":24034}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":402,"column":24,"offset":24034},"end":{"line":402,"column":32,"offset":24042}}},{"type":"text","value":" statement is this:","position":{"start":{"line":402,"column":32,"offset":24042},"end":{"line":402,"column":51,"offset":24061}}}],"position":{"start":{"line":402,"column":1,"offset":24011},"end":{"line":402,"column":51,"offset":24061}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select <selection> from <table name>;\n"}],"position":{"start":{"line":404,"column":1,"offset":24063},"end":{"line":404,"column":42,"offset":24104}}}],"position":{"start":{"line":404,"column":1,"offset":24063},"end":{"line":404,"column":42,"offset":24104}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To see all the fields on a table, we can use a ","position":{"start":{"line":406,"column":1,"offset":24106},"end":{"line":406,"column":48,"offset":24153}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"*"}],"position":{"start":{"line":406,"column":48,"offset":24153},"end":{"line":406,"column":51,"offset":24156}}},{"type":"text","value":" as the ","position":{"start":{"line":406,"column":51,"offset":24156},"end":{"line":406,"column":59,"offset":24164}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"selection"}],"position":{"start":{"line":406,"column":59,"offset":24164},"end":{"line":406,"column":70,"offset":24175}}},{"type":"text","value":".","position":{"start":{"line":406,"column":70,"offset":24175},"end":{"line":406,"column":71,"offset":24176}}}],"position":{"start":{"line":406,"column":1,"offset":24106},"end":{"line":406,"column":71,"offset":24176}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees;\n"}],"position":{"start":{"line":408,"column":1,"offset":24178},"end":{"line":408,"column":29,"offset":24206}}}],"position":{"start":{"line":408,"column":1,"offset":24178},"end":{"line":408,"column":29,"offset":24206}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The preceding statement would show all the records and all the columns for each record in the ","position":{"start":{"line":410,"column":1,"offset":24208},"end":{"line":410,"column":95,"offset":24302}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"employees"}],"position":{"start":{"line":410,"column":95,"offset":24302},"end":{"line":410,"column":106,"offset":24313}}},{"type":"text","value":" table.","position":{"start":{"line":410,"column":106,"offset":24313},"end":{"line":410,"column":113,"offset":24320}}}],"position":{"start":{"line":410,"column":1,"offset":24208},"end":{"line":410,"column":113,"offset":24320}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To pick the fields we want to see, we use a comma-separated list:","position":{"start":{"line":412,"column":1,"offset":24322},"end":{"line":412,"column":66,"offset":24387}}}],"position":{"start":{"line":412,"column":1,"offset":24322},"end":{"line":412,"column":66,"offset":24387}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select first_name, last_name, salary from employees;\n"}],"position":{"start":{"line":414,"column":1,"offset":24389},"end":{"line":414,"column":57,"offset":24445}}}],"position":{"start":{"line":414,"column":1,"offset":24389},"end":{"line":414,"column":57,"offset":24445}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The return of that statement would hold all records from the listed fields.","position":{"start":{"line":416,"column":1,"offset":24447},"end":{"line":416,"column":76,"offset":24522}}}],"position":{"start":{"line":416,"column":1,"offset":24447},"end":{"line":416,"column":76,"offset":24522}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can extend the ","position":{"start":{"line":418,"column":1,"offset":24524},"end":{"line":418,"column":19,"offset":24542}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":418,"column":19,"offset":24542},"end":{"line":418,"column":27,"offset":24550}}},{"type":"text","value":" command's capabilities using ","position":{"start":{"line":418,"column":27,"offset":24550},"end":{"line":418,"column":57,"offset":24580}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"clauses"}],"position":{"start":{"line":418,"column":57,"offset":24580},"end":{"line":418,"column":66,"offset":24589}}},{"type":"text","value":" for things like filtering, sorting, pagination, and more.","position":{"start":{"line":418,"column":66,"offset":24589},"end":{"line":418,"column":124,"offset":24647}}}],"position":{"start":{"line":418,"column":1,"offset":24524},"end":{"line":418,"column":124,"offset":24647}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is possible to query multiple tables in a single query. But, in this section, we only perform queries on a single table. We will cover performing queries on multiple tables in another section.","position":{"start":{"line":420,"column":1,"offset":24649},"end":{"line":420,"column":196,"offset":24844}}}],"position":{"start":{"line":420,"column":1,"offset":24649},"end":{"line":420,"column":196,"offset":24844}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Insert","position":{"start":{"line":422,"column":5,"offset":24850},"end":{"line":422,"column":11,"offset":24856}}}],"position":{"start":{"line":422,"column":1,"offset":24846},"end":{"line":422,"column":11,"offset":24856}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To ","position":{"start":{"line":424,"column":1,"offset":24858},"end":{"line":424,"column":4,"offset":24861}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"insert","position":{"start":{"line":424,"column":6,"offset":24863},"end":{"line":424,"column":12,"offset":24869}}}],"position":{"start":{"line":424,"column":4,"offset":24861},"end":{"line":424,"column":14,"offset":24871}}},{"type":"text","value":" new data into a table, we’ll use the ","position":{"start":{"line":424,"column":14,"offset":24871},"end":{"line":424,"column":52,"offset":24909}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":424,"column":52,"offset":24909},"end":{"line":424,"column":60,"offset":24917}}},{"type":"text","value":" command. The basic syntax for an ","position":{"start":{"line":424,"column":60,"offset":24917},"end":{"line":424,"column":94,"offset":24951}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":424,"column":94,"offset":24951},"end":{"line":424,"column":102,"offset":24959}}},{"type":"text","value":" statement is this:","position":{"start":{"line":424,"column":102,"offset":24959},"end":{"line":424,"column":121,"offset":24978}}}],"position":{"start":{"line":424,"column":1,"offset":24858},"end":{"line":424,"column":121,"offset":24978}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"insert into <table name> (<selection>) values (<values>)\n"}],"position":{"start":{"line":426,"column":1,"offset":24980},"end":{"line":426,"column":61,"offset":25040}}}],"position":{"start":{"line":426,"column":1,"offset":24980},"end":{"line":426,"column":61,"offset":25040}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using this formula, we can specify which values will be inserted into which fields like so:","position":{"start":{"line":428,"column":1,"offset":25042},"end":{"line":428,"column":92,"offset":25133}}}],"position":{"start":{"line":428,"column":1,"offset":25042},"end":{"line":428,"column":92,"offset":25133}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"insert into Customers (Country, CustomerName, ContactName, Address, City, PostalCode)\nvalues ('USA', 'WebDev School', 'Austen Allred', '1 WebDev Court', 'Provo', '84601');\n"}],"position":{"start":{"line":430,"column":1,"offset":25135},"end":{"line":431,"column":90,"offset":25314}}}],"position":{"start":{"line":430,"column":1,"offset":25135},"end":{"line":431,"column":90,"offset":25314}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Modify","position":{"start":{"line":433,"column":5,"offset":25320},"end":{"line":433,"column":11,"offset":25326}}}],"position":{"start":{"line":433,"column":1,"offset":25316},"end":{"line":433,"column":11,"offset":25326}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Modifying","position":{"start":{"line":435,"column":3,"offset":25330},"end":{"line":435,"column":12,"offset":25339}}}],"position":{"start":{"line":435,"column":1,"offset":25328},"end":{"line":435,"column":14,"offset":25341}}},{"type":"text","value":" a database consists of updating and removing records. For these operations, we’ll use ","position":{"start":{"line":435,"column":14,"offset":25341},"end":{"line":435,"column":101,"offset":25428}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":435,"column":101,"offset":25428},"end":{"line":435,"column":109,"offset":25436}}},{"type":"text","value":" and ","position":{"start":{"line":435,"column":109,"offset":25436},"end":{"line":435,"column":114,"offset":25441}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE"}],"position":{"start":{"line":435,"column":114,"offset":25441},"end":{"line":435,"column":122,"offset":25449}}},{"type":"text","value":" commands, respectively.","position":{"start":{"line":435,"column":122,"offset":25449},"end":{"line":435,"column":146,"offset":25473}}}],"position":{"start":{"line":435,"column":1,"offset":25328},"end":{"line":435,"column":146,"offset":25473}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The basic syntax for an ","position":{"start":{"line":437,"column":1,"offset":25475},"end":{"line":437,"column":25,"offset":25499}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":437,"column":25,"offset":25499},"end":{"line":437,"column":33,"offset":25507}}},{"type":"text","value":" statement is:","position":{"start":{"line":437,"column":33,"offset":25507},"end":{"line":437,"column":47,"offset":25521}}}],"position":{"start":{"line":437,"column":1,"offset":25475},"end":{"line":437,"column":47,"offset":25521}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"update <table name> set <field> = <value> where <condition>;\n"}],"position":{"start":{"line":439,"column":1,"offset":25523},"end":{"line":439,"column":65,"offset":25587}}}],"position":{"start":{"line":439,"column":1,"offset":25523},"end":{"line":439,"column":65,"offset":25587}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The basic syntax for a ","position":{"start":{"line":441,"column":1,"offset":25589},"end":{"line":441,"column":24,"offset":25612}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE"}],"position":{"start":{"line":441,"column":24,"offset":25612},"end":{"line":441,"column":32,"offset":25620}}},{"type":"text","value":" statement is:","position":{"start":{"line":441,"column":32,"offset":25620},"end":{"line":441,"column":46,"offset":25634}}}],"position":{"start":{"line":441,"column":1,"offset":25589},"end":{"line":441,"column":46,"offset":25634}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"delete from <table name> where <condition>;\n"}],"position":{"start":{"line":443,"column":1,"offset":25636},"end":{"line":443,"column":48,"offset":25683}}}],"position":{"start":{"line":443,"column":1,"offset":25636},"end":{"line":443,"column":48,"offset":25683}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":445,"column":1,"offset":25685},"end":{"line":445,"column":4,"offset":25688}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Filtering results using WHERE clause","position":{"start":{"line":447,"column":1,"offset":25690},"end":{"line":447,"column":159,"offset":25848}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When querying a database, the default result will be every entry in the given table. However, often, we are looking for a specific record or a set of records that meets certain criteria.","position":{"start":{"line":449,"column":1,"offset":25850},"end":{"line":449,"column":187,"offset":26036}}}],"position":{"start":{"line":449,"column":1,"offset":25850},"end":{"line":449,"column":187,"offset":26036}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":451,"column":1,"offset":26038},"end":{"line":451,"column":3,"offset":26040}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":451,"column":3,"offset":26040},"end":{"line":451,"column":10,"offset":26047}}},{"type":"text","value":" clause can help in both cases.","position":{"start":{"line":451,"column":10,"offset":26047},"end":{"line":451,"column":41,"offset":26078}}}],"position":{"start":{"line":451,"column":1,"offset":26038},"end":{"line":451,"column":41,"offset":26078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here’s an example where we might only want to find customers living in Berlin.","position":{"start":{"line":453,"column":1,"offset":26080},"end":{"line":453,"column":79,"offset":26158}}}],"position":{"start":{"line":453,"column":1,"offset":26080},"end":{"line":453,"column":79,"offset":26158}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select City, CustomerName, ContactName\nfrom Customers\nwhere City = 'Berlin'\n"}],"position":{"start":{"line":455,"column":1,"offset":26160},"end":{"line":457,"column":26,"offset":26247}}}],"position":{"start":{"line":455,"column":1,"offset":26160},"end":{"line":457,"column":26,"offset":26247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can also chain together ","position":{"start":{"line":459,"column":1,"offset":26249},"end":{"line":459,"column":28,"offset":26276}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":459,"column":28,"offset":26276},"end":{"line":459,"column":35,"offset":26283}}},{"type":"text","value":" clauses using ","position":{"start":{"line":459,"column":35,"offset":26283},"end":{"line":459,"column":50,"offset":26298}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"OR"}],"position":{"start":{"line":459,"column":50,"offset":26298},"end":{"line":459,"column":54,"offset":26302}}},{"type":"text","value":" and ","position":{"start":{"line":459,"column":54,"offset":26302},"end":{"line":459,"column":59,"offset":26307}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"AND"}],"position":{"start":{"line":459,"column":59,"offset":26307},"end":{"line":459,"column":64,"offset":26312}}},{"type":"text","value":" to limit our results further.","position":{"start":{"line":459,"column":64,"offset":26312},"end":{"line":459,"column":94,"offset":26342}}}],"position":{"start":{"line":459,"column":1,"offset":26249},"end":{"line":459,"column":94,"offset":26342}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following query includes only records that match both criteria.","position":{"start":{"line":461,"column":1,"offset":26344},"end":{"line":461,"column":68,"offset":26411}}}],"position":{"start":{"line":461,"column":1,"offset":26344},"end":{"line":461,"column":68,"offset":26411}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select City, CustomerName, ContactName\nfrom Customers\nwhere Country = 'France' and City = 'Paris'\n"}],"position":{"start":{"line":463,"column":1,"offset":26413},"end":{"line":465,"column":48,"offset":26522}}}],"position":{"start":{"line":463,"column":1,"offset":26413},"end":{"line":465,"column":48,"offset":26522}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And this query includes records that match either criteria.","position":{"start":{"line":467,"column":1,"offset":26524},"end":{"line":467,"column":60,"offset":26583}}}],"position":{"start":{"line":467,"column":1,"offset":26524},"end":{"line":467,"column":60,"offset":26583}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select City, CustomerName, ContactName\nfrom Customers\nwhere Country = 'France' or City = 'Paris'\n"}],"position":{"start":{"line":469,"column":1,"offset":26585},"end":{"line":471,"column":47,"offset":26693}}}],"position":{"start":{"line":469,"column":1,"offset":26585},"end":{"line":471,"column":47,"offset":26693}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These operators can be combined and grouped with parentheses to add complex selection logic. They behave similarly to what you’re used to in programming languages.","position":{"start":{"line":473,"column":1,"offset":26695},"end":{"line":473,"column":164,"offset":26858}}}],"position":{"start":{"line":473,"column":1,"offset":26695},"end":{"line":473,"column":164,"offset":26858}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can read more about SQLite operators from ","position":{"start":{"line":475,"column":1,"offset":26860},"end":{"line":475,"column":47,"offset":26906}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sqlite/operators.php\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":475,"column":47,"offset":26906},"end":{"line":475,"column":145,"offset":27004}}},{"type":"text","value":"w3resource (Links to an external site.)","position":{"start":{"line":475,"column":145,"offset":27004},"end":{"line":475,"column":184,"offset":27043}}},{"type":"raw","value":"</a>","position":{"start":{"line":475,"column":184,"offset":27043},"end":{"line":475,"column":188,"offset":27047}}},{"type":"text","value":".","position":{"start":{"line":475,"column":188,"offset":27047},"end":{"line":475,"column":189,"offset":27048}}}],"position":{"start":{"line":475,"column":1,"offset":26860},"end":{"line":475,"column":189,"offset":27048}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To select a single record, we can use a ","position":{"start":{"line":477,"column":1,"offset":27050},"end":{"line":477,"column":41,"offset":27090}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":477,"column":41,"offset":27090},"end":{"line":477,"column":48,"offset":27097}}},{"type":"text","value":" statement with a uniquely identifying field, like an id:","position":{"start":{"line":477,"column":48,"offset":27097},"end":{"line":477,"column":105,"offset":27154}}}],"position":{"start":{"line":477,"column":1,"offset":27050},"end":{"line":477,"column":105,"offset":27154}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from Customers\nwhere CustomerId=3;\n"}],"position":{"start":{"line":479,"column":1,"offset":27156},"end":{"line":480,"column":24,"offset":27207}}}],"position":{"start":{"line":479,"column":1,"offset":27156},"end":{"line":480,"column":24,"offset":27207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Other comparison operators also work in ","position":{"start":{"line":482,"column":1,"offset":27209},"end":{"line":482,"column":41,"offset":27249}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":482,"column":41,"offset":27249},"end":{"line":482,"column":48,"offset":27256}}},{"type":"text","value":" conditions, such as ","position":{"start":{"line":482,"column":48,"offset":27256},"end":{"line":482,"column":69,"offset":27277}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":">"}],"position":{"start":{"line":482,"column":69,"offset":27277},"end":{"line":482,"column":72,"offset":27280}}},{"type":"text","value":", ","position":{"start":{"line":482,"column":72,"offset":27280},"end":{"line":482,"column":74,"offset":27282}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<"}],"position":{"start":{"line":482,"column":74,"offset":27282},"end":{"line":482,"column":77,"offset":27285}}},{"type":"text","value":", ","position":{"start":{"line":482,"column":77,"offset":27285},"end":{"line":482,"column":79,"offset":27287}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<="}],"position":{"start":{"line":482,"column":79,"offset":27287},"end":{"line":482,"column":83,"offset":27291}}},{"type":"text","value":", and ","position":{"start":{"line":482,"column":83,"offset":27291},"end":{"line":482,"column":89,"offset":27297}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":">="}],"position":{"start":{"line":482,"column":89,"offset":27297},"end":{"line":482,"column":93,"offset":27301}}},{"type":"text","value":".","position":{"start":{"line":482,"column":93,"offset":27301},"end":{"line":482,"column":94,"offset":27302}}}],"position":{"start":{"line":482,"column":1,"offset":27209},"end":{"line":482,"column":94,"offset":27302}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees where salary >= 50000\n"}],"position":{"start":{"line":484,"column":1,"offset":27304},"end":{"line":484,"column":50,"offset":27353}}}],"position":{"start":{"line":484,"column":1,"offset":27304},"end":{"line":484,"column":50,"offset":27353}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Ordering results using the ORDER BY clause","position":{"start":{"line":486,"column":5,"offset":27359},"end":{"line":486,"column":47,"offset":27401}}}],"position":{"start":{"line":486,"column":1,"offset":27355},"end":{"line":486,"column":47,"offset":27401}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Query results are shown in the same order the data was inserted. To control how the data is sorted, we can use the ","position":{"start":{"line":488,"column":1,"offset":27403},"end":{"line":488,"column":116,"offset":27518}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ORDER BY"}],"position":{"start":{"line":488,"column":116,"offset":27518},"end":{"line":488,"column":126,"offset":27528}}},{"type":"text","value":" clause. Let's see an example.","position":{"start":{"line":488,"column":126,"offset":27528},"end":{"line":488,"column":156,"offset":27558}}}],"position":{"start":{"line":488,"column":1,"offset":27403},"end":{"line":488,"column":156,"offset":27558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-- sorts the results first by salary in descending order, then by the last name in ascending order\nselect * from employees order by salary desc, last_name;\n"}],"position":{"start":{"line":490,"column":1,"offset":27560},"end":{"line":491,"column":61,"offset":27723}}}],"position":{"start":{"line":490,"column":1,"offset":27560},"end":{"line":491,"column":61,"offset":27723}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can pass a list of field names to ","position":{"start":{"line":493,"column":1,"offset":27725},"end":{"line":493,"column":38,"offset":27762}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"order by"}],"position":{"start":{"line":493,"column":38,"offset":27762},"end":{"line":493,"column":48,"offset":27772}}},{"type":"text","value":" and optionally choose ","position":{"start":{"line":493,"column":48,"offset":27772},"end":{"line":493,"column":71,"offset":27795}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"asc"}],"position":{"start":{"line":493,"column":71,"offset":27795},"end":{"line":493,"column":76,"offset":27800}}},{"type":"text","value":" or ","position":{"start":{"line":493,"column":76,"offset":27800},"end":{"line":493,"column":80,"offset":27804}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"desc"}],"position":{"start":{"line":493,"column":80,"offset":27804},"end":{"line":493,"column":86,"offset":27810}}},{"type":"text","value":" for the sort direction. The default is ","position":{"start":{"line":493,"column":86,"offset":27810},"end":{"line":493,"column":126,"offset":27850}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"asc"}],"position":{"start":{"line":493,"column":126,"offset":27850},"end":{"line":493,"column":131,"offset":27855}}},{"type":"text","value":", so it doesn't need to be specified.","position":{"start":{"line":493,"column":131,"offset":27855},"end":{"line":493,"column":168,"offset":27892}}}],"position":{"start":{"line":493,"column":1,"offset":27725},"end":{"line":493,"column":168,"offset":27892}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some SQL engines also support using field abbreviations when sorting.","position":{"start":{"line":495,"column":1,"offset":27894},"end":{"line":495,"column":70,"offset":27963}}}],"position":{"start":{"line":495,"column":1,"offset":27894},"end":{"line":495,"column":70,"offset":27963}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select name, salary, department from employees order by 3, 2 desc;\n"}],"position":{"start":{"line":497,"column":1,"offset":27965},"end":{"line":497,"column":71,"offset":28035}}}],"position":{"start":{"line":497,"column":1,"offset":27965},"end":{"line":497,"column":71,"offset":28035}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this case, the results are sorted by the department in ascending order first and then by salary in descending order. The numbers refer to the fields’ position in the ","position":{"start":{"line":499,"column":1,"offset":28037},"end":{"line":499,"column":170,"offset":28206}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"selection","position":{"start":{"line":499,"column":171,"offset":28207},"end":{"line":499,"column":180,"offset":28216}}}],"position":{"start":{"line":499,"column":170,"offset":28206},"end":{"line":499,"column":181,"offset":28217}}},{"type":"text","value":" portion of the query, so ","position":{"start":{"line":499,"column":181,"offset":28217},"end":{"line":499,"column":207,"offset":28243}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1"}],"position":{"start":{"line":499,"column":207,"offset":28243},"end":{"line":499,"column":210,"offset":28246}}},{"type":"text","value":" would be ","position":{"start":{"line":499,"column":210,"offset":28246},"end":{"line":499,"column":220,"offset":28256}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"name","position":{"start":{"line":499,"column":221,"offset":28257},"end":{"line":499,"column":225,"offset":28261}}}],"position":{"start":{"line":499,"column":220,"offset":28256},"end":{"line":499,"column":226,"offset":28262}}},{"type":"text","value":", ","position":{"start":{"line":499,"column":226,"offset":28262},"end":{"line":499,"column":228,"offset":28264}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2"}],"position":{"start":{"line":499,"column":228,"offset":28264},"end":{"line":499,"column":231,"offset":28267}}},{"type":"text","value":" would be ","position":{"start":{"line":499,"column":231,"offset":28267},"end":{"line":499,"column":241,"offset":28277}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"salary","position":{"start":{"line":499,"column":242,"offset":28278},"end":{"line":499,"column":248,"offset":28284}}}],"position":{"start":{"line":499,"column":241,"offset":28277},"end":{"line":499,"column":249,"offset":28285}}},{"type":"text","value":", and so on.","position":{"start":{"line":499,"column":249,"offset":28285},"end":{"line":499,"column":261,"offset":28297}}}],"position":{"start":{"line":499,"column":1,"offset":28037},"end":{"line":499,"column":261,"offset":28297}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the ","position":{"start":{"line":501,"column":1,"offset":28299},"end":{"line":501,"column":15,"offset":28313}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":501,"column":15,"offset":28313},"end":{"line":501,"column":22,"offset":28320}}},{"type":"text","value":" clause should come after the ","position":{"start":{"line":501,"column":22,"offset":28320},"end":{"line":501,"column":52,"offset":28350}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FROM"}],"position":{"start":{"line":501,"column":52,"offset":28350},"end":{"line":501,"column":58,"offset":28356}}},{"type":"text","value":" clause. The ","position":{"start":{"line":501,"column":58,"offset":28356},"end":{"line":501,"column":71,"offset":28369}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ORDER BY"}],"position":{"start":{"line":501,"column":71,"offset":28369},"end":{"line":501,"column":81,"offset":28379}}},{"type":"text","value":" clause always goes last.","position":{"start":{"line":501,"column":81,"offset":28379},"end":{"line":501,"column":106,"offset":28404}}}],"position":{"start":{"line":501,"column":1,"offset":28299},"end":{"line":501,"column":106,"offset":28404}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees where salary > 50000 order by last_name;\n"}],"position":{"start":{"line":503,"column":1,"offset":28406},"end":{"line":503,"column":69,"offset":28474}}}],"position":{"start":{"line":503,"column":1,"offset":28406},"end":{"line":503,"column":69,"offset":28474}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Limiting results using the LIMIT clause","position":{"start":{"line":505,"column":5,"offset":28480},"end":{"line":505,"column":44,"offset":28519}}}],"position":{"start":{"line":505,"column":1,"offset":28476},"end":{"line":505,"column":44,"offset":28519}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When we wish to see only a limited number of records, we can use a ","position":{"start":{"line":507,"column":1,"offset":28521},"end":{"line":507,"column":68,"offset":28588}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"LIMIT"}],"position":{"start":{"line":507,"column":68,"offset":28588},"end":{"line":507,"column":75,"offset":28595}}},{"type":"text","value":" clause.","position":{"start":{"line":507,"column":75,"offset":28595},"end":{"line":507,"column":83,"offset":28603}}}],"position":{"start":{"line":507,"column":1,"offset":28521},"end":{"line":507,"column":83,"offset":28603}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following returns the first ten records in the products table:","position":{"start":{"line":509,"column":1,"offset":28605},"end":{"line":509,"column":67,"offset":28671}}}],"position":{"start":{"line":509,"column":1,"offset":28605},"end":{"line":509,"column":67,"offset":28671}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from products\nlimit 10\n"}],"position":{"start":{"line":511,"column":1,"offset":28673},"end":{"line":512,"column":13,"offset":28712}}}],"position":{"start":{"line":511,"column":1,"offset":28673},"end":{"line":512,"column":13,"offset":28712}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"LIMIT"}],"position":{"start":{"line":514,"column":1,"offset":28714},"end":{"line":514,"column":8,"offset":28721}}},{"type":"text","value":" clauses are often used in conjunction with ","position":{"start":{"line":514,"column":8,"offset":28721},"end":{"line":514,"column":52,"offset":28765}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ORDER BY"}],"position":{"start":{"line":514,"column":52,"offset":28765},"end":{"line":514,"column":62,"offset":28775}}},{"type":"text","value":". The following shows us the five cheapest products:","position":{"start":{"line":514,"column":62,"offset":28775},"end":{"line":514,"column":114,"offset":28827}}}],"position":{"start":{"line":514,"column":1,"offset":28714},"end":{"line":514,"column":114,"offset":28827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from products\norder by price desc\nlimit 5\n"}],"position":{"start":{"line":516,"column":1,"offset":28829},"end":{"line":518,"column":12,"offset":28891}}}],"position":{"start":{"line":516,"column":1,"offset":28829},"end":{"line":518,"column":12,"offset":28891}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Inserting data using INSERT","position":{"start":{"line":520,"column":5,"offset":28897},"end":{"line":520,"column":32,"offset":28924}}}],"position":{"start":{"line":520,"column":1,"offset":28893},"end":{"line":520,"column":32,"offset":28924}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An insert statement adds a new record to the database. All non-null fields must be listed out in the same order as their values. Some fields, like ids and timestamps, may be auto-generated and do not need to be included in an ","position":{"start":{"line":522,"column":1,"offset":28926},"end":{"line":522,"column":227,"offset":29152}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":522,"column":227,"offset":29152},"end":{"line":522,"column":235,"offset":29160}}},{"type":"text","value":" statement.","position":{"start":{"line":522,"column":235,"offset":29160},"end":{"line":522,"column":246,"offset":29171}}}],"position":{"start":{"line":522,"column":1,"offset":28926},"end":{"line":522,"column":246,"offset":29171}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-- we can add fields in any order; the values need to be in the same ordinal position\n-- the id will be assigned automatically\n  insert into Customers (Country, CustomerName, ContactName, Address, City, PostalCode)\n  values ('USA', 'WebDev School', 'Austen Allred', '1 WebDev Court', 'Provo', '84601');\n"}],"position":{"start":{"line":524,"column":1,"offset":29173},"end":{"line":527,"column":92,"offset":29491}}}],"position":{"start":{"line":524,"column":1,"offset":29173},"end":{"line":527,"column":92,"offset":29491}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The values in an insert statement must not violate any restrictions and constraints that the database has in place, such as expected datatypes. We will learn more about constraints and schema design in a later section.","position":{"start":{"line":529,"column":1,"offset":29493},"end":{"line":529,"column":219,"offset":29711}}}],"position":{"start":{"line":529,"column":1,"offset":29493},"end":{"line":529,"column":219,"offset":29711}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Modifying recording using UPDATE","position":{"start":{"line":531,"column":5,"offset":29717},"end":{"line":531,"column":37,"offset":29749}}}],"position":{"start":{"line":531,"column":1,"offset":29713},"end":{"line":531,"column":37,"offset":29749}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When modifying a record, we identify a single record or a set of records to update using a ","position":{"start":{"line":533,"column":1,"offset":29751},"end":{"line":533,"column":92,"offset":29842}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":533,"column":92,"offset":29842},"end":{"line":533,"column":99,"offset":29849}}},{"type":"text","value":" clause. Then we can set the new value(s) in place.","position":{"start":{"line":533,"column":99,"offset":29849},"end":{"line":533,"column":150,"offset":29900}}}],"position":{"start":{"line":533,"column":1,"offset":29751},"end":{"line":533,"column":150,"offset":29900}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"update Customers\nset City = 'Silicon Valley', Country = 'USA'\nwhere CustomerName = 'WebDev School'\n"}],"position":{"start":{"line":535,"column":1,"offset":29902},"end":{"line":537,"column":41,"offset":30012}}}],"position":{"start":{"line":535,"column":1,"offset":29902},"end":{"line":537,"column":41,"offset":30012}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Technically the ","position":{"start":{"line":539,"column":1,"offset":30014},"end":{"line":539,"column":17,"offset":30030}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":539,"column":17,"offset":30030},"end":{"line":539,"column":24,"offset":30037}}},{"type":"text","value":" clause is not required, but leaving it off would result in every record within the table receiving the update.","position":{"start":{"line":539,"column":24,"offset":30037},"end":{"line":539,"column":135,"offset":30148}}}],"position":{"start":{"line":539,"column":1,"offset":30014},"end":{"line":539,"column":135,"offset":30148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Removing records using DELETE","position":{"start":{"line":541,"column":5,"offset":30154},"end":{"line":541,"column":34,"offset":30183}}}],"position":{"start":{"line":541,"column":1,"offset":30150},"end":{"line":541,"column":34,"offset":30183}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When removing a record or set of records, we need only identify which record(s) to remove using a ","position":{"start":{"line":543,"column":1,"offset":30185},"end":{"line":543,"column":99,"offset":30283}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":543,"column":99,"offset":30283},"end":{"line":543,"column":106,"offset":30290}}},{"type":"text","value":" clause:","position":{"start":{"line":543,"column":106,"offset":30290},"end":{"line":543,"column":114,"offset":30298}}}],"position":{"start":{"line":543,"column":1,"offset":30185},"end":{"line":543,"column":114,"offset":30298}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"delete from Customers\nwhere CustomerName = 'WebDev School`;\n"}],"position":{"start":{"line":545,"column":1,"offset":30300},"end":{"line":546,"column":42,"offset":30367}}}],"position":{"start":{"line":545,"column":1,"offset":30300},"end":{"line":546,"column":42,"offset":30367}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once again, the ","position":{"start":{"line":548,"column":1,"offset":30369},"end":{"line":548,"column":17,"offset":30385}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":548,"column":17,"offset":30385},"end":{"line":548,"column":24,"offset":30392}}},{"type":"text","value":" clause is not required, but leaving it off would remove every record in the table, so it's essential.","position":{"start":{"line":548,"column":24,"offset":30392},"end":{"line":548,"column":126,"offset":30494}}}],"position":{"start":{"line":548,"column":1,"offset":30369},"end":{"line":548,"column":126,"offset":30494}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":550,"column":1,"offset":30496},"end":{"line":550,"column":4,"offset":30499}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>Raw SQL is a critical baseline skill. However, Node developers generally use an **Object Relational Mapper (ORM)** or **query builder** to write database commands in a backend codebase. Both **ORMs** and **query builders** are JavaScript libraries that allow us to interface with the database using a JavaScript version of the SQL language.","position":{"start":{"line":552,"column":1,"offset":30501},"end":{"line":552,"column":459,"offset":30959}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, instead of a raw SQL ","position":{"start":{"line":554,"column":1,"offset":30961},"end":{"line":554,"column":35,"offset":30995}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":554,"column":35,"offset":30995},"end":{"line":554,"column":43,"offset":31003}}},{"type":"text","value":":","position":{"start":{"line":554,"column":43,"offset":31003},"end":{"line":554,"column":44,"offset":31004}}}],"position":{"start":{"line":554,"column":1,"offset":30961},"end":{"line":554,"column":44,"offset":31004}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT * FROM users;\n"}],"position":{"start":{"line":556,"column":1,"offset":31006},"end":{"line":556,"column":25,"offset":31030}}}],"position":{"start":{"line":556,"column":1,"offset":31006},"end":{"line":556,"column":25,"offset":31030}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We could use a query builder to write the same logic in JavaScript:","position":{"start":{"line":558,"column":1,"offset":31032},"end":{"line":558,"column":68,"offset":31099}}}],"position":{"start":{"line":558,"column":1,"offset":31032},"end":{"line":558,"column":68,"offset":31099}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db.select('*').from('users');\n"}],"position":{"start":{"line":560,"column":1,"offset":31101},"end":{"line":560,"column":34,"offset":31134}}}],"position":{"start":{"line":560,"column":1,"offset":31101},"end":{"line":560,"column":34,"offset":31134}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Query builders","position":{"start":{"line":562,"column":3,"offset":31138},"end":{"line":562,"column":17,"offset":31152}}}],"position":{"start":{"line":562,"column":1,"offset":31136},"end":{"line":562,"column":19,"offset":31154}}},{"type":"text","value":" are lightweight and easy to get off the ground, whereas ","position":{"start":{"line":562,"column":19,"offset":31154},"end":{"line":562,"column":76,"offset":31211}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ORMs","position":{"start":{"line":562,"column":78,"offset":31213},"end":{"line":562,"column":82,"offset":31217}}}],"position":{"start":{"line":562,"column":76,"offset":31211},"end":{"line":562,"column":84,"offset":31219}}},{"type":"text","value":" use an object-oriented model and provide more heavy lifting within their rigid structure.","position":{"start":{"line":562,"column":84,"offset":31219},"end":{"line":562,"column":174,"offset":31309}}}],"position":{"start":{"line":562,"column":1,"offset":31136},"end":{"line":562,"column":174,"offset":31309}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We will use a ","position":{"start":{"line":564,"column":1,"offset":31311},"end":{"line":564,"column":15,"offset":31325}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"query builder","position":{"start":{"line":564,"column":17,"offset":31327},"end":{"line":564,"column":30,"offset":31340}}}],"position":{"start":{"line":564,"column":15,"offset":31325},"end":{"line":564,"column":32,"offset":31342}}},{"type":"text","value":" called ","position":{"start":{"line":564,"column":32,"offset":31342},"end":{"line":564,"column":40,"offset":31350}}},{"type":"raw","value":"<a href=\"https://knexjs.org/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":564,"column":40,"offset":31350},"end":{"line":564,"column":110,"offset":31420}}},{"type":"text","value":"knex.js (Links to an external site.)","position":{"start":{"line":564,"column":110,"offset":31420},"end":{"line":564,"column":146,"offset":31456}}},{"type":"raw","value":"</a>","position":{"start":{"line":564,"column":146,"offset":31456},"end":{"line":564,"column":150,"offset":31460}}},{"type":"text","value":".","position":{"start":{"line":564,"column":150,"offset":31460},"end":{"line":564,"column":151,"offset":31461}}}],"position":{"start":{"line":564,"column":1,"offset":31311},"end":{"line":564,"column":151,"offset":31461}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":566,"column":1,"offset":31463},"end":{"line":566,"column":4,"offset":31466}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Knex Setup","position":{"start":{"line":568,"column":1,"offset":31468},"end":{"line":568,"column":133,"offset":31600}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use Knex in a repository, we’ll need to add two libraries:","position":{"start":{"line":570,"column":1,"offset":31602},"end":{"line":570,"column":62,"offset":31663}}}],"position":{"start":{"line":570,"column":1,"offset":31602},"end":{"line":570,"column":62,"offset":31663}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex sqlite3\n"}],"position":{"start":{"line":572,"column":1,"offset":31665},"end":{"line":572,"column":29,"offset":31693}}}],"position":{"start":{"line":572,"column":1,"offset":31665},"end":{"line":572,"column":29,"offset":31693}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":574,"column":1,"offset":31695},"end":{"line":574,"column":7,"offset":31701}}},{"type":"text","value":" is our query builder library, and ","position":{"start":{"line":574,"column":7,"offset":31701},"end":{"line":574,"column":42,"offset":31736}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":574,"column":42,"offset":31736},"end":{"line":574,"column":51,"offset":31745}}},{"type":"text","value":" allows us to interface with a ","position":{"start":{"line":574,"column":51,"offset":31745},"end":{"line":574,"column":82,"offset":31776}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite"}],"position":{"start":{"line":574,"column":82,"offset":31776},"end":{"line":574,"column":90,"offset":31784}}},{"type":"text","value":" database. We'll learn more about ","position":{"start":{"line":574,"column":90,"offset":31784},"end":{"line":574,"column":124,"offset":31818}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite"}],"position":{"start":{"line":574,"column":124,"offset":31818},"end":{"line":574,"column":132,"offset":31826}}},{"type":"text","value":" and other ","position":{"start":{"line":574,"column":132,"offset":31826},"end":{"line":574,"column":143,"offset":31837}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"database management systems","position":{"start":{"line":574,"column":145,"offset":31839},"end":{"line":574,"column":172,"offset":31866}}}],"position":{"start":{"line":574,"column":143,"offset":31837},"end":{"line":574,"column":174,"offset":31868}}},{"type":"text","value":" in the following module. For now, know that you need both libraries.","position":{"start":{"line":574,"column":174,"offset":31868},"end":{"line":574,"column":243,"offset":31937}}}],"position":{"start":{"line":574,"column":1,"offset":31695},"end":{"line":574,"column":243,"offset":31937}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Next, we use Knex to set up a config file:","position":{"start":{"line":576,"column":1,"offset":31939},"end":{"line":576,"column":43,"offset":31981}}}],"position":{"start":{"line":576,"column":1,"offset":31939},"end":{"line":576,"column":43,"offset":31981}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const knex = require('knex');\n\nconst config = {\n  client: 'sqlite3',\n  connection: {\n    filename: './data/posts.db3',\n  },\n  useNullAsDefault: true,\n};\n\nmodule.exports = knex(config);\n"}],"position":{"start":{"line":578,"column":1,"offset":31983},"end":{"line":588,"column":35,"offset":32203}}}],"position":{"start":{"line":578,"column":1,"offset":31983},"end":{"line":588,"column":35,"offset":32203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use the query builder elsewhere in our code, we need to call ","position":{"start":{"line":590,"column":1,"offset":32205},"end":{"line":590,"column":65,"offset":32269}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":590,"column":65,"offset":32269},"end":{"line":590,"column":71,"offset":32275}}},{"type":"text","value":" and pass in a ","position":{"start":{"line":590,"column":71,"offset":32275},"end":{"line":590,"column":86,"offset":32290}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"config"}],"position":{"start":{"line":590,"column":86,"offset":32290},"end":{"line":590,"column":94,"offset":32298}}},{"type":"text","value":" object. We'll be discussing Knex configuration more in a future module. Still, we only need the ","position":{"start":{"line":590,"column":94,"offset":32298},"end":{"line":590,"column":191,"offset":32395}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"client"}],"position":{"start":{"line":590,"column":191,"offset":32395},"end":{"line":590,"column":199,"offset":32403}}},{"type":"text","value":", ","position":{"start":{"line":590,"column":199,"offset":32403},"end":{"line":590,"column":201,"offset":32405}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"connection"}],"position":{"start":{"line":590,"column":201,"offset":32405},"end":{"line":590,"column":213,"offset":32417}}},{"type":"text","value":", and ","position":{"start":{"line":590,"column":213,"offset":32417},"end":{"line":590,"column":219,"offset":32423}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"useNullAsDefault"}],"position":{"start":{"line":590,"column":219,"offset":32423},"end":{"line":590,"column":237,"offset":32441}}},{"type":"text","value":" keys as shown above. The ","position":{"start":{"line":590,"column":237,"offset":32441},"end":{"line":590,"column":263,"offset":32467}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"filename"}],"position":{"start":{"line":590,"column":263,"offset":32467},"end":{"line":590,"column":273,"offset":32477}}},{"type":"text","value":" should point towards the pre-existing database file, which can be recognized by the ","position":{"start":{"line":590,"column":273,"offset":32477},"end":{"line":590,"column":358,"offset":32562}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".db3"}],"position":{"start":{"line":590,"column":358,"offset":32562},"end":{"line":590,"column":364,"offset":32568}}},{"type":"text","value":" extension.","position":{"start":{"line":590,"column":364,"offset":32568},"end":{"line":590,"column":375,"offset":32579}}}],"position":{"start":{"line":590,"column":1,"offset":32205},"end":{"line":590,"column":375,"offset":32579}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"GOTCHA","position":{"start":{"line":592,"column":3,"offset":32583},"end":{"line":592,"column":9,"offset":32589}}}],"position":{"start":{"line":592,"column":1,"offset":32581},"end":{"line":592,"column":11,"offset":32591}}},{"type":"text","value":": The file path to the database should be with respect to the ","position":{"start":{"line":592,"column":11,"offset":32591},"end":{"line":592,"column":73,"offset":32653}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"root","position":{"start":{"line":592,"column":75,"offset":32655},"end":{"line":592,"column":79,"offset":32659}}}],"position":{"start":{"line":592,"column":73,"offset":32653},"end":{"line":592,"column":81,"offset":32661}}},{"type":"text","value":" of the repo, not the configuration file itself.","position":{"start":{"line":592,"column":81,"offset":32661},"end":{"line":592,"column":129,"offset":32709}}}],"position":{"start":{"line":592,"column":1,"offset":32581},"end":{"line":592,"column":129,"offset":32709}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once Knex is configured, we can import the above config file anywhere in our codebase to access the database.","position":{"start":{"line":594,"column":1,"offset":32711},"end":{"line":594,"column":110,"offset":32820}}}],"position":{"start":{"line":594,"column":1,"offset":32711},"end":{"line":594,"column":110,"offset":32820}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const db = require('../data/db-config.js);\n"}],"position":{"start":{"line":596,"column":1,"offset":32822},"end":{"line":596,"column":47,"offset":32868}}}],"position":{"start":{"line":596,"column":1,"offset":32822},"end":{"line":596,"column":47,"offset":32868}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":598,"column":1,"offset":32870},"end":{"line":598,"column":5,"offset":32874}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db"}],"position":{"start":{"line":598,"column":5,"offset":32874},"end":{"line":598,"column":9,"offset":32878}}},{"type":"text","value":" object provides methods that allow us to begin building queries.","position":{"start":{"line":598,"column":9,"offset":32878},"end":{"line":598,"column":74,"offset":32943}}}],"position":{"start":{"line":598,"column":1,"offset":32870},"end":{"line":598,"column":74,"offset":32943}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SELECT using Knex","position":{"start":{"line":600,"column":5,"offset":32949},"end":{"line":600,"column":22,"offset":32966}}}],"position":{"start":{"line":600,"column":1,"offset":32945},"end":{"line":600,"column":22,"offset":32966}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, the equivalent of ","position":{"start":{"line":602,"column":1,"offset":32968},"end":{"line":602,"column":28,"offset":32995}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT * FROM users"}],"position":{"start":{"line":602,"column":28,"offset":32995},"end":{"line":602,"column":49,"offset":33016}}},{"type":"text","value":" is:","position":{"start":{"line":602,"column":49,"offset":33016},"end":{"line":602,"column":53,"offset":33020}}}],"position":{"start":{"line":602,"column":1,"offset":32968},"end":{"line":602,"column":53,"offset":33020}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db.select('*').from('users');\n"}],"position":{"start":{"line":604,"column":1,"offset":33022},"end":{"line":604,"column":34,"offset":33055}}}],"position":{"start":{"line":604,"column":1,"offset":33022},"end":{"line":604,"column":34,"offset":33055}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There’s a simpler way to write the same command:","position":{"start":{"line":606,"column":1,"offset":33057},"end":{"line":606,"column":49,"offset":33105}}}],"position":{"start":{"line":606,"column":1,"offset":33057},"end":{"line":606,"column":49,"offset":33105}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users');\n"}],"position":{"start":{"line":608,"column":1,"offset":33107},"end":{"line":608,"column":17,"offset":33123}}}],"position":{"start":{"line":608,"column":1,"offset":33107},"end":{"line":608,"column":17,"offset":33123}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using this, we could write a ","position":{"start":{"line":610,"column":1,"offset":33125},"end":{"line":610,"column":30,"offset":33154}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GET"}],"position":{"start":{"line":610,"column":30,"offset":33154},"end":{"line":610,"column":35,"offset":33159}}},{"type":"text","value":" endpoint.","position":{"start":{"line":610,"column":35,"offset":33159},"end":{"line":610,"column":45,"offset":33169}}}],"position":{"start":{"line":610,"column":1,"offset":33125},"end":{"line":610,"column":45,"offset":33169}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"router.get('/api/users', (req, res) => {\n  db('users')\n  .then(users => {\n    res.json(users);\n  })\n  .catch (err => {\n    res.status(500).json({ message: 'Failed to get users' });\n  });\n});\n"}],"position":{"start":{"line":612,"column":1,"offset":33171},"end":{"line":620,"column":8,"offset":33397}}}],"position":{"start":{"line":612,"column":1,"offset":33171},"end":{"line":620,"column":8,"offset":33397}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOTE","position":{"start":{"line":622,"column":3,"offset":33401},"end":{"line":622,"column":7,"offset":33405}}}],"position":{"start":{"line":622,"column":1,"offset":33399},"end":{"line":622,"column":9,"offset":33407}}},{"type":"text","value":": All Knex queries return promises.","position":{"start":{"line":622,"column":9,"offset":33407},"end":{"line":622,"column":44,"offset":33442}}}],"position":{"start":{"line":622,"column":1,"offset":33399},"end":{"line":622,"column":44,"offset":33442}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Knex also allows for a where clause. In Knex, we could write ","position":{"start":{"line":624,"column":1,"offset":33444},"end":{"line":624,"column":62,"offset":33505}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT * FROM users WHERE id=1"}],"position":{"start":{"line":624,"column":62,"offset":33505},"end":{"line":624,"column":94,"offset":33537}}},{"type":"text","value":" as","position":{"start":{"line":624,"column":94,"offset":33537},"end":{"line":624,"column":97,"offset":33540}}}],"position":{"start":{"line":624,"column":1,"offset":33444},"end":{"line":624,"column":97,"offset":33540}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').where({ id: 1 });\n"}],"position":{"start":{"line":626,"column":1,"offset":33542},"end":{"line":626,"column":34,"offset":33575}}}],"position":{"start":{"line":626,"column":1,"offset":33542},"end":{"line":626,"column":34,"offset":33575}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This method will resolve to an array containing a single entry like so: ","position":{"start":{"line":628,"column":1,"offset":33577},"end":{"line":628,"column":73,"offset":33649}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[{ id: 1, name: 'bill' }]"}],"position":{"start":{"line":628,"column":73,"offset":33649},"end":{"line":628,"column":100,"offset":33676}}},{"type":"text","value":".","position":{"start":{"line":628,"column":100,"offset":33676},"end":{"line":628,"column":101,"offset":33677}}}],"position":{"start":{"line":628,"column":1,"offset":33577},"end":{"line":628,"column":101,"offset":33677}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using this, we might add a ","position":{"start":{"line":630,"column":1,"offset":33679},"end":{"line":630,"column":28,"offset":33706}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GET"}],"position":{"start":{"line":630,"column":28,"offset":33706},"end":{"line":630,"column":33,"offset":33711}}},{"type":"text","value":" endpoint where a specific user:","position":{"start":{"line":630,"column":33,"offset":33711},"end":{"line":630,"column":65,"offset":33743}}}],"position":{"start":{"line":630,"column":1,"offset":33679},"end":{"line":630,"column":65,"offset":33743}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"server.get('api/users/:id', (req, res) => {\n  const { id } = req.params;\n\ndb('users').where({ id })\n  .then(users => {\n    // we must check the length to find our if our user exists\n    if (users.length) {\n      res.json(users);\n    } else {\n      res.status(404).json({ message: 'Could not find user with given id.' })\n   })\n  .catch (err => {\n    res.status(500).json({ message: 'Failed to get user' });\n  });\n});\n"}],"position":{"start":{"line":632,"column":1,"offset":33745},"end":{"line":646,"column":8,"offset":34216}}}],"position":{"start":{"line":632,"column":1,"offset":33745},"end":{"line":646,"column":8,"offset":34216}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"INSERT using Knex","position":{"start":{"line":648,"column":5,"offset":34222},"end":{"line":648,"column":22,"offset":34239}}}],"position":{"start":{"line":648,"column":1,"offset":34218},"end":{"line":648,"column":22,"offset":34239}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, the equivalent of ","position":{"start":{"line":650,"column":1,"offset":34241},"end":{"line":650,"column":28,"offset":34268}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT INTO users (name, age) VALUES ('Eva', 32)"}],"position":{"start":{"line":650,"column":28,"offset":34268},"end":{"line":650,"column":78,"offset":34318}}},{"type":"text","value":" is:","position":{"start":{"line":650,"column":78,"offset":34318},"end":{"line":650,"column":82,"offset":34322}}}],"position":{"start":{"line":650,"column":1,"offset":34241},"end":{"line":650,"column":82,"offset":34322}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').insert({ name: 'Eva', age: 32 });\n"}],"position":{"start":{"line":652,"column":1,"offset":34324},"end":{"line":652,"column":50,"offset":34373}}}],"position":{"start":{"line":652,"column":1,"offset":34324},"end":{"line":652,"column":50,"offset":34373}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The insert method in Knex will resolve to an array containing the newly created id for that user like so: ","position":{"start":{"line":654,"column":1,"offset":34375},"end":{"line":654,"column":107,"offset":34481}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[3]"}],"position":{"start":{"line":654,"column":107,"offset":34481},"end":{"line":654,"column":112,"offset":34486}}},{"type":"text","value":".","position":{"start":{"line":654,"column":112,"offset":34486},"end":{"line":654,"column":113,"offset":34487}}}],"position":{"start":{"line":654,"column":1,"offset":34375},"end":{"line":654,"column":113,"offset":34487}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"UPDATE using Knex","position":{"start":{"line":656,"column":5,"offset":34493},"end":{"line":656,"column":22,"offset":34510}}}],"position":{"start":{"line":656,"column":1,"offset":34489},"end":{"line":656,"column":22,"offset":34510}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In knex, the equivalent of ","position":{"start":{"line":658,"column":1,"offset":34512},"end":{"line":658,"column":28,"offset":34539}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE users SET name='Ava', age=33 WHERE id=3;"}],"position":{"start":{"line":658,"column":28,"offset":34539},"end":{"line":658,"column":77,"offset":34588}}},{"type":"text","value":" is:","position":{"start":{"line":658,"column":77,"offset":34588},"end":{"line":658,"column":81,"offset":34592}}}],"position":{"start":{"line":658,"column":1,"offset":34512},"end":{"line":658,"column":81,"offset":34592}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').where({ id: 3 })\n.update({name: 'Ava', age: 33 });\n"}],"position":{"start":{"line":660,"column":1,"offset":34594},"end":{"line":661,"column":38,"offset":34664}}}],"position":{"start":{"line":660,"column":1,"offset":34594},"end":{"line":661,"column":38,"offset":34664}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the ","position":{"start":{"line":663,"column":1,"offset":34666},"end":{"line":663,"column":15,"offset":34680}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"where"}],"position":{"start":{"line":663,"column":15,"offset":34680},"end":{"line":663,"column":22,"offset":34687}}},{"type":"text","value":" method comes before ","position":{"start":{"line":663,"column":22,"offset":34687},"end":{"line":663,"column":43,"offset":34708}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"update"}],"position":{"start":{"line":663,"column":43,"offset":34708},"end":{"line":663,"column":51,"offset":34716}}},{"type":"text","value":", unlike in SQL.","position":{"start":{"line":663,"column":51,"offset":34716},"end":{"line":663,"column":67,"offset":34732}}}],"position":{"start":{"line":663,"column":1,"offset":34666},"end":{"line":663,"column":67,"offset":34732}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Update will resolve to a count of rows updated.","position":{"start":{"line":665,"column":1,"offset":34734},"end":{"line":665,"column":48,"offset":34781}}}],"position":{"start":{"line":665,"column":1,"offset":34734},"end":{"line":665,"column":48,"offset":34781}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"DELETE using Knex","position":{"start":{"line":667,"column":5,"offset":34787},"end":{"line":667,"column":22,"offset":34804}}}],"position":{"start":{"line":667,"column":1,"offset":34783},"end":{"line":667,"column":22,"offset":34804}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, the equivalent of ","position":{"start":{"line":669,"column":1,"offset":34806},"end":{"line":669,"column":28,"offset":34833}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE FROM users WHERE age=33;"}],"position":{"start":{"line":669,"column":28,"offset":34833},"end":{"line":669,"column":61,"offset":34866}}},{"type":"text","value":" is:","position":{"start":{"line":669,"column":61,"offset":34866},"end":{"line":669,"column":65,"offset":34870}}}],"position":{"start":{"line":669,"column":1,"offset":34806},"end":{"line":669,"column":65,"offset":34870}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').where({ age: 33}).del();\n"}],"position":{"start":{"line":671,"column":1,"offset":34872},"end":{"line":671,"column":41,"offset":34912}}}],"position":{"start":{"line":671,"column":1,"offset":34872},"end":{"line":671,"column":41,"offset":34912}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once again, the ","position":{"start":{"line":673,"column":1,"offset":34914},"end":{"line":673,"column":17,"offset":34930}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"where"}],"position":{"start":{"line":673,"column":17,"offset":34930},"end":{"line":673,"column":24,"offset":34937}}},{"type":"text","value":" must come before the ","position":{"start":{"line":673,"column":24,"offset":34937},"end":{"line":673,"column":46,"offset":34959}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"del"}],"position":{"start":{"line":673,"column":46,"offset":34959},"end":{"line":673,"column":51,"offset":34964}}},{"type":"text","value":". This method will resolve to a count of records removed.","position":{"start":{"line":673,"column":51,"offset":34964},"end":{"line":673,"column":108,"offset":35021}}}],"position":{"start":{"line":673,"column":1,"offset":34914},"end":{"line":673,"column":108,"offset":35021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":675,"column":1,"offset":35023},"end":{"line":675,"column":4,"offset":35026}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":677,"column":1,"offset":35028},"end":{"line":677,"column":4,"offset":35031}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>###","position":{"start":{"line":679,"column":1,"offset":35033},"end":{"line":679,"column":122,"offset":35154}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Here’s a small project you can practice with.","position":{"start":{"line":681,"column":5,"offset":35160},"end":{"line":681,"column":50,"offset":35205}}}],"position":{"start":{"line":681,"column":1,"offset":35156},"end":{"line":681,"column":50,"offset":35205}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQLlite Studio is an application that allows us to create, open, view, and modify SQLite databases. To fully understand what SQLite Studio is and how it works, we must also understand the concept of the Database Management Systems (DBMS).","position":{"start":{"line":683,"column":1,"offset":35207},"end":{"line":683,"column":239,"offset":35445}}}],"position":{"start":{"line":683,"column":1,"offset":35207},"end":{"line":683,"column":239,"offset":35445}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is a DBMS?","position":{"start":{"line":685,"column":5,"offset":35451},"end":{"line":685,"column":20,"offset":35466}}}],"position":{"start":{"line":685,"column":1,"offset":35447},"end":{"line":685,"column":20,"offset":35466}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To manage digital databases we use specialized software called ","position":{"start":{"line":687,"column":1,"offset":35468},"end":{"line":687,"column":64,"offset":35531}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"D","position":{"start":{"line":687,"column":66,"offset":35533},"end":{"line":687,"column":67,"offset":35534}}}],"position":{"start":{"line":687,"column":64,"offset":35531},"end":{"line":687,"column":69,"offset":35536}}},{"type":"text","value":"ata","position":{"start":{"line":687,"column":69,"offset":35536},"end":{"line":687,"column":72,"offset":35539}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"B","position":{"start":{"line":687,"column":74,"offset":35541},"end":{"line":687,"column":75,"offset":35542}}}],"position":{"start":{"line":687,"column":72,"offset":35539},"end":{"line":687,"column":77,"offset":35544}}},{"type":"text","value":"ase ","position":{"start":{"line":687,"column":77,"offset":35544},"end":{"line":687,"column":81,"offset":35548}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"M","position":{"start":{"line":687,"column":83,"offset":35550},"end":{"line":687,"column":84,"offset":35551}}}],"position":{"start":{"line":687,"column":81,"offset":35548},"end":{"line":687,"column":86,"offset":35553}}},{"type":"text","value":"anagement ","position":{"start":{"line":687,"column":86,"offset":35553},"end":{"line":687,"column":96,"offset":35563}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"S","position":{"start":{"line":687,"column":98,"offset":35565},"end":{"line":687,"column":99,"offset":35566}}}],"position":{"start":{"line":687,"column":96,"offset":35563},"end":{"line":687,"column":101,"offset":35568}}},{"type":"text","value":"ystems (DBMS). These systems typically run on servers and are managed by ","position":{"start":{"line":687,"column":101,"offset":35568},"end":{"line":687,"column":174,"offset":35641}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"D","position":{"start":{"line":687,"column":176,"offset":35643},"end":{"line":687,"column":177,"offset":35644}}}],"position":{"start":{"line":687,"column":174,"offset":35641},"end":{"line":687,"column":179,"offset":35646}}},{"type":"text","value":"ata","position":{"start":{"line":687,"column":179,"offset":35646},"end":{"line":687,"column":182,"offset":35649}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"B","position":{"start":{"line":687,"column":184,"offset":35651},"end":{"line":687,"column":185,"offset":35652}}}],"position":{"start":{"line":687,"column":182,"offset":35649},"end":{"line":687,"column":187,"offset":35654}}},{"type":"text","value":"ase ","position":{"start":{"line":687,"column":187,"offset":35654},"end":{"line":687,"column":191,"offset":35658}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"A","position":{"start":{"line":687,"column":193,"offset":35660},"end":{"line":687,"column":194,"offset":35661}}}],"position":{"start":{"line":687,"column":191,"offset":35658},"end":{"line":687,"column":196,"offset":35663}}},{"type":"text","value":"dministrators (DBAs).","position":{"start":{"line":687,"column":196,"offset":35663},"end":{"line":687,"column":217,"offset":35684}}}],"position":{"start":{"line":687,"column":1,"offset":35468},"end":{"line":687,"column":217,"offset":35684}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In less technical terms, we need a type of software that will allow us to create, access, and generally manage our databases. In the world of relational databases, we specifically use Relational Database Mangement Systems (RDBMs). Some examples are Postgres, SQLite, MySQL, and Oracle.","position":{"start":{"line":689,"column":1,"offset":35686},"end":{"line":689,"column":286,"offset":35971}}}],"position":{"start":{"line":689,"column":1,"offset":35686},"end":{"line":689,"column":286,"offset":35971}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Choosing a DBMS determines everything from how you set up your database, to where and how the data is stored, to what SQL commands you can use. Most systems share the core of the SQL language that you’ve already learned.","position":{"start":{"line":691,"column":1,"offset":35973},"end":{"line":691,"column":221,"offset":36193}}}],"position":{"start":{"line":691,"column":1,"offset":35973},"end":{"line":691,"column":221,"offset":36193}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In other words, you can expect ","position":{"start":{"line":693,"column":1,"offset":36195},"end":{"line":693,"column":32,"offset":36226}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":693,"column":32,"offset":36226},"end":{"line":693,"column":40,"offset":36234}}},{"type":"text","value":", ","position":{"start":{"line":693,"column":40,"offset":36234},"end":{"line":693,"column":42,"offset":36236}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":693,"column":42,"offset":36236},"end":{"line":693,"column":50,"offset":36244}}},{"type":"text","value":", ","position":{"start":{"line":693,"column":50,"offset":36244},"end":{"line":693,"column":52,"offset":36246}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":693,"column":52,"offset":36246},"end":{"line":693,"column":60,"offset":36254}}},{"type":"text","value":", ","position":{"start":{"line":693,"column":60,"offset":36254},"end":{"line":693,"column":62,"offset":36256}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":693,"column":62,"offset":36256},"end":{"line":693,"column":69,"offset":36263}}},{"type":"text","value":" , and the like to be the same across all DBMSs, but the subtleties of the language may vary.","position":{"start":{"line":693,"column":69,"offset":36263},"end":{"line":693,"column":162,"offset":36356}}}],"position":{"start":{"line":693,"column":1,"offset":36195},"end":{"line":693,"column":162,"offset":36356}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is SQLite?","position":{"start":{"line":695,"column":5,"offset":36362},"end":{"line":695,"column":20,"offset":36377}}}],"position":{"start":{"line":695,"column":1,"offset":36358},"end":{"line":695,"column":20,"offset":36377}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQLite","position":{"start":{"line":697,"column":3,"offset":36381},"end":{"line":697,"column":9,"offset":36387}}}],"position":{"start":{"line":697,"column":1,"offset":36379},"end":{"line":697,"column":11,"offset":36389}}},{"type":"text","value":" is the DBMS, as the name suggests, it is a more lightweight system and thus easier to get set up than some others.","position":{"start":{"line":697,"column":11,"offset":36389},"end":{"line":697,"column":126,"offset":36504}}}],"position":{"start":{"line":697,"column":1,"offset":36379},"end":{"line":697,"column":126,"offset":36504}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQLite allows us to store databases as single files. SQLite projects have a ","position":{"start":{"line":699,"column":1,"offset":36506},"end":{"line":699,"column":77,"offset":36582}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".db3"}],"position":{"start":{"line":699,"column":77,"offset":36582},"end":{"line":699,"column":83,"offset":36588}}},{"type":"text","value":" extension. That is the database.","position":{"start":{"line":699,"column":83,"offset":36588},"end":{"line":699,"column":116,"offset":36621}}}],"position":{"start":{"line":699,"column":1,"offset":36506},"end":{"line":699,"column":116,"offset":36621}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQLite is ","position":{"start":{"line":701,"column":1,"offset":36623},"end":{"line":701,"column":11,"offset":36633}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"not a database","position":{"start":{"line":701,"column":12,"offset":36634},"end":{"line":701,"column":26,"offset":36648}}}],"position":{"start":{"line":701,"column":11,"offset":36633},"end":{"line":701,"column":27,"offset":36649}}},{"type":"text","value":" (like relational, graph, or document are databases) but rather ","position":{"start":{"line":701,"column":27,"offset":36649},"end":{"line":701,"column":91,"offset":36713}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"a database management system","position":{"start":{"line":701,"column":92,"offset":36714},"end":{"line":701,"column":120,"offset":36742}}}],"position":{"start":{"line":701,"column":91,"offset":36713},"end":{"line":701,"column":121,"offset":36743}}},{"type":"text","value":".","position":{"start":{"line":701,"column":121,"offset":36743},"end":{"line":701,"column":122,"offset":36744}}}],"position":{"start":{"line":701,"column":1,"offset":36623},"end":{"line":701,"column":122,"offset":36744}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Opening an existing database in SQLite Studio","position":{"start":{"line":703,"column":5,"offset":36750},"end":{"line":703,"column":50,"offset":36795}}}],"position":{"start":{"line":703,"column":1,"offset":36746},"end":{"line":703,"column":50,"offset":36795}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One useful visual interface we might use with a SQLite database is called ","position":{"start":{"line":705,"column":1,"offset":36797},"end":{"line":705,"column":75,"offset":36871}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQLite Studio","position":{"start":{"line":705,"column":77,"offset":36873},"end":{"line":705,"column":90,"offset":36886}}}],"position":{"start":{"line":705,"column":75,"offset":36871},"end":{"line":705,"column":92,"offset":36888}}},{"type":"text","value":". ","position":{"start":{"line":705,"column":92,"offset":36888},"end":{"line":705,"column":94,"offset":36890}}},{"type":"raw","value":"<a href=\"https://sqlitestudio.pl/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":705,"column":94,"offset":36890},"end":{"line":705,"column":169,"offset":36965}}},{"type":"text","value":"Install SQLITE Studio here. (Links to an external site.)","position":{"start":{"line":705,"column":169,"offset":36965},"end":{"line":705,"column":225,"offset":37021}}},{"type":"raw","value":"</a>","position":{"start":{"line":705,"column":225,"offset":37021},"end":{"line":705,"column":229,"offset":37025}}}],"position":{"start":{"line":705,"column":1,"offset":36797},"end":{"line":705,"column":229,"offset":37025}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once installed, we can use SQLite Studio to open any ","position":{"start":{"line":707,"column":1,"offset":37027},"end":{"line":707,"column":54,"offset":37080}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".db3"}],"position":{"start":{"line":707,"column":54,"offset":37080},"end":{"line":707,"column":60,"offset":37086}}},{"type":"text","value":" file from a previous lesson. We may view the tables, view the data, and even make changes to the database.","position":{"start":{"line":707,"column":60,"offset":37086},"end":{"line":707,"column":167,"offset":37193}}}],"position":{"start":{"line":707,"column":1,"offset":37027},"end":{"line":707,"column":167,"offset":37193}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a more detailed look at SQLite Studio, follow along in the video above.","position":{"start":{"line":709,"column":1,"offset":37195},"end":{"line":709,"column":76,"offset":37270}}}],"position":{"start":{"line":709,"column":1,"offset":37195},"end":{"line":709,"column":76,"offset":37270}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":711,"column":1,"offset":37272},"end":{"line":711,"column":4,"offset":37275}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>A **database schema** is the shape of our database. It defines what tables we’ll have, which columns should exist within the tables and any restrictions on each column.","position":{"start":{"line":713,"column":1,"offset":37277},"end":{"line":713,"column":287,"offset":37563}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A well-designed database schema keeps the data well organized and can help ensure high-quality data.","position":{"start":{"line":715,"column":1,"offset":37565},"end":{"line":715,"column":101,"offset":37665}}}],"position":{"start":{"line":715,"column":1,"offset":37565},"end":{"line":715,"column":101,"offset":37665}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that while schema design is usually left to Database Administrators (DBAs), understanding schema helps when designing APIs and database logic. And in a smaller team, this step may fall on the developer.","position":{"start":{"line":717,"column":1,"offset":37667},"end":{"line":717,"column":208,"offset":37874}}}],"position":{"start":{"line":717,"column":1,"offset":37667},"end":{"line":717,"column":208,"offset":37874}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":719,"column":1,"offset":37876},"end":{"line":719,"column":4,"offset":37879}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>For a look at schema design in SQLite Studio, follow along in the video above.","position":{"start":{"line":721,"column":1,"offset":37881},"end":{"line":721,"column":197,"offset":38077}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When designing a single table, we need to ask three things:","position":{"start":{"line":723,"column":1,"offset":38079},"end":{"line":723,"column":60,"offset":38138}}}],"position":{"start":{"line":723,"column":1,"offset":38079},"end":{"line":723,"column":60,"offset":38138}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2e1a\">","position":{"start":{"line":725,"column":5,"offset":38144},"end":{"line":725,"column":21,"offset":38160}}},{"type":"text","value":"What fields (or columns) are present?","position":{"start":{"line":725,"column":21,"offset":38160},"end":{"line":725,"column":58,"offset":38197}}},{"type":"raw","value":"</span>","position":{"start":{"line":725,"column":58,"offset":38197},"end":{"line":725,"column":65,"offset":38204}}}],"position":{"start":{"line":725,"column":1,"offset":38140},"end":{"line":725,"column":65,"offset":38204}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"52e7\">","position":{"start":{"line":726,"column":5,"offset":38209},"end":{"line":726,"column":21,"offset":38225}}},{"type":"text","value":"What type of data do we expect for each field?","position":{"start":{"line":726,"column":21,"offset":38225},"end":{"line":726,"column":67,"offset":38271}}},{"type":"raw","value":"</span>","position":{"start":{"line":726,"column":67,"offset":38271},"end":{"line":726,"column":74,"offset":38278}}}],"position":{"start":{"line":726,"column":1,"offset":38205},"end":{"line":726,"column":74,"offset":38278}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"8aff\">","position":{"start":{"line":727,"column":5,"offset":38283},"end":{"line":727,"column":21,"offset":38299}}},{"type":"text","value":"Are there other restrictions needed for each column?","position":{"start":{"line":727,"column":21,"offset":38299},"end":{"line":727,"column":73,"offset":38351}}},{"type":"raw","value":"</span>","position":{"start":{"line":727,"column":73,"offset":38351},"end":{"line":727,"column":80,"offset":38358}}}],"position":{"start":{"line":727,"column":1,"offset":38279},"end":{"line":727,"column":80,"offset":38358}}},{"type":"text","value":"\n"}],"position":{"start":{"line":725,"column":1,"offset":38140},"end":{"line":727,"column":80,"offset":38358}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Looking at the following schema diagram for an ","position":{"start":{"line":729,"column":1,"offset":38360},"end":{"line":729,"column":48,"offset":38407}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accounts"}],"position":{"start":{"line":729,"column":48,"offset":38407},"end":{"line":729,"column":58,"offset":38417}}},{"type":"text","value":" table, we can the answer to each other those questions:","position":{"start":{"line":729,"column":58,"offset":38417},"end":{"line":729,"column":114,"offset":38473}}}],"position":{"start":{"line":729,"column":1,"offset":38360},"end":{"line":729,"column":114,"offset":38473}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/9790405dda624818822293a383eec2d2\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":731,"column":1,"offset":38475},"end":{"line":731,"column":106,"offset":38580}}},{"type":"text","value":"Untitled","position":{"start":{"line":731,"column":106,"offset":38580},"end":{"line":731,"column":114,"offset":38588}}},{"type":"raw","value":"</a>","position":{"start":{"line":731,"column":114,"offset":38588},"end":{"line":731,"column":118,"offset":38592}}}],"position":{"start":{"line":731,"column":1,"offset":38475},"end":{"line":731,"column":118,"offset":38592}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Table Fields","position":{"start":{"line":733,"column":5,"offset":38598},"end":{"line":733,"column":17,"offset":38610}}}],"position":{"start":{"line":733,"column":1,"offset":38594},"end":{"line":733,"column":17,"offset":38610}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Choosing which fields to include in a table is relatively straight forward. What information needs to be tracked regarding this resource? In the real world, this is determined by the intended use of the product or app.","position":{"start":{"line":735,"column":1,"offset":38612},"end":{"line":735,"column":219,"offset":38830}}}],"position":{"start":{"line":735,"column":1,"offset":38612},"end":{"line":735,"column":219,"offset":38830}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, this is one requirement every table should satisfy: a ","position":{"start":{"line":737,"column":1,"offset":38832},"end":{"line":737,"column":64,"offset":38895}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"primary key","position":{"start":{"line":737,"column":66,"offset":38897},"end":{"line":737,"column":77,"offset":38908}}}],"position":{"start":{"line":737,"column":64,"offset":38895},"end":{"line":737,"column":79,"offset":38910}}},{"type":"text","value":". A primary key is a way to identify each entry in the database uniquely. It is most often represented as a auto-incrementing integer called ","position":{"start":{"line":737,"column":79,"offset":38910},"end":{"line":737,"column":220,"offset":39051}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":737,"column":220,"offset":39051},"end":{"line":737,"column":224,"offset":39055}}},{"type":"text","value":" or ","position":{"start":{"line":737,"column":224,"offset":39055},"end":{"line":737,"column":228,"offset":39059}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[tablename]Id"}],"position":{"start":{"line":737,"column":228,"offset":39059},"end":{"line":737,"column":243,"offset":39074}}},{"type":"text","value":".","position":{"start":{"line":737,"column":243,"offset":39074},"end":{"line":737,"column":244,"offset":39075}}}],"position":{"start":{"line":737,"column":1,"offset":38832},"end":{"line":737,"column":244,"offset":39075}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Datatypes","position":{"start":{"line":739,"column":5,"offset":39081},"end":{"line":739,"column":14,"offset":39090}}}],"position":{"start":{"line":739,"column":1,"offset":39077},"end":{"line":739,"column":14,"offset":39090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each field must also have a specified datatype. The datatype available depends on our DBMS. Some supported datatype in SQLite include:","position":{"start":{"line":741,"column":1,"offset":39092},"end":{"line":741,"column":135,"offset":39226}}}],"position":{"start":{"line":741,"column":1,"offset":39092},"end":{"line":741,"column":135,"offset":39226}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"92fb\">","position":{"start":{"line":743,"column":5,"offset":39232},"end":{"line":743,"column":21,"offset":39248}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Null:","position":{"start":{"line":743,"column":23,"offset":39250},"end":{"line":743,"column":28,"offset":39255}}}],"position":{"start":{"line":743,"column":21,"offset":39248},"end":{"line":743,"column":30,"offset":39257}}},{"type":"text","value":" Missing or unknown information.","position":{"start":{"line":743,"column":30,"offset":39257},"end":{"line":743,"column":62,"offset":39289}}},{"type":"raw","value":"</span>","position":{"start":{"line":743,"column":62,"offset":39289},"end":{"line":743,"column":69,"offset":39296}}}],"position":{"start":{"line":743,"column":1,"offset":39228},"end":{"line":743,"column":69,"offset":39296}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"32ef\">","position":{"start":{"line":744,"column":5,"offset":39301},"end":{"line":744,"column":21,"offset":39317}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Integer:","position":{"start":{"line":744,"column":23,"offset":39319},"end":{"line":744,"column":31,"offset":39327}}}],"position":{"start":{"line":744,"column":21,"offset":39317},"end":{"line":744,"column":33,"offset":39329}}},{"type":"text","value":" Whole numbers.","position":{"start":{"line":744,"column":33,"offset":39329},"end":{"line":744,"column":48,"offset":39344}}},{"type":"raw","value":"</span>","position":{"start":{"line":744,"column":48,"offset":39344},"end":{"line":744,"column":55,"offset":39351}}}],"position":{"start":{"line":744,"column":1,"offset":39297},"end":{"line":744,"column":55,"offset":39351}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"181d\">","position":{"start":{"line":745,"column":5,"offset":39356},"end":{"line":745,"column":21,"offset":39372}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Real:","position":{"start":{"line":745,"column":23,"offset":39374},"end":{"line":745,"column":28,"offset":39379}}}],"position":{"start":{"line":745,"column":21,"offset":39372},"end":{"line":745,"column":30,"offset":39381}}},{"type":"text","value":" Any number, including decimals.","position":{"start":{"line":745,"column":30,"offset":39381},"end":{"line":745,"column":62,"offset":39413}}},{"type":"raw","value":"</span>","position":{"start":{"line":745,"column":62,"offset":39413},"end":{"line":745,"column":69,"offset":39420}}}],"position":{"start":{"line":745,"column":1,"offset":39352},"end":{"line":745,"column":69,"offset":39420}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"ebce\">","position":{"start":{"line":746,"column":5,"offset":39425},"end":{"line":746,"column":21,"offset":39441}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Text:","position":{"start":{"line":746,"column":23,"offset":39443},"end":{"line":746,"column":28,"offset":39448}}}],"position":{"start":{"line":746,"column":21,"offset":39441},"end":{"line":746,"column":30,"offset":39450}}},{"type":"text","value":" Character data.","position":{"start":{"line":746,"column":30,"offset":39450},"end":{"line":746,"column":46,"offset":39466}}},{"type":"raw","value":"</span>","position":{"start":{"line":746,"column":46,"offset":39466},"end":{"line":746,"column":53,"offset":39473}}}],"position":{"start":{"line":746,"column":1,"offset":39421},"end":{"line":746,"column":53,"offset":39473}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c00e\">","position":{"start":{"line":747,"column":5,"offset":39478},"end":{"line":747,"column":21,"offset":39494}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Blob:","position":{"start":{"line":747,"column":23,"offset":39496},"end":{"line":747,"column":28,"offset":39501}}}],"position":{"start":{"line":747,"column":21,"offset":39494},"end":{"line":747,"column":30,"offset":39503}}},{"type":"text","value":" a large binary object that can be used to store miscellaneous data.","position":{"start":{"line":747,"column":30,"offset":39503},"end":{"line":747,"column":98,"offset":39571}}},{"type":"raw","value":"</span>","position":{"start":{"line":747,"column":98,"offset":39571},"end":{"line":747,"column":105,"offset":39578}}}],"position":{"start":{"line":747,"column":1,"offset":39474},"end":{"line":747,"column":105,"offset":39578}}},{"type":"text","value":"\n"}],"position":{"start":{"line":743,"column":1,"offset":39228},"end":{"line":747,"column":105,"offset":39578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Any data inserted into the table must match the datatypes determined in schema design.","position":{"start":{"line":749,"column":1,"offset":39580},"end":{"line":749,"column":87,"offset":39666}}}],"position":{"start":{"line":749,"column":1,"offset":39580},"end":{"line":749,"column":87,"offset":39666}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Constraints","position":{"start":{"line":751,"column":5,"offset":39672},"end":{"line":751,"column":16,"offset":39683}}}],"position":{"start":{"line":751,"column":1,"offset":39668},"end":{"line":751,"column":16,"offset":39683}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Beyond datatypes, we may add additional ","position":{"start":{"line":753,"column":1,"offset":39685},"end":{"line":753,"column":41,"offset":39725}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"constraints","position":{"start":{"line":753,"column":43,"offset":39727},"end":{"line":753,"column":54,"offset":39738}}}],"position":{"start":{"line":753,"column":41,"offset":39725},"end":{"line":753,"column":56,"offset":39740}}},{"type":"text","value":" on each field. Some examples include:","position":{"start":{"line":753,"column":56,"offset":39740},"end":{"line":753,"column":94,"offset":39778}}}],"position":{"start":{"line":753,"column":1,"offset":39685},"end":{"line":753,"column":94,"offset":39778}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"14ca\">","position":{"start":{"line":755,"column":5,"offset":39784},"end":{"line":755,"column":21,"offset":39800}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Not Null:","position":{"start":{"line":755,"column":23,"offset":39802},"end":{"line":755,"column":32,"offset":39811}}}],"position":{"start":{"line":755,"column":21,"offset":39800},"end":{"line":755,"column":34,"offset":39813}}},{"type":"text","value":" The field cannot be left empty","position":{"start":{"line":755,"column":34,"offset":39813},"end":{"line":755,"column":65,"offset":39844}}},{"type":"raw","value":"</span>","position":{"start":{"line":755,"column":65,"offset":39844},"end":{"line":755,"column":72,"offset":39851}}}],"position":{"start":{"line":755,"column":1,"offset":39780},"end":{"line":755,"column":72,"offset":39851}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b533\">","position":{"start":{"line":756,"column":5,"offset":39856},"end":{"line":756,"column":21,"offset":39872}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Unique:","position":{"start":{"line":756,"column":23,"offset":39874},"end":{"line":756,"column":30,"offset":39881}}}],"position":{"start":{"line":756,"column":21,"offset":39872},"end":{"line":756,"column":32,"offset":39883}}},{"type":"text","value":" No two records can have the same value in this field","position":{"start":{"line":756,"column":32,"offset":39883},"end":{"line":756,"column":85,"offset":39936}}},{"type":"raw","value":"</span>","position":{"start":{"line":756,"column":85,"offset":39936},"end":{"line":756,"column":92,"offset":39943}}}],"position":{"start":{"line":756,"column":1,"offset":39852},"end":{"line":756,"column":92,"offset":39943}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f0c4\">","position":{"start":{"line":757,"column":5,"offset":39948},"end":{"line":757,"column":21,"offset":39964}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Primary key:","position":{"start":{"line":757,"column":23,"offset":39966},"end":{"line":757,"column":35,"offset":39978}}}],"position":{"start":{"line":757,"column":21,"offset":39964},"end":{"line":757,"column":37,"offset":39980}}},{"type":"text","value":" — Indicates this field is the primary key. Both the not null and unique constraints will be enforced.","position":{"start":{"line":757,"column":37,"offset":39980},"end":{"line":757,"column":139,"offset":40082}}},{"type":"raw","value":"</span>","position":{"start":{"line":757,"column":139,"offset":40082},"end":{"line":757,"column":146,"offset":40089}}}],"position":{"start":{"line":757,"column":1,"offset":39944},"end":{"line":757,"column":146,"offset":40089}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f116\">","position":{"start":{"line":758,"column":5,"offset":40094},"end":{"line":758,"column":21,"offset":40110}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Default:","position":{"start":{"line":758,"column":23,"offset":40112},"end":{"line":758,"column":31,"offset":40120}}}],"position":{"start":{"line":758,"column":21,"offset":40110},"end":{"line":758,"column":33,"offset":40122}}},{"type":"text","value":" — Sets a default value if none is provided.","position":{"start":{"line":758,"column":33,"offset":40122},"end":{"line":758,"column":77,"offset":40166}}},{"type":"raw","value":"</span>","position":{"start":{"line":758,"column":77,"offset":40166},"end":{"line":758,"column":84,"offset":40173}}}],"position":{"start":{"line":758,"column":1,"offset":40090},"end":{"line":758,"column":84,"offset":40173}}},{"type":"text","value":"\n"}],"position":{"start":{"line":755,"column":1,"offset":39780},"end":{"line":758,"column":84,"offset":40173}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As with data types, any data that does not satisfy the schema constraints will be rejected from the database.","position":{"start":{"line":760,"column":1,"offset":40175},"end":{"line":760,"column":110,"offset":40284}}}],"position":{"start":{"line":760,"column":1,"offset":40175},"end":{"line":760,"column":110,"offset":40284}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":762,"column":1,"offset":40286},"end":{"line":762,"column":4,"offset":40289}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":764,"column":1,"offset":40291},"end":{"line":764,"column":4,"offset":40294}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Multi-Table Design","position":{"start":{"line":766,"column":1,"offset":40296},"end":{"line":766,"column":141,"offset":40436}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Another critical component of schema design is to understand how different tables relate to each other. This will be covered in later lesson.","position":{"start":{"line":768,"column":1,"offset":40438},"end":{"line":768,"column":142,"offset":40579}}}],"position":{"start":{"line":768,"column":1,"offset":40438},"end":{"line":768,"column":142,"offset":40579}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Knex provides a ","position":{"start":{"line":770,"column":1,"offset":40581},"end":{"line":770,"column":17,"offset":40597}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":770,"column":19,"offset":40599},"end":{"line":770,"column":33,"offset":40613}}}],"position":{"start":{"line":770,"column":17,"offset":40597},"end":{"line":770,"column":35,"offset":40615}}},{"type":"text","value":", which allows us to write code to design our database schema. However, beyond thinking about columns and constraints, we must also consider updates.","position":{"start":{"line":770,"column":35,"offset":40615},"end":{"line":770,"column":184,"offset":40764}}}],"position":{"start":{"line":770,"column":1,"offset":40581},"end":{"line":770,"column":184,"offset":40764}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a schema needs to be updated, a developer must feel confident that the changes go into effect everywhere. This means schema updates on the developer’s local machine, on any testing or staging versions, on the production database, and then on any other developer’s local machines. This is where ","position":{"start":{"line":772,"column":1,"offset":40766},"end":{"line":772,"column":300,"offset":41065}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":772,"column":302,"offset":41067},"end":{"line":772,"column":312,"offset":41077}}}],"position":{"start":{"line":772,"column":300,"offset":41065},"end":{"line":772,"column":314,"offset":41079}}},{"type":"text","value":" come into play.","position":{"start":{"line":772,"column":314,"offset":41079},"end":{"line":772,"column":330,"offset":41095}}}],"position":{"start":{"line":772,"column":1,"offset":40766},"end":{"line":772,"column":330,"offset":41095}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":774,"column":1,"offset":41097},"end":{"line":774,"column":3,"offset":41099}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"database migration"}],"position":{"start":{"line":774,"column":3,"offset":41099},"end":{"line":774,"column":23,"offset":41119}}},{"type":"text","value":" describes changes made to the structure of a database. Migrations include things like adding new objects, adding new tables, and modifying existing objects or tables.","position":{"start":{"line":774,"column":23,"offset":41119},"end":{"line":774,"column":190,"offset":41286}}}],"position":{"start":{"line":774,"column":1,"offset":41097},"end":{"line":774,"column":190,"offset":41286}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":776,"column":1,"offset":41288},"end":{"line":776,"column":4,"offset":41291}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Knex Cli","position":{"start":{"line":778,"column":1,"offset":41293},"end":{"line":778,"column":131,"offset":41423}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use migrations (and to make Knex setup easier), we need to use ","position":{"start":{"line":780,"column":1,"offset":41425},"end":{"line":780,"column":67,"offset":41491}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"knex cli","position":{"start":{"line":780,"column":69,"offset":41493},"end":{"line":780,"column":77,"offset":41501}}}],"position":{"start":{"line":780,"column":67,"offset":41491},"end":{"line":780,"column":79,"offset":41503}}},{"type":"text","value":". Install knex globally with ","position":{"start":{"line":780,"column":79,"offset":41503},"end":{"line":780,"column":108,"offset":41532}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install -g knex"}],"position":{"start":{"line":780,"column":108,"offset":41532},"end":{"line":780,"column":129,"offset":41553}}},{"type":"text","value":".","position":{"start":{"line":780,"column":129,"offset":41553},"end":{"line":780,"column":130,"offset":41554}}}],"position":{"start":{"line":780,"column":1,"offset":41425},"end":{"line":780,"column":130,"offset":41554}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows you to use Knex commands within any repo that has ","position":{"start":{"line":782,"column":1,"offset":41556},"end":{"line":782,"column":63,"offset":41618}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":782,"column":63,"offset":41618},"end":{"line":782,"column":69,"offset":41624}}},{"type":"text","value":" as a local dependency. If you have any issues with this global install, you can use the ","position":{"start":{"line":782,"column":69,"offset":41624},"end":{"line":782,"column":158,"offset":41713}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex"}],"position":{"start":{"line":782,"column":158,"offset":41713},"end":{"line":782,"column":168,"offset":41723}}},{"type":"text","value":" command instead.","position":{"start":{"line":782,"column":168,"offset":41723},"end":{"line":782,"column":185,"offset":41740}}}],"position":{"start":{"line":782,"column":1,"offset":41556},"end":{"line":782,"column":185,"offset":41740}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Initializing Knex","position":{"start":{"line":784,"column":5,"offset":41746},"end":{"line":784,"column":22,"offset":41763}}}],"position":{"start":{"line":784,"column":1,"offset":41742},"end":{"line":784,"column":22,"offset":41763}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To start, add the ","position":{"start":{"line":786,"column":1,"offset":41765},"end":{"line":786,"column":19,"offset":41783}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":786,"column":19,"offset":41783},"end":{"line":786,"column":25,"offset":41789}}},{"type":"text","value":" and ","position":{"start":{"line":786,"column":25,"offset":41789},"end":{"line":786,"column":30,"offset":41794}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":786,"column":30,"offset":41794},"end":{"line":786,"column":39,"offset":41803}}},{"type":"text","value":" libraries to your repository.","position":{"start":{"line":786,"column":39,"offset":41803},"end":{"line":786,"column":69,"offset":41833}}}],"position":{"start":{"line":786,"column":1,"offset":41765},"end":{"line":786,"column":69,"offset":41833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex sqlite3"}],"position":{"start":{"line":788,"column":1,"offset":41835},"end":{"line":788,"column":27,"offset":41861}}}],"position":{"start":{"line":788,"column":1,"offset":41835},"end":{"line":788,"column":27,"offset":41861}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’ve seen how to use manually create a config object to get started with Knex, but the best practice is to use the following command:","position":{"start":{"line":790,"column":1,"offset":41863},"end":{"line":790,"column":135,"offset":41997}}}],"position":{"start":{"line":790,"column":1,"offset":41863},"end":{"line":790,"column":135,"offset":41997}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex init\n"}],"position":{"start":{"line":792,"column":1,"offset":41999},"end":{"line":792,"column":14,"offset":42012}}}],"position":{"start":{"line":792,"column":1,"offset":41999},"end":{"line":792,"column":14,"offset":42012}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Or, if Knex isn’t globally installed:","position":{"start":{"line":794,"column":1,"offset":42014},"end":{"line":794,"column":38,"offset":42051}}}],"position":{"start":{"line":794,"column":1,"offset":42014},"end":{"line":794,"column":38,"offset":42051}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex init\n"}],"position":{"start":{"line":796,"column":1,"offset":42053},"end":{"line":796,"column":18,"offset":42070}}}],"position":{"start":{"line":796,"column":1,"offset":42053},"end":{"line":796,"column":18,"offset":42070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This command will generate a file in your root folder called ","position":{"start":{"line":798,"column":1,"offset":42072},"end":{"line":798,"column":62,"offset":42133}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile.js"}],"position":{"start":{"line":798,"column":62,"offset":42133},"end":{"line":798,"column":75,"offset":42146}}},{"type":"text","value":". It will be auto populated with three config objects, based on different environments. We can delete all except for the development object.","position":{"start":{"line":798,"column":75,"offset":42146},"end":{"line":798,"column":215,"offset":42286}}}],"position":{"start":{"line":798,"column":1,"offset":42072},"end":{"line":798,"column":215,"offset":42286}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    client: 'sqlite3',\n    connection: {\n      filename: './dev.sqlite3'\n    }\n  }\n\n};\n"}],"position":{"start":{"line":800,"column":1,"offset":42288},"end":{"line":809,"column":7,"offset":42441}}}],"position":{"start":{"line":800,"column":1,"offset":42288},"end":{"line":809,"column":7,"offset":42441}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’ll need to update the location (or desired location) of the database as well as add the ","position":{"start":{"line":811,"column":1,"offset":42443},"end":{"line":811,"column":92,"offset":42534}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"useNullAsDefault"}],"position":{"start":{"line":811,"column":92,"offset":42534},"end":{"line":811,"column":110,"offset":42552}}},{"type":"text","value":" option. The latter option prevents crashes when working with ","position":{"start":{"line":811,"column":110,"offset":42552},"end":{"line":811,"column":172,"offset":42614}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":811,"column":172,"offset":42614},"end":{"line":811,"column":181,"offset":42623}}},{"type":"text","value":".","position":{"start":{"line":811,"column":181,"offset":42623},"end":{"line":811,"column":182,"offset":42624}}}],"position":{"start":{"line":811,"column":1,"offset":42443},"end":{"line":811,"column":182,"offset":42624}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    // our DBMS driver\n    client: 'sqlite3',\n    // the location of our db\n    connection: {\n      filename: './data/database_file.db3',\n    },\n    // necessary when using sqlite3\n    useNullAsDefault: true\n  }\n\n};\n"}],"position":{"start":{"line":813,"column":1,"offset":42626},"end":{"line":826,"column":7,"offset":42924}}}],"position":{"start":{"line":813,"column":1,"offset":42626},"end":{"line":826,"column":7,"offset":42924}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now, wherever we configure our database, we may use the following syntax instead of hardcoding in a config object.","position":{"start":{"line":828,"column":1,"offset":42926},"end":{"line":828,"column":115,"offset":43040}}}],"position":{"start":{"line":828,"column":1,"offset":42926},"end":{"line":828,"column":115,"offset":43040}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const knex = require('knex');\n\nconst config = require('../knexfile.js');\n\n// we must select the development object from our knexfile\nconst db = knex(config.development);\n\n// export for use in codebase\nmodule.exports = db;\n"}],"position":{"start":{"line":830,"column":1,"offset":43042},"end":{"line":838,"column":25,"offset":43287}}}],"position":{"start":{"line":830,"column":1,"offset":43042},"end":{"line":838,"column":25,"offset":43287}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Knex Migrations","position":{"start":{"line":840,"column":5,"offset":43293},"end":{"line":840,"column":20,"offset":43308}}}],"position":{"start":{"line":840,"column":1,"offset":43289},"end":{"line":840,"column":20,"offset":43308}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once our ","position":{"start":{"line":842,"column":1,"offset":43310},"end":{"line":842,"column":10,"offset":43319}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":842,"column":10,"offset":43319},"end":{"line":842,"column":20,"offset":43329}}},{"type":"text","value":" is set up, we can begin creating ","position":{"start":{"line":842,"column":20,"offset":43329},"end":{"line":842,"column":54,"offset":43363}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":842,"column":56,"offset":43365},"end":{"line":842,"column":66,"offset":43375}}}],"position":{"start":{"line":842,"column":54,"offset":43363},"end":{"line":842,"column":68,"offset":43377}}},{"type":"text","value":". Though it's not required, we are going to add an ","position":{"start":{"line":842,"column":68,"offset":43377},"end":{"line":842,"column":119,"offset":43428}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"addition"}],"position":{"start":{"line":842,"column":119,"offset":43428},"end":{"line":842,"column":129,"offset":43438}}},{"type":"text","value":" option to the config object to specify a directory for the migration files.","position":{"start":{"line":842,"column":129,"offset":43438},"end":{"line":842,"column":205,"offset":43514}}}],"position":{"start":{"line":842,"column":1,"offset":43310},"end":{"line":842,"column":205,"offset":43514}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n    client: 'sqlite3',\n    connection: {\n      filename: './data/produce.db3',\n    },\n    useNullAsDefault: true,\n    // generates migration files in a data/migrations/ folder\n    migrations: {\n      directory: './data/migrations'\n    }\n  }\n"}],"position":{"start":{"line":844,"column":1,"offset":43516},"end":{"line":854,"column":8,"offset":43815}}}],"position":{"start":{"line":844,"column":1,"offset":43516},"end":{"line":854,"column":8,"offset":43815}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can generate a new migration with the following command:","position":{"start":{"line":856,"column":1,"offset":43817},"end":{"line":856,"column":60,"offset":43876}}}],"position":{"start":{"line":856,"column":1,"offset":43817},"end":{"line":856,"column":60,"offset":43876}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make [migration-name]"}],"position":{"start":{"line":858,"column":1,"offset":43878},"end":{"line":858,"column":37,"offset":43914}}}],"position":{"start":{"line":858,"column":1,"offset":43878},"end":{"line":858,"column":37,"offset":43914}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we needed to create an accounts table, we might run:","position":{"start":{"line":860,"column":1,"offset":43916},"end":{"line":860,"column":56,"offset":43971}}}],"position":{"start":{"line":860,"column":1,"offset":43916},"end":{"line":860,"column":56,"offset":43971}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make create-accounts"}],"position":{"start":{"line":862,"column":1,"offset":43973},"end":{"line":862,"column":36,"offset":44008}}}],"position":{"start":{"line":862,"column":1,"offset":43973},"end":{"line":862,"column":36,"offset":44008}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that inside ","position":{"start":{"line":864,"column":1,"offset":44010},"end":{"line":864,"column":18,"offset":44027}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"data/migrations/"}],"position":{"start":{"line":864,"column":18,"offset":44027},"end":{"line":864,"column":36,"offset":44045}}},{"type":"text","value":" a new file has appeared. Migrations have a timestamp in their filenames automatically. Wither you like this or not, ","position":{"start":{"line":864,"column":36,"offset":44045},"end":{"line":864,"column":153,"offset":44162}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"do not edit migration names.","position":{"start":{"line":864,"column":155,"offset":44164},"end":{"line":864,"column":183,"offset":44192}}}],"position":{"start":{"line":864,"column":153,"offset":44162},"end":{"line":864,"column":185,"offset":44194}}}],"position":{"start":{"line":864,"column":1,"offset":44010},"end":{"line":864,"column":185,"offset":44194}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The migration file should have both an ","position":{"start":{"line":866,"column":1,"offset":44196},"end":{"line":866,"column":40,"offset":44235}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":866,"column":40,"offset":44235},"end":{"line":866,"column":44,"offset":44239}}},{"type":"text","value":" and a ","position":{"start":{"line":866,"column":44,"offset":44239},"end":{"line":866,"column":51,"offset":44246}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":866,"column":51,"offset":44246},"end":{"line":866,"column":57,"offset":44252}}},{"type":"text","value":" function. Within the ","position":{"start":{"line":866,"column":57,"offset":44252},"end":{"line":866,"column":79,"offset":44274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":866,"column":79,"offset":44274},"end":{"line":866,"column":83,"offset":44278}}},{"type":"text","value":" function, we write the ended database changes. Within the ","position":{"start":{"line":866,"column":83,"offset":44278},"end":{"line":866,"column":142,"offset":44337}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":866,"column":142,"offset":44337},"end":{"line":866,"column":148,"offset":44343}}},{"type":"text","value":" function, we write the code to undo the ","position":{"start":{"line":866,"column":148,"offset":44343},"end":{"line":866,"column":189,"offset":44384}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":866,"column":189,"offset":44384},"end":{"line":866,"column":193,"offset":44388}}},{"type":"text","value":" functions. This allows us to undo any changes made to the schema if necessary.","position":{"start":{"line":866,"column":193,"offset":44388},"end":{"line":866,"column":272,"offset":44467}}}],"position":{"start":{"line":866,"column":1,"offset":44196},"end":{"line":866,"column":272,"offset":44467}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.up = function(knex, Promise) {\n  // don't forget the return statement\n  return knex.schema.createTable('accounts', tbl => {\n    // creates a primary key called id\n    tbl.increments();\n    // creates a text field called name which is both required and unique\n    tbl.text('name', 128).unique().notNullable();\n    // creates a numeric field called budget which is required\n    tbl.decimal('budget').notNullable();\n  });\n};\n\nexports.down = function(knex, Promise) {\n  // drops the entire table\n  return knex.schema.dropTableIfExists('accounts');\n};\n"}],"position":{"start":{"line":868,"column":1,"offset":44469},"end":{"line":883,"column":7,"offset":45083}}}],"position":{"start":{"line":868,"column":1,"offset":44469},"end":{"line":883,"column":7,"offset":45083}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References for these methods are found in the ","position":{"start":{"line":885,"column":1,"offset":45085},"end":{"line":885,"column":47,"offset":45131}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":885,"column":49,"offset":45133},"end":{"line":885,"column":63,"offset":45147}}}],"position":{"start":{"line":885,"column":47,"offset":45131},"end":{"line":885,"column":65,"offset":45149}}},{"type":"text","value":" section of the ","position":{"start":{"line":885,"column":65,"offset":45149},"end":{"line":885,"column":81,"offset":45165}}},{"type":"raw","value":"<a href=\"https://knexjs.org/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":885,"column":81,"offset":45165},"end":{"line":885,"column":151,"offset":45235}}},{"type":"text","value":"Knex docs (Links to an external site.)","position":{"start":{"line":885,"column":151,"offset":45235},"end":{"line":885,"column":189,"offset":45273}}},{"type":"raw","value":"</a>","position":{"start":{"line":885,"column":189,"offset":45273},"end":{"line":885,"column":193,"offset":45277}}},{"type":"text","value":".","position":{"start":{"line":885,"column":193,"offset":45277},"end":{"line":885,"column":194,"offset":45278}}}],"position":{"start":{"line":885,"column":1,"offset":45085},"end":{"line":885,"column":194,"offset":45278}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At this point, the table is ","position":{"start":{"line":887,"column":1,"offset":45280},"end":{"line":887,"column":29,"offset":45308}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"not","position":{"start":{"line":887,"column":31,"offset":45310},"end":{"line":887,"column":34,"offset":45313}}}],"position":{"start":{"line":887,"column":29,"offset":45308},"end":{"line":887,"column":36,"offset":45315}}},{"type":"text","value":" yet created. To run this (and any other) migrations, use the command:","position":{"start":{"line":887,"column":36,"offset":45315},"end":{"line":887,"column":106,"offset":45385}}}],"position":{"start":{"line":887,"column":1,"offset":45280},"end":{"line":887,"column":106,"offset":45385}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":889,"column":1,"offset":45387},"end":{"line":889,"column":22,"offset":45408}}}],"position":{"start":{"line":889,"column":1,"offset":45387},"end":{"line":889,"column":22,"offset":45408}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note if the database does not exist, this command will auto-generate one. We can use SQLite Studio to confirm that the accounts table has been created.","position":{"start":{"line":891,"column":1,"offset":45410},"end":{"line":891,"column":152,"offset":45561}}}],"position":{"start":{"line":891,"column":1,"offset":45410},"end":{"line":891,"column":152,"offset":45561}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Changes and Rollbacks","position":{"start":{"line":893,"column":5,"offset":45567},"end":{"line":893,"column":26,"offset":45588}}}],"position":{"start":{"line":893,"column":1,"offset":45563},"end":{"line":893,"column":26,"offset":45588}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If later down the road, we realize you need to update your schema, you shouldn’t edit the migration file. Instead, you will want to create a new migration with the command:","position":{"start":{"line":895,"column":1,"offset":45590},"end":{"line":895,"column":173,"offset":45762}}}],"position":{"start":{"line":895,"column":1,"offset":45590},"end":{"line":895,"column":173,"offset":45762}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make accounts-schema-update"}],"position":{"start":{"line":897,"column":1,"offset":45764},"end":{"line":897,"column":43,"offset":45806}}}],"position":{"start":{"line":897,"column":1,"offset":45764},"end":{"line":897,"column":43,"offset":45806}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once we’ve written our updates into this file we save and close with:","position":{"start":{"line":899,"column":1,"offset":45808},"end":{"line":899,"column":70,"offset":45877}}}],"position":{"start":{"line":899,"column":1,"offset":45808},"end":{"line":899,"column":70,"offset":45877}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":901,"column":1,"offset":45879},"end":{"line":901,"column":22,"offset":45900}}}],"position":{"start":{"line":901,"column":1,"offset":45879},"end":{"line":901,"column":22,"offset":45900}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we migrate our database and then quickly realize something isn’t right, we can edit the migration file. However, first, we need to ","position":{"start":{"line":903,"column":1,"offset":45902},"end":{"line":903,"column":135,"offset":46036}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"rolllback","position":{"start":{"line":903,"column":137,"offset":46038},"end":{"line":903,"column":146,"offset":46047}}}],"position":{"start":{"line":903,"column":135,"offset":46036},"end":{"line":903,"column":148,"offset":46049}}},{"type":"text","value":" (or undo) our last migration with:","position":{"start":{"line":903,"column":148,"offset":46049},"end":{"line":903,"column":183,"offset":46084}}}],"position":{"start":{"line":903,"column":1,"offset":45902},"end":{"line":903,"column":183,"offset":46084}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:rollback"}],"position":{"start":{"line":905,"column":1,"offset":46086},"end":{"line":905,"column":24,"offset":46109}}}],"position":{"start":{"line":905,"column":1,"offset":46086},"end":{"line":905,"column":24,"offset":46109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally, we are free to rerun that file with ","position":{"start":{"line":907,"column":1,"offset":46111},"end":{"line":907,"column":46,"offset":46156}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate"}],"position":{"start":{"line":907,"column":46,"offset":46156},"end":{"line":907,"column":60,"offset":46170}}},{"type":"text","value":" latest.","position":{"start":{"line":907,"column":60,"offset":46170},"end":{"line":907,"column":68,"offset":46178}}}],"position":{"start":{"line":907,"column":1,"offset":46111},"end":{"line":907,"column":68,"offset":46178}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOTE","position":{"start":{"line":909,"column":3,"offset":46182},"end":{"line":909,"column":7,"offset":46186}}}],"position":{"start":{"line":909,"column":1,"offset":46180},"end":{"line":909,"column":9,"offset":46188}}},{"type":"text","value":": A rollback should not be used to edit an old migration file once that file has accepted into a main branch. However, an entire team may use a rollback to return to a previous version of a database.","position":{"start":{"line":909,"column":9,"offset":46188},"end":{"line":909,"column":208,"offset":46387}}}],"position":{"start":{"line":909,"column":1,"offset":46180},"end":{"line":909,"column":208,"offset":46387}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":911,"column":5,"offset":46393},"end":{"line":911,"column":13,"offset":46401}}}],"position":{"start":{"line":911,"column":1,"offset":46389},"end":{"line":911,"column":13,"offset":46401}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Knex provides a ","position":{"start":{"line":913,"column":1,"offset":46403},"end":{"line":913,"column":17,"offset":46419}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":913,"column":19,"offset":46421},"end":{"line":913,"column":33,"offset":46435}}}],"position":{"start":{"line":913,"column":17,"offset":46419},"end":{"line":913,"column":35,"offset":46437}}},{"type":"text","value":", which allows us to write code to design our database schema. However, beyond thinking about columns and constraints, we must also consider updates.","position":{"start":{"line":913,"column":35,"offset":46437},"end":{"line":913,"column":184,"offset":46586}}}],"position":{"start":{"line":913,"column":1,"offset":46403},"end":{"line":913,"column":184,"offset":46586}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a schema needs to be updated, a developer must feel confident that the changes go into effect everywhere. This means schema updates on the developer’s local machine, on any testing or staging versions, on the production database, and then on any other developer’s local machines. This is where ","position":{"start":{"line":915,"column":1,"offset":46588},"end":{"line":915,"column":300,"offset":46887}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":915,"column":302,"offset":46889},"end":{"line":915,"column":312,"offset":46899}}}],"position":{"start":{"line":915,"column":300,"offset":46887},"end":{"line":915,"column":314,"offset":46901}}},{"type":"text","value":" come into play.","position":{"start":{"line":915,"column":314,"offset":46901},"end":{"line":915,"column":330,"offset":46917}}}],"position":{"start":{"line":915,"column":1,"offset":46588},"end":{"line":915,"column":330,"offset":46917}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":917,"column":1,"offset":46919},"end":{"line":917,"column":3,"offset":46921}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"database migration"}],"position":{"start":{"line":917,"column":3,"offset":46921},"end":{"line":917,"column":23,"offset":46941}}},{"type":"text","value":" describes changes made to the structure of a database. Migrations include things like adding new objects, adding new tables, and modifying existing objects or tables.","position":{"start":{"line":917,"column":23,"offset":46941},"end":{"line":917,"column":190,"offset":47108}}}],"position":{"start":{"line":917,"column":1,"offset":46919},"end":{"line":917,"column":190,"offset":47108}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":919,"column":1,"offset":47110},"end":{"line":919,"column":4,"offset":47113}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Knex Cli","position":{"start":{"line":921,"column":1,"offset":47115},"end":{"line":921,"column":131,"offset":47245}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use migrations (and to make Knex setup easier), we need to use ","position":{"start":{"line":923,"column":1,"offset":47247},"end":{"line":923,"column":67,"offset":47313}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"knex cli","position":{"start":{"line":923,"column":69,"offset":47315},"end":{"line":923,"column":77,"offset":47323}}}],"position":{"start":{"line":923,"column":67,"offset":47313},"end":{"line":923,"column":79,"offset":47325}}},{"type":"text","value":". Install knex globally with ","position":{"start":{"line":923,"column":79,"offset":47325},"end":{"line":923,"column":108,"offset":47354}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install -g knex"}],"position":{"start":{"line":923,"column":108,"offset":47354},"end":{"line":923,"column":129,"offset":47375}}},{"type":"text","value":".","position":{"start":{"line":923,"column":129,"offset":47375},"end":{"line":923,"column":130,"offset":47376}}}],"position":{"start":{"line":923,"column":1,"offset":47247},"end":{"line":923,"column":130,"offset":47376}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows you to use Knex commands within any repo that has ","position":{"start":{"line":925,"column":1,"offset":47378},"end":{"line":925,"column":63,"offset":47440}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":925,"column":63,"offset":47440},"end":{"line":925,"column":69,"offset":47446}}},{"type":"text","value":" as a local dependency. If you have any issues with this global install, you can use the ","position":{"start":{"line":925,"column":69,"offset":47446},"end":{"line":925,"column":158,"offset":47535}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex"}],"position":{"start":{"line":925,"column":158,"offset":47535},"end":{"line":925,"column":168,"offset":47545}}},{"type":"text","value":" command instead.","position":{"start":{"line":925,"column":168,"offset":47545},"end":{"line":925,"column":185,"offset":47562}}}],"position":{"start":{"line":925,"column":1,"offset":47378},"end":{"line":925,"column":185,"offset":47562}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Initializing Knex","position":{"start":{"line":927,"column":5,"offset":47568},"end":{"line":927,"column":22,"offset":47585}}}],"position":{"start":{"line":927,"column":1,"offset":47564},"end":{"line":927,"column":22,"offset":47585}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To start, add the ","position":{"start":{"line":929,"column":1,"offset":47587},"end":{"line":929,"column":19,"offset":47605}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":929,"column":19,"offset":47605},"end":{"line":929,"column":25,"offset":47611}}},{"type":"text","value":" and ","position":{"start":{"line":929,"column":25,"offset":47611},"end":{"line":929,"column":30,"offset":47616}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":929,"column":30,"offset":47616},"end":{"line":929,"column":39,"offset":47625}}},{"type":"text","value":" libraries to your repository.","position":{"start":{"line":929,"column":39,"offset":47625},"end":{"line":929,"column":69,"offset":47655}}}],"position":{"start":{"line":929,"column":1,"offset":47587},"end":{"line":929,"column":69,"offset":47655}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex sqlite3"}],"position":{"start":{"line":931,"column":1,"offset":47657},"end":{"line":931,"column":27,"offset":47683}}}],"position":{"start":{"line":931,"column":1,"offset":47657},"end":{"line":931,"column":27,"offset":47683}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’ve seen how to use manually create a config object to get started with Knex, but the best practice is to use the following command:","position":{"start":{"line":933,"column":1,"offset":47685},"end":{"line":933,"column":135,"offset":47819}}}],"position":{"start":{"line":933,"column":1,"offset":47685},"end":{"line":933,"column":135,"offset":47819}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex init\n"}],"position":{"start":{"line":935,"column":1,"offset":47821},"end":{"line":935,"column":14,"offset":47834}}}],"position":{"start":{"line":935,"column":1,"offset":47821},"end":{"line":935,"column":14,"offset":47834}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Or, if Knex isn’t globally installed:","position":{"start":{"line":937,"column":1,"offset":47836},"end":{"line":937,"column":38,"offset":47873}}}],"position":{"start":{"line":937,"column":1,"offset":47836},"end":{"line":937,"column":38,"offset":47873}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex init\n"}],"position":{"start":{"line":939,"column":1,"offset":47875},"end":{"line":939,"column":18,"offset":47892}}}],"position":{"start":{"line":939,"column":1,"offset":47875},"end":{"line":939,"column":18,"offset":47892}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This command will generate a file in your root folder called ","position":{"start":{"line":941,"column":1,"offset":47894},"end":{"line":941,"column":62,"offset":47955}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile.js"}],"position":{"start":{"line":941,"column":62,"offset":47955},"end":{"line":941,"column":75,"offset":47968}}},{"type":"text","value":". It will be auto populated with three config objects, based on different environments. We can delete all except for the development object.","position":{"start":{"line":941,"column":75,"offset":47968},"end":{"line":941,"column":215,"offset":48108}}}],"position":{"start":{"line":941,"column":1,"offset":47894},"end":{"line":941,"column":215,"offset":48108}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    client: 'sqlite3',\n    connection: {\n      filename: './dev.sqlite3'\n    }\n  }\n\n};\n"}],"position":{"start":{"line":943,"column":1,"offset":48110},"end":{"line":952,"column":7,"offset":48263}}}],"position":{"start":{"line":943,"column":1,"offset":48110},"end":{"line":952,"column":7,"offset":48263}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We’ll need to update the location (or desired location) of the database as well as add the ","position":{"start":{"line":954,"column":1,"offset":48265},"end":{"line":954,"column":92,"offset":48356}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"useNullAsDefault"}],"position":{"start":{"line":954,"column":92,"offset":48356},"end":{"line":954,"column":110,"offset":48374}}},{"type":"text","value":" option. The latter option prevents crashes when working with ","position":{"start":{"line":954,"column":110,"offset":48374},"end":{"line":954,"column":172,"offset":48436}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":954,"column":172,"offset":48436},"end":{"line":954,"column":181,"offset":48445}}},{"type":"text","value":".","position":{"start":{"line":954,"column":181,"offset":48445},"end":{"line":954,"column":182,"offset":48446}}}],"position":{"start":{"line":954,"column":1,"offset":48265},"end":{"line":954,"column":182,"offset":48446}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    // our DBMS driver\n    client: 'sqlite3',\n    // the location of our db\n    connection: {\n      filename: './data/database_file.db3',\n    },\n    // necessary when using sqlite3\n    useNullAsDefault: true\n  }\n\n};\n"}],"position":{"start":{"line":956,"column":1,"offset":48448},"end":{"line":969,"column":7,"offset":48746}}}],"position":{"start":{"line":956,"column":1,"offset":48448},"end":{"line":969,"column":7,"offset":48746}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now, wherever we configure our database, we may use the following syntax instead of hardcoding in a config object.","position":{"start":{"line":971,"column":1,"offset":48748},"end":{"line":971,"column":115,"offset":48862}}}],"position":{"start":{"line":971,"column":1,"offset":48748},"end":{"line":971,"column":115,"offset":48862}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const knex = require('knex');\n\nconst config = require('../knexfile.js');\n\n// we must select the development object from our knexfile\nconst db = knex(config.development);\n\n// export for use in codebase\nmodule.exports = db;\n"}],"position":{"start":{"line":973,"column":1,"offset":48864},"end":{"line":981,"column":25,"offset":49109}}}],"position":{"start":{"line":973,"column":1,"offset":48864},"end":{"line":981,"column":25,"offset":49109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Knex Migrations","position":{"start":{"line":983,"column":5,"offset":49115},"end":{"line":983,"column":20,"offset":49130}}}],"position":{"start":{"line":983,"column":1,"offset":49111},"end":{"line":983,"column":20,"offset":49130}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once our ","position":{"start":{"line":985,"column":1,"offset":49132},"end":{"line":985,"column":10,"offset":49141}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":985,"column":10,"offset":49141},"end":{"line":985,"column":20,"offset":49151}}},{"type":"text","value":" is set up, we can begin creating ","position":{"start":{"line":985,"column":20,"offset":49151},"end":{"line":985,"column":54,"offset":49185}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":985,"column":56,"offset":49187},"end":{"line":985,"column":66,"offset":49197}}}],"position":{"start":{"line":985,"column":54,"offset":49185},"end":{"line":985,"column":68,"offset":49199}}},{"type":"text","value":". Though it's not required, we are going to add an ","position":{"start":{"line":985,"column":68,"offset":49199},"end":{"line":985,"column":119,"offset":49250}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"addition"}],"position":{"start":{"line":985,"column":119,"offset":49250},"end":{"line":985,"column":129,"offset":49260}}},{"type":"text","value":" option to the config object to specify a directory for the migration files.","position":{"start":{"line":985,"column":129,"offset":49260},"end":{"line":985,"column":205,"offset":49336}}}],"position":{"start":{"line":985,"column":1,"offset":49132},"end":{"line":985,"column":205,"offset":49336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n    client: 'sqlite3',\n    connection: {\n      filename: './data/produce.db3',\n    },\n    useNullAsDefault: true,\n    // generates migration files in a data/migrations/ folder\n    migrations: {\n      directory: './data/migrations'\n    }\n  }\n"}],"position":{"start":{"line":987,"column":1,"offset":49338},"end":{"line":997,"column":8,"offset":49637}}}],"position":{"start":{"line":987,"column":1,"offset":49338},"end":{"line":997,"column":8,"offset":49637}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can generate a new migration with the following command:","position":{"start":{"line":999,"column":1,"offset":49639},"end":{"line":999,"column":60,"offset":49698}}}],"position":{"start":{"line":999,"column":1,"offset":49639},"end":{"line":999,"column":60,"offset":49698}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make [migration-name]"}],"position":{"start":{"line":1001,"column":1,"offset":49700},"end":{"line":1001,"column":37,"offset":49736}}}],"position":{"start":{"line":1001,"column":1,"offset":49700},"end":{"line":1001,"column":37,"offset":49736}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we needed to create an accounts table, we might run:","position":{"start":{"line":1003,"column":1,"offset":49738},"end":{"line":1003,"column":56,"offset":49793}}}],"position":{"start":{"line":1003,"column":1,"offset":49738},"end":{"line":1003,"column":56,"offset":49793}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make create-accounts"}],"position":{"start":{"line":1005,"column":1,"offset":49795},"end":{"line":1005,"column":36,"offset":49830}}}],"position":{"start":{"line":1005,"column":1,"offset":49795},"end":{"line":1005,"column":36,"offset":49830}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that inside ","position":{"start":{"line":1007,"column":1,"offset":49832},"end":{"line":1007,"column":18,"offset":49849}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"data/migrations/"}],"position":{"start":{"line":1007,"column":18,"offset":49849},"end":{"line":1007,"column":36,"offset":49867}}},{"type":"text","value":" a new file has appeared. Migrations have a timestamp in their filenames automatically. Wither you like this or not, ","position":{"start":{"line":1007,"column":36,"offset":49867},"end":{"line":1007,"column":153,"offset":49984}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"do not edit migration names.","position":{"start":{"line":1007,"column":155,"offset":49986},"end":{"line":1007,"column":183,"offset":50014}}}],"position":{"start":{"line":1007,"column":153,"offset":49984},"end":{"line":1007,"column":185,"offset":50016}}}],"position":{"start":{"line":1007,"column":1,"offset":49832},"end":{"line":1007,"column":185,"offset":50016}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The migration file should have both an ","position":{"start":{"line":1009,"column":1,"offset":50018},"end":{"line":1009,"column":40,"offset":50057}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1009,"column":40,"offset":50057},"end":{"line":1009,"column":44,"offset":50061}}},{"type":"text","value":" and a ","position":{"start":{"line":1009,"column":44,"offset":50061},"end":{"line":1009,"column":51,"offset":50068}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":1009,"column":51,"offset":50068},"end":{"line":1009,"column":57,"offset":50074}}},{"type":"text","value":" function. Within the ","position":{"start":{"line":1009,"column":57,"offset":50074},"end":{"line":1009,"column":79,"offset":50096}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1009,"column":79,"offset":50096},"end":{"line":1009,"column":83,"offset":50100}}},{"type":"text","value":" function, we write the ended database changes. Within the ","position":{"start":{"line":1009,"column":83,"offset":50100},"end":{"line":1009,"column":142,"offset":50159}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":1009,"column":142,"offset":50159},"end":{"line":1009,"column":148,"offset":50165}}},{"type":"text","value":" function, we write the code to undo the ","position":{"start":{"line":1009,"column":148,"offset":50165},"end":{"line":1009,"column":189,"offset":50206}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1009,"column":189,"offset":50206},"end":{"line":1009,"column":193,"offset":50210}}},{"type":"text","value":" functions. This allows us to undo any changes made to the schema if necessary.","position":{"start":{"line":1009,"column":193,"offset":50210},"end":{"line":1009,"column":272,"offset":50289}}}],"position":{"start":{"line":1009,"column":1,"offset":50018},"end":{"line":1009,"column":272,"offset":50289}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.up = function(knex, Promise) {\n  // don't forget the return statement\n  return knex.schema.createTable('accounts', tbl => {\n    // creates a primary key called id\n    tbl.increments();\n    // creates a text field called name which is both required and unique\n    tbl.text('name', 128).unique().notNullable();\n    // creates a numeric field called budget which is required\n    tbl.decimal('budget').notNullable();\n  });\n};\n\nexports.down = function(knex, Promise) {\n  // drops the entire table\n  return knex.schema.dropTableIfExists('accounts');\n};\n"}],"position":{"start":{"line":1011,"column":1,"offset":50291},"end":{"line":1026,"column":7,"offset":50905}}}],"position":{"start":{"line":1011,"column":1,"offset":50291},"end":{"line":1026,"column":7,"offset":50905}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References for these methods are found in the ","position":{"start":{"line":1028,"column":1,"offset":50907},"end":{"line":1028,"column":47,"offset":50953}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":1028,"column":49,"offset":50955},"end":{"line":1028,"column":63,"offset":50969}}}],"position":{"start":{"line":1028,"column":47,"offset":50953},"end":{"line":1028,"column":65,"offset":50971}}},{"type":"text","value":" section of the ","position":{"start":{"line":1028,"column":65,"offset":50971},"end":{"line":1028,"column":81,"offset":50987}}},{"type":"raw","value":"<a href=\"https://knexjs.org/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1028,"column":81,"offset":50987},"end":{"line":1028,"column":151,"offset":51057}}},{"type":"text","value":"Knex docs (Links to an external site.)","position":{"start":{"line":1028,"column":151,"offset":51057},"end":{"line":1028,"column":189,"offset":51095}}},{"type":"raw","value":"</a>","position":{"start":{"line":1028,"column":189,"offset":51095},"end":{"line":1028,"column":193,"offset":51099}}},{"type":"text","value":".","position":{"start":{"line":1028,"column":193,"offset":51099},"end":{"line":1028,"column":194,"offset":51100}}}],"position":{"start":{"line":1028,"column":1,"offset":50907},"end":{"line":1028,"column":194,"offset":51100}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At this point, the table is ","position":{"start":{"line":1030,"column":1,"offset":51102},"end":{"line":1030,"column":29,"offset":51130}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"not","position":{"start":{"line":1030,"column":31,"offset":51132},"end":{"line":1030,"column":34,"offset":51135}}}],"position":{"start":{"line":1030,"column":29,"offset":51130},"end":{"line":1030,"column":36,"offset":51137}}},{"type":"text","value":" yet created. To run this (and any other) migrations, use the command:","position":{"start":{"line":1030,"column":36,"offset":51137},"end":{"line":1030,"column":106,"offset":51207}}}],"position":{"start":{"line":1030,"column":1,"offset":51102},"end":{"line":1030,"column":106,"offset":51207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":1032,"column":1,"offset":51209},"end":{"line":1032,"column":22,"offset":51230}}}],"position":{"start":{"line":1032,"column":1,"offset":51209},"end":{"line":1032,"column":22,"offset":51230}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note if the database does not exist, this command will auto-generate one. We can use SQLite Studio to confirm that the accounts table has been created.","position":{"start":{"line":1034,"column":1,"offset":51232},"end":{"line":1034,"column":152,"offset":51383}}}],"position":{"start":{"line":1034,"column":1,"offset":51232},"end":{"line":1034,"column":152,"offset":51383}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Changes and Rollbacks","position":{"start":{"line":1036,"column":5,"offset":51389},"end":{"line":1036,"column":26,"offset":51410}}}],"position":{"start":{"line":1036,"column":1,"offset":51385},"end":{"line":1036,"column":26,"offset":51410}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If later down the road, we realize you need to update your schema, you shouldn’t edit the migration file. Instead, you will want to create a new migration with the command:","position":{"start":{"line":1038,"column":1,"offset":51412},"end":{"line":1038,"column":173,"offset":51584}}}],"position":{"start":{"line":1038,"column":1,"offset":51412},"end":{"line":1038,"column":173,"offset":51584}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make accounts-schema-update"}],"position":{"start":{"line":1040,"column":1,"offset":51586},"end":{"line":1040,"column":43,"offset":51628}}}],"position":{"start":{"line":1040,"column":1,"offset":51586},"end":{"line":1040,"column":43,"offset":51628}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once we’ve written our updates into this file we save and close with:","position":{"start":{"line":1042,"column":1,"offset":51630},"end":{"line":1042,"column":70,"offset":51699}}}],"position":{"start":{"line":1042,"column":1,"offset":51630},"end":{"line":1042,"column":70,"offset":51699}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":1044,"column":1,"offset":51701},"end":{"line":1044,"column":22,"offset":51722}}}],"position":{"start":{"line":1044,"column":1,"offset":51701},"end":{"line":1044,"column":22,"offset":51722}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we migrate our database and then quickly realize something isn’t right, we can edit the migration file. However, first, we need to ","position":{"start":{"line":1046,"column":1,"offset":51724},"end":{"line":1046,"column":135,"offset":51858}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"rolllback","position":{"start":{"line":1046,"column":137,"offset":51860},"end":{"line":1046,"column":146,"offset":51869}}}],"position":{"start":{"line":1046,"column":135,"offset":51858},"end":{"line":1046,"column":148,"offset":51871}}},{"type":"text","value":" (or undo) our last migration with:","position":{"start":{"line":1046,"column":148,"offset":51871},"end":{"line":1046,"column":183,"offset":51906}}}],"position":{"start":{"line":1046,"column":1,"offset":51724},"end":{"line":1046,"column":183,"offset":51906}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:rollback"}],"position":{"start":{"line":1048,"column":1,"offset":51908},"end":{"line":1048,"column":24,"offset":51931}}}],"position":{"start":{"line":1048,"column":1,"offset":51908},"end":{"line":1048,"column":24,"offset":51931}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally, we are free to rerun that file with ","position":{"start":{"line":1050,"column":1,"offset":51933},"end":{"line":1050,"column":46,"offset":51978}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate"}],"position":{"start":{"line":1050,"column":46,"offset":51978},"end":{"line":1050,"column":60,"offset":51992}}},{"type":"text","value":" latest.","position":{"start":{"line":1050,"column":60,"offset":51992},"end":{"line":1050,"column":68,"offset":52000}}}],"position":{"start":{"line":1050,"column":1,"offset":51933},"end":{"line":1050,"column":68,"offset":52000}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOTE","position":{"start":{"line":1052,"column":3,"offset":52004},"end":{"line":1052,"column":7,"offset":52008}}}],"position":{"start":{"line":1052,"column":1,"offset":52002},"end":{"line":1052,"column":9,"offset":52010}}},{"type":"text","value":": A rollback should not be used to edit an old migration file once that file has accepted into a main branch. However, an entire team may use a rollback to return to a previous version of a database.","position":{"start":{"line":1052,"column":9,"offset":52010},"end":{"line":1052,"column":208,"offset":52209}}}],"position":{"start":{"line":1052,"column":1,"offset":52002},"end":{"line":1052,"column":208,"offset":52209}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1054,"column":5,"offset":52215},"end":{"line":1054,"column":13,"offset":52223}}}],"position":{"start":{"line":1054,"column":1,"offset":52211},"end":{"line":1054,"column":13,"offset":52223}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Often we want to pre-populate our database with sample data for testing. ","position":{"start":{"line":1056,"column":1,"offset":52225},"end":{"line":1056,"column":74,"offset":52298}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Seeds","position":{"start":{"line":1056,"column":76,"offset":52300},"end":{"line":1056,"column":81,"offset":52305}}}],"position":{"start":{"line":1056,"column":74,"offset":52298},"end":{"line":1056,"column":83,"offset":52307}}},{"type":"text","value":" allow us to add and reset sample data easily.","position":{"start":{"line":1056,"column":83,"offset":52307},"end":{"line":1056,"column":129,"offset":52353}}}],"position":{"start":{"line":1056,"column":1,"offset":52225},"end":{"line":1056,"column":129,"offset":52353}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":1058,"column":5,"offset":52359},"end":{"line":1058,"column":17,"offset":52371}}}],"position":{"start":{"line":1058,"column":1,"offset":52355},"end":{"line":1058,"column":17,"offset":52371}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The Knex command-line tool offers a way to ","position":{"start":{"line":1060,"column":1,"offset":52373},"end":{"line":1060,"column":44,"offset":52416}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"seed","position":{"start":{"line":1060,"column":46,"offset":52418},"end":{"line":1060,"column":50,"offset":52422}}}],"position":{"start":{"line":1060,"column":44,"offset":52416},"end":{"line":1060,"column":52,"offset":52424}}},{"type":"text","value":" our database; in other words, pre-populate our tables.","position":{"start":{"line":1060,"column":52,"offset":52424},"end":{"line":1060,"column":107,"offset":52479}}}],"position":{"start":{"line":1060,"column":1,"offset":52373},"end":{"line":1060,"column":107,"offset":52479}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Similarly to migrations, we want to customize where our seed files are generated using our ","position":{"start":{"line":1062,"column":1,"offset":52481},"end":{"line":1062,"column":92,"offset":52572}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":1062,"column":92,"offset":52572},"end":{"line":1062,"column":102,"offset":52582}}}],"position":{"start":{"line":1062,"column":1,"offset":52481},"end":{"line":1062,"column":102,"offset":52582}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n    client: 'sqlite3',\n    connection: {\n      filename: './data/produce.db3',\n    },\n    useNullAsDefault: true,\n    // generates migration files in a data/migrations/ folder\n    migrations: {\n      directory: './data/migrations'\n    },\n    seeds: {\n      directory: './data/seeds'\n    }\n  }\n"}],"position":{"start":{"line":1064,"column":1,"offset":52584},"end":{"line":1077,"column":8,"offset":52947}}}],"position":{"start":{"line":1064,"column":1,"offset":52584},"end":{"line":1077,"column":8,"offset":52947}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To create a seed run: ","position":{"start":{"line":1079,"column":1,"offset":52949},"end":{"line":1079,"column":23,"offset":52971}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:make 001-seedName"}],"position":{"start":{"line":1079,"column":23,"offset":52971},"end":{"line":1079,"column":52,"offset":53000}}}],"position":{"start":{"line":1079,"column":1,"offset":52949},"end":{"line":1079,"column":52,"offset":53000}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Numbering is a good idea because Knex doesn’t attach a timestamp to the name like migrate does. Adding numbers to the file name, we can control the order in which they run.","position":{"start":{"line":1081,"column":1,"offset":53002},"end":{"line":1081,"column":173,"offset":53174}}}],"position":{"start":{"line":1081,"column":1,"offset":53002},"end":{"line":1081,"column":173,"offset":53174}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We want to create seeds for our accounts table:","position":{"start":{"line":1083,"column":1,"offset":53176},"end":{"line":1083,"column":48,"offset":53223}}}],"position":{"start":{"line":1083,"column":1,"offset":53176},"end":{"line":1083,"column":48,"offset":53223}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:make 001-accounts"}],"position":{"start":{"line":1085,"column":1,"offset":53225},"end":{"line":1085,"column":30,"offset":53254}}}],"position":{"start":{"line":1085,"column":1,"offset":53225},"end":{"line":1085,"column":30,"offset":53254}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A file will appear in the designated seed folder.","position":{"start":{"line":1087,"column":1,"offset":53256},"end":{"line":1087,"column":50,"offset":53305}}}],"position":{"start":{"line":1087,"column":1,"offset":53256},"end":{"line":1087,"column":50,"offset":53305}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.seed = function(knex, Promise) {\n  // we want to remove all data before seeding\n  // truncate will reset the primary key each time\n  return knex('accounts').truncate()\n    .then(function () {\n      // add data into insert\n      return knex('accounts').insert([\n        { name: 'Stephenson', budget: 10000 },\n        { name: 'Gordon & Gale', budget: 40400 },\n      ]);\n    });\n};\n"}],"position":{"start":{"line":1089,"column":1,"offset":53307},"end":{"line":1100,"column":7,"offset":53741}}}],"position":{"start":{"line":1089,"column":1,"offset":53307},"end":{"line":1100,"column":7,"offset":53741}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run the seed files by typing:","position":{"start":{"line":1102,"column":1,"offset":53743},"end":{"line":1102,"column":30,"offset":53772}}}],"position":{"start":{"line":1102,"column":1,"offset":53743},"end":{"line":1102,"column":30,"offset":53772}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:run"}],"position":{"start":{"line":1104,"column":1,"offset":53774},"end":{"line":1104,"column":16,"offset":53789}}}],"position":{"start":{"line":1104,"column":1,"offset":53774},"end":{"line":1104,"column":16,"offset":53789}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can now use SQLite Studio to confirm that the accounts table has two entries.","position":{"start":{"line":1106,"column":1,"offset":53791},"end":{"line":1106,"column":82,"offset":53872}}}],"position":{"start":{"line":1106,"column":1,"offset":53791},"end":{"line":1106,"column":82,"offset":53872}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":1108,"column":1,"offset":53874},"end":{"line":1108,"column":4,"offset":53877}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1110,"column":1,"offset":53879},"end":{"line":1110,"column":4,"offset":53882}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### SQL & PostgreSQL","position":{"start":{"line":1112,"column":1,"offset":53884},"end":{"line":1112,"column":139,"offset":54022}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Foreign keys","position":{"start":{"line":1114,"column":3,"offset":54026},"end":{"line":1114,"column":15,"offset":54038}}}],"position":{"start":{"line":1114,"column":1,"offset":54024},"end":{"line":1114,"column":17,"offset":54040}}},{"type":"text","value":" are a type of table field used for creating links between tables. Like ","position":{"start":{"line":1114,"column":17,"offset":54040},"end":{"line":1114,"column":89,"offset":54112}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"primary keys","position":{"start":{"line":1114,"column":91,"offset":54114},"end":{"line":1114,"column":103,"offset":54126}}}],"position":{"start":{"line":1114,"column":89,"offset":54112},"end":{"line":1114,"column":105,"offset":54128}}},{"type":"text","value":", they are most often integers that identify (rather than store) data. However, whereas a primary key is used to id rows in a table, foreign keys are used to connect a record in one table to a record in a second table.","position":{"start":{"line":1114,"column":105,"offset":54128},"end":{"line":1114,"column":323,"offset":54346}}}],"position":{"start":{"line":1114,"column":1,"offset":54024},"end":{"line":1114,"column":323,"offset":54346}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1116,"column":1,"offset":54348},"end":{"line":1116,"column":4,"offset":54351}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider the following ","position":{"start":{"line":1118,"column":1,"offset":54353},"end":{"line":1118,"column":24,"offset":54376}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1118,"column":24,"offset":54376},"end":{"line":1118,"column":31,"offset":54383}}},{"type":"text","value":" and ","position":{"start":{"line":1118,"column":31,"offset":54383},"end":{"line":1118,"column":36,"offset":54388}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1118,"column":36,"offset":54388},"end":{"line":1118,"column":46,"offset":54398}}},{"type":"text","value":" tables.","position":{"start":{"line":1118,"column":46,"offset":54398},"end":{"line":1118,"column":54,"offset":54406}}}],"position":{"start":{"line":1118,"column":1,"offset":54353},"end":{"line":1118,"column":54,"offset":54406}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/5b20c5e233dd4a70a33d6ab2c2e1c8bb\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1120,"column":1,"offset":54408},"end":{"line":1120,"column":106,"offset":54513}}},{"type":"text","value":"Untitled","position":{"start":{"line":1120,"column":106,"offset":54513},"end":{"line":1120,"column":114,"offset":54521}}},{"type":"raw","value":"</a>","position":{"start":{"line":1120,"column":114,"offset":54521},"end":{"line":1120,"column":118,"offset":54525}}}],"position":{"start":{"line":1120,"column":1,"offset":54408},"end":{"line":1120,"column":118,"offset":54525}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/0b0a909c24a9474fb9df80938546f12a\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1122,"column":1,"offset":54527},"end":{"line":1122,"column":106,"offset":54632}}},{"type":"text","value":"Untitled","position":{"start":{"line":1122,"column":106,"offset":54632},"end":{"line":1122,"column":114,"offset":54640}}},{"type":"raw","value":"</a>","position":{"start":{"line":1122,"column":114,"offset":54640},"end":{"line":1122,"column":118,"offset":54644}}}],"position":{"start":{"line":1122,"column":1,"offset":54527},"end":{"line":1122,"column":118,"offset":54644}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":1124,"column":1,"offset":54646},"end":{"line":1124,"column":5,"offset":54650}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1124,"column":5,"offset":54650},"end":{"line":1124,"column":14,"offset":54659}}},{"type":"text","value":" in the ","position":{"start":{"line":1124,"column":14,"offset":54659},"end":{"line":1124,"column":22,"offset":54667}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1124,"column":22,"offset":54667},"end":{"line":1124,"column":32,"offset":54677}}},{"type":"text","value":" table is an example of a ","position":{"start":{"line":1124,"column":32,"offset":54677},"end":{"line":1124,"column":58,"offset":54703}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foreign key"}],"position":{"start":{"line":1124,"column":58,"offset":54703},"end":{"line":1124,"column":71,"offset":54716}}},{"type":"text","value":". Each entry in the ","position":{"start":{"line":1124,"column":71,"offset":54716},"end":{"line":1124,"column":91,"offset":54736}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1124,"column":91,"offset":54736},"end":{"line":1124,"column":100,"offset":54745}}},{"type":"text","value":" (foreign key) column corresponds to an ","position":{"start":{"line":1124,"column":100,"offset":54745},"end":{"line":1124,"column":140,"offset":54785}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":1124,"column":140,"offset":54785},"end":{"line":1124,"column":144,"offset":54789}}},{"type":"text","value":" (primary key) in the ","position":{"start":{"line":1124,"column":144,"offset":54789},"end":{"line":1124,"column":166,"offset":54811}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1124,"column":166,"offset":54811},"end":{"line":1124,"column":173,"offset":54818}}},{"type":"text","value":" table. This allows us to track which farm each rancher belongs to while keeping the tables normalized.","position":{"start":{"line":1124,"column":173,"offset":54818},"end":{"line":1124,"column":276,"offset":54921}}}],"position":{"start":{"line":1124,"column":1,"offset":54646},"end":{"line":1124,"column":276,"offset":54921}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we could only see the ","position":{"start":{"line":1126,"column":1,"offset":54923},"end":{"line":1126,"column":26,"offset":54948}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1126,"column":26,"offset":54948},"end":{"line":1126,"column":36,"offset":54958}}},{"type":"text","value":" table, we would know that John, Jane, and Jen all work together and that Jim and Jay also work together. However, to know where any of them work, we would need to look at the ","position":{"start":{"line":1126,"column":36,"offset":54958},"end":{"line":1126,"column":212,"offset":55134}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1126,"column":212,"offset":55134},"end":{"line":1126,"column":219,"offset":55141}}},{"type":"text","value":" table.","position":{"start":{"line":1126,"column":219,"offset":55141},"end":{"line":1126,"column":226,"offset":55148}}}],"position":{"start":{"line":1126,"column":1,"offset":54923},"end":{"line":1126,"column":226,"offset":55148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we understand the basics of querying data from a single table, let’s move on to selecting data from multiple tables using JOIN operations.","position":{"start":{"line":1128,"column":1,"offset":55150},"end":{"line":1128,"column":148,"offset":55297}}}],"position":{"start":{"line":1128,"column":1,"offset":55150},"end":{"line":1128,"column":148,"offset":55297}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1130,"column":5,"offset":55303},"end":{"line":1130,"column":13,"offset":55311}}}],"position":{"start":{"line":1130,"column":1,"offset":55299},"end":{"line":1130,"column":13,"offset":55311}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can use a ","position":{"start":{"line":1132,"column":1,"offset":55313},"end":{"line":1132,"column":14,"offset":55326}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JOIN"}],"position":{"start":{"line":1132,"column":14,"offset":55326},"end":{"line":1132,"column":20,"offset":55332}}},{"type":"text","value":" to combine query data from multiple tables using a single ","position":{"start":{"line":1132,"column":20,"offset":55332},"end":{"line":1132,"column":79,"offset":55391}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":1132,"column":79,"offset":55391},"end":{"line":1132,"column":87,"offset":55399}}},{"type":"text","value":" statement.","position":{"start":{"line":1132,"column":87,"offset":55399},"end":{"line":1132,"column":98,"offset":55410}}}],"position":{"start":{"line":1132,"column":1,"offset":55313},"end":{"line":1132,"column":98,"offset":55410}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are different types of joins; some are listed below:","position":{"start":{"line":1134,"column":1,"offset":55412},"end":{"line":1134,"column":59,"offset":55470}}}],"position":{"start":{"line":1134,"column":1,"offset":55412},"end":{"line":1134,"column":59,"offset":55470}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d886\">","position":{"start":{"line":1136,"column":5,"offset":55476},"end":{"line":1136,"column":21,"offset":55492}}},{"type":"text","value":"inner joins.","position":{"start":{"line":1136,"column":21,"offset":55492},"end":{"line":1136,"column":33,"offset":55504}}},{"type":"raw","value":"</span>","position":{"start":{"line":1136,"column":33,"offset":55504},"end":{"line":1136,"column":40,"offset":55511}}}],"position":{"start":{"line":1136,"column":1,"offset":55472},"end":{"line":1136,"column":40,"offset":55511}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"43f5\">","position":{"start":{"line":1137,"column":5,"offset":55516},"end":{"line":1137,"column":21,"offset":55532}}},{"type":"text","value":"outer joins.","position":{"start":{"line":1137,"column":21,"offset":55532},"end":{"line":1137,"column":33,"offset":55544}}},{"type":"raw","value":"</span>","position":{"start":{"line":1137,"column":33,"offset":55544},"end":{"line":1137,"column":40,"offset":55551}}}],"position":{"start":{"line":1137,"column":1,"offset":55512},"end":{"line":1137,"column":40,"offset":55551}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"882e\">","position":{"start":{"line":1138,"column":5,"offset":55556},"end":{"line":1138,"column":21,"offset":55572}}},{"type":"text","value":"left joins.","position":{"start":{"line":1138,"column":21,"offset":55572},"end":{"line":1138,"column":32,"offset":55583}}},{"type":"raw","value":"</span>","position":{"start":{"line":1138,"column":32,"offset":55583},"end":{"line":1138,"column":39,"offset":55590}}}],"position":{"start":{"line":1138,"column":1,"offset":55552},"end":{"line":1138,"column":39,"offset":55590}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"ad86\">","position":{"start":{"line":1139,"column":5,"offset":55595},"end":{"line":1139,"column":21,"offset":55611}}},{"type":"text","value":"right joins.","position":{"start":{"line":1139,"column":21,"offset":55611},"end":{"line":1139,"column":33,"offset":55623}}},{"type":"raw","value":"</span>","position":{"start":{"line":1139,"column":33,"offset":55623},"end":{"line":1139,"column":40,"offset":55630}}}],"position":{"start":{"line":1139,"column":1,"offset":55591},"end":{"line":1139,"column":40,"offset":55630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4d8b\">","position":{"start":{"line":1140,"column":5,"offset":55635},"end":{"line":1140,"column":21,"offset":55651}}},{"type":"text","value":"cross joins.","position":{"start":{"line":1140,"column":21,"offset":55651},"end":{"line":1140,"column":33,"offset":55663}}},{"type":"raw","value":"</span>","position":{"start":{"line":1140,"column":33,"offset":55663},"end":{"line":1140,"column":40,"offset":55670}}}],"position":{"start":{"line":1140,"column":1,"offset":55631},"end":{"line":1140,"column":40,"offset":55670}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"eb21\">","position":{"start":{"line":1141,"column":5,"offset":55675},"end":{"line":1141,"column":21,"offset":55691}}},{"type":"text","value":"non-equality joins.","position":{"start":{"line":1141,"column":21,"offset":55691},"end":{"line":1141,"column":40,"offset":55710}}},{"type":"raw","value":"</span>","position":{"start":{"line":1141,"column":40,"offset":55710},"end":{"line":1141,"column":47,"offset":55717}}}],"position":{"start":{"line":1141,"column":1,"offset":55671},"end":{"line":1141,"column":47,"offset":55717}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"fc6a\">","position":{"start":{"line":1142,"column":5,"offset":55722},"end":{"line":1142,"column":21,"offset":55738}}},{"type":"text","value":"self joins.","position":{"start":{"line":1142,"column":21,"offset":55738},"end":{"line":1142,"column":32,"offset":55749}}},{"type":"raw","value":"</span>","position":{"start":{"line":1142,"column":32,"offset":55749},"end":{"line":1142,"column":39,"offset":55756}}}],"position":{"start":{"line":1142,"column":1,"offset":55718},"end":{"line":1142,"column":39,"offset":55756}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1136,"column":1,"offset":55472},"end":{"line":1142,"column":39,"offset":55756}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using ","position":{"start":{"line":1144,"column":1,"offset":55758},"end":{"line":1144,"column":7,"offset":55764}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"joins"}],"position":{"start":{"line":1144,"column":7,"offset":55764},"end":{"line":1144,"column":14,"offset":55771}}},{"type":"text","value":" requires that the two tables of interest contain at least one field with shared information. For example, if a ","position":{"start":{"line":1144,"column":14,"offset":55771},"end":{"line":1144,"column":126,"offset":55883}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":1144,"column":127,"offset":55884},"end":{"line":1144,"column":138,"offset":55895}}}],"position":{"start":{"line":1144,"column":126,"offset":55883},"end":{"line":1144,"column":139,"offset":55896}}},{"type":"text","value":" table has an ","position":{"start":{"line":1144,"column":139,"offset":55896},"end":{"line":1144,"column":153,"offset":55910}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":1144,"column":154,"offset":55911},"end":{"line":1144,"column":156,"offset":55913}}}],"position":{"start":{"line":1144,"column":153,"offset":55910},"end":{"line":1144,"column":157,"offset":55914}}},{"type":"text","value":" field, and an employee table has a ","position":{"start":{"line":1144,"column":157,"offset":55914},"end":{"line":1144,"column":193,"offset":55950}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":1144,"column":194,"offset":55951},"end":{"line":1144,"column":204,"offset":55961}}}],"position":{"start":{"line":1144,"column":193,"offset":55950},"end":{"line":1144,"column":205,"offset":55962}}},{"type":"text","value":"id_ field, and the values that exist in the ","position":{"start":{"line":1144,"column":205,"offset":55962},"end":{"line":1144,"column":249,"offset":56006}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":1144,"column":250,"offset":56007},"end":{"line":1144,"column":252,"offset":56009}}}],"position":{"start":{"line":1144,"column":249,"offset":56006},"end":{"line":1144,"column":253,"offset":56010}}},{"type":"text","value":" column of the ","position":{"start":{"line":1144,"column":253,"offset":56010},"end":{"line":1144,"column":268,"offset":56025}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":1144,"column":269,"offset":56026},"end":{"line":1144,"column":280,"offset":56037}}}],"position":{"start":{"line":1144,"column":268,"offset":56025},"end":{"line":1144,"column":281,"offset":56038}}},{"type":"text","value":" table live in the ","position":{"start":{"line":1144,"column":281,"offset":56038},"end":{"line":1144,"column":300,"offset":56057}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":1144,"column":301,"offset":56058},"end":{"line":1144,"column":311,"offset":56068}}}],"position":{"start":{"line":1144,"column":300,"offset":56057},"end":{"line":1144,"column":312,"offset":56069}}},{"type":"text","value":"id_ field of the employee table, we can use those fields to join both tables like so:","position":{"start":{"line":1144,"column":312,"offset":56069},"end":{"line":1144,"column":397,"offset":56154}}}],"position":{"start":{"line":1144,"column":1,"offset":55758},"end":{"line":1144,"column":397,"offset":56154}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees\njoin departments on employees.department_id = departments.id\n"}],"position":{"start":{"line":1146,"column":1,"offset":56156},"end":{"line":1147,"column":65,"offset":56248}}}],"position":{"start":{"line":1146,"column":1,"offset":56156},"end":{"line":1147,"column":65,"offset":56248}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This query will return the data from both tables for every instance where the ","position":{"start":{"line":1149,"column":1,"offset":56250},"end":{"line":1149,"column":79,"offset":56328}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ON"}],"position":{"start":{"line":1149,"column":79,"offset":56328},"end":{"line":1149,"column":83,"offset":56332}}},{"type":"text","value":" condition is true. If there are employees with no value for department","position":{"start":{"line":1149,"column":83,"offset":56332},"end":{"line":1149,"column":154,"offset":56403}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id or where the value stored in the field does not correspond to an existing id in the","position":{"start":{"line":1149,"column":155,"offset":56404},"end":{"line":1149,"column":241,"offset":56490}}}],"position":{"start":{"line":1149,"column":154,"offset":56403},"end":{"line":1149,"column":242,"offset":56491}}},{"type":"text","value":" departments ","position":{"start":{"line":1149,"column":242,"offset":56491},"end":{"line":1149,"column":255,"offset":56504}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table, then that record will NOT be returned. In a similar fashion, any records from the","position":{"start":{"line":1149,"column":256,"offset":56505},"end":{"line":1149,"column":344,"offset":56593}}}],"position":{"start":{"line":1149,"column":255,"offset":56504},"end":{"line":1149,"column":345,"offset":56594}}},{"type":"text","value":" departments ","position":{"start":{"line":1149,"column":345,"offset":56594},"end":{"line":1149,"column":358,"offset":56607}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table that don't have an employee associated with them will also be omitted from the results. Basically, if the","position":{"start":{"line":1149,"column":359,"offset":56608},"end":{"line":1149,"column":470,"offset":56719}}}],"position":{"start":{"line":1149,"column":358,"offset":56607},"end":{"line":1149,"column":471,"offset":56720}}},{"type":"text","value":" id","position":{"start":{"line":1149,"column":471,"offset":56720},"end":{"line":1149,"column":474,"offset":56723}}},{"type":"text","value":"*","position":{"start":{"line":1149,"column":474,"offset":56723},"end":{"line":1149,"column":476,"offset":56725}}},{"type":"text","value":" does not show as the value of department_id for an employee, it won't be able to join.","position":{"start":{"line":1149,"column":476,"offset":56725},"end":{"line":1149,"column":563,"offset":56812}}}],"position":{"start":{"line":1149,"column":1,"offset":56250},"end":{"line":1149,"column":563,"offset":56812}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can shorten the condition by giving the table names an alias. This is a common practice. Below is the same example using aliases, picking which fields to return and sorting the results:","position":{"start":{"line":1151,"column":1,"offset":56814},"end":{"line":1151,"column":189,"offset":57002}}}],"position":{"start":{"line":1151,"column":1,"offset":56814},"end":{"line":1151,"column":189,"offset":57002}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select d.id, d.name, e.id, e.first_name, e.last_name, e.salary\nfrom employees as e\njoin departments as d\n  on e.department_id = d.id\norder by d.name, e.last_name\n"}],"position":{"start":{"line":1153,"column":1,"offset":57004},"end":{"line":1157,"column":33,"offset":57185}}}],"position":{"start":{"line":1153,"column":1,"offset":57004},"end":{"line":1157,"column":33,"offset":57185}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notice that we can take advantage of white space and indentation to make queries more readable.","position":{"start":{"line":1159,"column":1,"offset":57187},"end":{"line":1159,"column":96,"offset":57282}}}],"position":{"start":{"line":1159,"column":1,"offset":57187},"end":{"line":1159,"column":96,"offset":57282}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are several ways of writing joins, but the one shown here should work on all database management systems and avoid some pitfalls, so we recommend it.","position":{"start":{"line":1161,"column":1,"offset":57284},"end":{"line":1161,"column":156,"offset":57439}}}],"position":{"start":{"line":1161,"column":1,"offset":57284},"end":{"line":1161,"column":156,"offset":57439}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The syntax for performing a similar join using Knex is as follows:","position":{"start":{"line":1163,"column":1,"offset":57441},"end":{"line":1163,"column":67,"offset":57507}}}],"position":{"start":{"line":1163,"column":1,"offset":57441},"end":{"line":1163,"column":67,"offset":57507}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('employees as e')\n  .join('departments as d', 'e.department_id', 'd.id')\n  .select('d.id', 'd.name', 'e.first_name', 'e.last_name', 'e.salary')\n"}],"position":{"start":{"line":1165,"column":1,"offset":57509},"end":{"line":1167,"column":75,"offset":57667}}}],"position":{"start":{"line":1165,"column":1,"offset":57509},"end":{"line":1167,"column":75,"offset":57667}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":1169,"column":5,"offset":57673},"end":{"line":1169,"column":17,"offset":57685}}}],"position":{"start":{"line":1169,"column":1,"offset":57669},"end":{"line":1169,"column":17,"offset":57685}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A good explanation of how the different types of joins can be seen ","position":{"start":{"line":1171,"column":1,"offset":57687},"end":{"line":1171,"column":68,"offset":57754}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql/joins/sql-joins.php\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1171,"column":68,"offset":57754},"end":{"line":1171,"column":169,"offset":57855}}},{"type":"text","value":"in this article from w3resource.com (Links to an external site.)","position":{"start":{"line":1171,"column":169,"offset":57855},"end":{"line":1171,"column":233,"offset":57919}}},{"type":"raw","value":"</a>","position":{"start":{"line":1171,"column":233,"offset":57919},"end":{"line":1171,"column":237,"offset":57923}}},{"type":"text","value":".","position":{"start":{"line":1171,"column":237,"offset":57923},"end":{"line":1171,"column":238,"offset":57924}}}],"position":{"start":{"line":1171,"column":1,"offset":57687},"end":{"line":1171,"column":238,"offset":57924}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is SQL Joins?","position":{"start":{"line":1173,"column":5,"offset":57930},"end":{"line":1173,"column":23,"offset":57948}}}],"position":{"start":{"line":1173,"column":1,"offset":57926},"end":{"line":1173,"column":23,"offset":57948}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An SQL JOIN clause combines rows from two or more tables. It creates a set of rows in a temporary table.","position":{"start":{"line":1175,"column":1,"offset":57950},"end":{"line":1175,"column":105,"offset":58054}}}],"position":{"start":{"line":1175,"column":1,"offset":57950},"end":{"line":1175,"column":105,"offset":58054}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"How to Join two tables in SQL?","position":{"start":{"line":1177,"column":5,"offset":58060},"end":{"line":1177,"column":35,"offset":58090}}}],"position":{"start":{"line":1177,"column":1,"offset":58056},"end":{"line":1177,"column":35,"offset":58090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A JOIN works on two or more tables if they have at least one common field and have a relationship between them.","position":{"start":{"line":1179,"column":1,"offset":58092},"end":{"line":1179,"column":112,"offset":58203}}}],"position":{"start":{"line":1179,"column":1,"offset":58092},"end":{"line":1179,"column":112,"offset":58203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"JOIN keeps the base tables (structure and data) unchanged.","position":{"start":{"line":1181,"column":1,"offset":58205},"end":{"line":1181,"column":59,"offset":58263}}}],"position":{"start":{"line":1181,"column":1,"offset":58205},"end":{"line":1181,"column":59,"offset":58263}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Join vs. Subquery","position":{"start":{"line":1183,"column":5,"offset":58269},"end":{"line":1183,"column":22,"offset":58286}}}],"position":{"start":{"line":1183,"column":1,"offset":58265},"end":{"line":1183,"column":22,"offset":58286}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"6fdc\">","position":{"start":{"line":1185,"column":5,"offset":58292},"end":{"line":1185,"column":21,"offset":58308}}},{"type":"text","value":"JOINs are faster than a subquery and it is very rare that the opposite.","position":{"start":{"line":1185,"column":21,"offset":58308},"end":{"line":1185,"column":92,"offset":58379}}},{"type":"raw","value":"</span>","position":{"start":{"line":1185,"column":92,"offset":58379},"end":{"line":1185,"column":99,"offset":58386}}}],"position":{"start":{"line":1185,"column":1,"offset":58288},"end":{"line":1185,"column":99,"offset":58386}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c648\">","position":{"start":{"line":1186,"column":5,"offset":58391},"end":{"line":1186,"column":21,"offset":58407}}},{"type":"text","value":"In JOINs the RDBMS calculates an execution plan, that can predict, what data should be loaded and how much it will take to processed and as a result this process save some times, unlike the subquery there is no pre-process calculation and run all the queries and load all their data to do the processing.","position":{"start":{"line":1186,"column":21,"offset":58407},"end":{"line":1186,"column":325,"offset":58711}}},{"type":"raw","value":"</span>","position":{"start":{"line":1186,"column":325,"offset":58711},"end":{"line":1186,"column":332,"offset":58718}}}],"position":{"start":{"line":1186,"column":1,"offset":58387},"end":{"line":1186,"column":332,"offset":58718}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d59c\">","position":{"start":{"line":1187,"column":5,"offset":58723},"end":{"line":1187,"column":21,"offset":58739}}},{"type":"text","value":"A JOIN is checked conditions first and then put it into table and displays; where as a subquery take separate temp table internally and checking condition.","position":{"start":{"line":1187,"column":21,"offset":58739},"end":{"line":1187,"column":176,"offset":58894}}},{"type":"raw","value":"</span>","position":{"start":{"line":1187,"column":176,"offset":58894},"end":{"line":1187,"column":183,"offset":58901}}}],"position":{"start":{"line":1187,"column":1,"offset":58719},"end":{"line":1187,"column":183,"offset":58901}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"08ff\">","position":{"start":{"line":1188,"column":5,"offset":58906},"end":{"line":1188,"column":21,"offset":58922}}},{"type":"text","value":"When joins are using, there should be connection between two or more than two tables and each table has a relation with other while subquery means query inside another query, has no need to relation, it works on columns and conditions.","position":{"start":{"line":1188,"column":21,"offset":58922},"end":{"line":1188,"column":256,"offset":59157}}},{"type":"raw","value":"</span>","position":{"start":{"line":1188,"column":256,"offset":59157},"end":{"line":1188,"column":263,"offset":59164}}}],"position":{"start":{"line":1188,"column":1,"offset":58902},"end":{"line":1188,"column":263,"offset":59164}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1185,"column":1,"offset":58288},"end":{"line":1188,"column":263,"offset":59164}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SQL JOINS: EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":1190,"column":5,"offset":59170},"end":{"line":1190,"column":43,"offset":59208}}}],"position":{"start":{"line":1190,"column":1,"offset":59166},"end":{"line":1190,"column":43,"offset":59208}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The are two types of SQL JOINS — EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":1192,"column":1,"offset":59210},"end":{"line":1192,"column":61,"offset":59270}}}],"position":{"start":{"line":1192,"column":1,"offset":59210},"end":{"line":1192,"column":61,"offset":59270}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2bb1\">","position":{"start":{"line":1194,"column":5,"offset":59276},"end":{"line":1194,"column":21,"offset":59292}}},{"type":"text","value":"SQL EQUI JOIN :","position":{"start":{"line":1194,"column":21,"offset":59292},"end":{"line":1194,"column":36,"offset":59307}}},{"type":"raw","value":"</span>","position":{"start":{"line":1194,"column":36,"offset":59307},"end":{"line":1194,"column":43,"offset":59314}}}],"position":{"start":{"line":1194,"column":1,"offset":59272},"end":{"line":1194,"column":43,"offset":59314}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1194,"column":1,"offset":59272},"end":{"line":1194,"column":43,"offset":59314}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN is a simple SQL join uses the equal sign(=) as the comparison operator for the condition. It has two types — SQL Outer join and SQL Inner join.","position":{"start":{"line":1196,"column":1,"offset":59316},"end":{"line":1196,"column":162,"offset":59477}}}],"position":{"start":{"line":1196,"column":1,"offset":59316},"end":{"line":1196,"column":162,"offset":59477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"a9be\">","position":{"start":{"line":1198,"column":5,"offset":59483},"end":{"line":1198,"column":21,"offset":59499}}},{"type":"text","value":"SQL NON EQUI JOIN :","position":{"start":{"line":1198,"column":21,"offset":59499},"end":{"line":1198,"column":40,"offset":59518}}},{"type":"raw","value":"</span>","position":{"start":{"line":1198,"column":40,"offset":59518},"end":{"line":1198,"column":47,"offset":59525}}}],"position":{"start":{"line":1198,"column":1,"offset":59479},"end":{"line":1198,"column":47,"offset":59525}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1198,"column":1,"offset":59479},"end":{"line":1198,"column":47,"offset":59525}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":1200,"column":1,"offset":59527},"end":{"line":1200,"column":5,"offset":59531}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL NON EQUI JOIN","position":{"start":{"line":1200,"column":7,"offset":59533},"end":{"line":1200,"column":24,"offset":59550}}}],"position":{"start":{"line":1200,"column":5,"offset":59531},"end":{"line":1200,"column":26,"offset":59552}}},{"type":"text","value":" is a join uses comparison operator other than the equal sign like ","position":{"start":{"line":1200,"column":26,"offset":59552},"end":{"line":1200,"column":93,"offset":59619}}},{"type":"text","value":">","position":{"start":{"line":1200,"column":93,"offset":59619},"end":{"line":1200,"column":97,"offset":59623}}},{"type":"text","value":", ","position":{"start":{"line":1200,"column":97,"offset":59623},"end":{"line":1200,"column":99,"offset":59625}}},{"type":"text","value":"<","position":{"start":{"line":1200,"column":99,"offset":59625},"end":{"line":1200,"column":103,"offset":59629}}},{"type":"text","value":", ","position":{"start":{"line":1200,"column":103,"offset":59629},"end":{"line":1200,"column":105,"offset":59631}}},{"type":"text","value":">","position":{"start":{"line":1200,"column":105,"offset":59631},"end":{"line":1200,"column":109,"offset":59635}}},{"type":"text","value":"=, ","position":{"start":{"line":1200,"column":109,"offset":59635},"end":{"line":1200,"column":112,"offset":59638}}},{"type":"text","value":"<","position":{"start":{"line":1200,"column":112,"offset":59638},"end":{"line":1200,"column":116,"offset":59642}}},{"type":"text","value":"= with the condition.","position":{"start":{"line":1200,"column":116,"offset":59642},"end":{"line":1200,"column":137,"offset":59663}}}],"position":{"start":{"line":1200,"column":1,"offset":59527},"end":{"line":1200,"column":137,"offset":59663}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL EQUI JOIN : INNER JOIN and OUTER JOIN","position":{"start":{"line":1202,"column":3,"offset":59667},"end":{"line":1202,"column":44,"offset":59708}}}],"position":{"start":{"line":1202,"column":1,"offset":59665},"end":{"line":1202,"column":46,"offset":59710}}}],"position":{"start":{"line":1202,"column":1,"offset":59665},"end":{"line":1202,"column":46,"offset":59710}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN can be classified into two types — INNER JOIN and OUTER JOIN","position":{"start":{"line":1204,"column":1,"offset":59712},"end":{"line":1204,"column":79,"offset":59790}}}],"position":{"start":{"line":1204,"column":1,"offset":59712},"end":{"line":1204,"column":79,"offset":59790}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"cf44\">","position":{"start":{"line":1206,"column":5,"offset":59796},"end":{"line":1206,"column":21,"offset":59812}}},{"type":"text","value":"SQL INNER JOIN","position":{"start":{"line":1206,"column":21,"offset":59812},"end":{"line":1206,"column":35,"offset":59826}}},{"type":"raw","value":"</span>","position":{"start":{"line":1206,"column":35,"offset":59826},"end":{"line":1206,"column":42,"offset":59833}}}],"position":{"start":{"line":1206,"column":1,"offset":59792},"end":{"line":1206,"column":42,"offset":59833}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1206,"column":1,"offset":59792},"end":{"line":1206,"column":42,"offset":59833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from tables where the key record of one table is equal to the key records of another table.","position":{"start":{"line":1208,"column":1,"offset":59835},"end":{"line":1208,"column":132,"offset":59966}}}],"position":{"start":{"line":1208,"column":1,"offset":59835},"end":{"line":1208,"column":132,"offset":59966}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"22a6\">","position":{"start":{"line":1210,"column":5,"offset":59972},"end":{"line":1210,"column":21,"offset":59988}}},{"type":"text","value":"SQL OUTER JOIN","position":{"start":{"line":1210,"column":21,"offset":59988},"end":{"line":1210,"column":35,"offset":60002}}},{"type":"raw","value":"</span>","position":{"start":{"line":1210,"column":35,"offset":60002},"end":{"line":1210,"column":42,"offset":60009}}}],"position":{"start":{"line":1210,"column":1,"offset":59968},"end":{"line":1210,"column":42,"offset":60009}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1210,"column":1,"offset":59968},"end":{"line":1210,"column":42,"offset":60009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from one table and only those rows from the secondary table where the joined condition is satisfying i.e. the columns are equal in both tables.","position":{"start":{"line":1212,"column":1,"offset":60011},"end":{"line":1212,"column":184,"offset":60194}}}],"position":{"start":{"line":1212,"column":1,"offset":60011},"end":{"line":1212,"column":184,"offset":60194}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to perform a JOIN query, the required information we need are:","position":{"start":{"line":1214,"column":1,"offset":60196},"end":{"line":1214,"column":72,"offset":60267}}}],"position":{"start":{"line":1214,"column":1,"offset":60196},"end":{"line":1214,"column":72,"offset":60267}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"a)","position":{"start":{"line":1216,"column":3,"offset":60271},"end":{"line":1216,"column":5,"offset":60273}}}],"position":{"start":{"line":1216,"column":1,"offset":60269},"end":{"line":1216,"column":7,"offset":60275}}},{"type":"text","value":" The name of the tables","position":{"start":{"line":1216,"column":7,"offset":60275},"end":{"line":1216,"column":30,"offset":60298}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"b)","position":{"start":{"line":1216,"column":32,"offset":60300},"end":{"line":1216,"column":34,"offset":60302}}}],"position":{"start":{"line":1216,"column":30,"offset":60298},"end":{"line":1216,"column":36,"offset":60304}}},{"type":"text","value":" Name of the columns of two or more tables, based on which a condition will perform.","position":{"start":{"line":1216,"column":36,"offset":60304},"end":{"line":1216,"column":120,"offset":60388}}}],"position":{"start":{"line":1216,"column":1,"offset":60269},"end":{"line":1216,"column":120,"offset":60388}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Syntax:","position":{"start":{"line":1218,"column":3,"offset":60392},"end":{"line":1218,"column":10,"offset":60399}}}],"position":{"start":{"line":1218,"column":1,"offset":60390},"end":{"line":1218,"column":12,"offset":60401}}}],"position":{"start":{"line":1218,"column":1,"offset":60390},"end":{"line":1218,"column":12,"offset":60401}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FROM table1\njoin_type table2\n[ON (join_condition)]\n"}],"position":{"start":{"line":1220,"column":1,"offset":60403},"end":{"line":1222,"column":26,"offset":60465}}}],"position":{"start":{"line":1220,"column":1,"offset":60403},"end":{"line":1222,"column":26,"offset":60465}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Parameters:","position":{"start":{"line":1224,"column":3,"offset":60469},"end":{"line":1224,"column":14,"offset":60480}}}],"position":{"start":{"line":1224,"column":1,"offset":60467},"end":{"line":1224,"column":16,"offset":60482}}}],"position":{"start":{"line":1224,"column":1,"offset":60467},"end":{"line":1224,"column":16,"offset":60482}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/5522c3e6d5d0443eb870f7a34f60c7ff\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1226,"column":1,"offset":60484},"end":{"line":1226,"column":106,"offset":60589}}},{"type":"text","value":"Untitled","position":{"start":{"line":1226,"column":106,"offset":60589},"end":{"line":1226,"column":114,"offset":60597}}},{"type":"raw","value":"</a>","position":{"start":{"line":1226,"column":114,"offset":60597},"end":{"line":1226,"column":118,"offset":60601}}}],"position":{"start":{"line":1226,"column":1,"offset":60484},"end":{"line":1226,"column":118,"offset":60601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Pictorial Presentation of SQL Joins:","position":{"start":{"line":1228,"column":3,"offset":60605},"end":{"line":1228,"column":39,"offset":60641}}}],"position":{"start":{"line":1228,"column":1,"offset":60603},"end":{"line":1228,"column":41,"offset":60643}}}],"position":{"start":{"line":1228,"column":1,"offset":60603},"end":{"line":1228,"column":41,"offset":60643}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*2DcsnJXF_FOGhUtL.gif\" class=\"graf-image\" /></figure>**Example:**","position":{"start":{"line":1230,"column":1,"offset":60645},"end":{"line":1230,"column":125,"offset":60769}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: company","position":{"start":{"line":1232,"column":3,"offset":60773},"end":{"line":1232,"column":24,"offset":60794}}}],"position":{"start":{"line":1232,"column":1,"offset":60771},"end":{"line":1232,"column":26,"offset":60796}}}],"position":{"start":{"line":1232,"column":1,"offset":60771},"end":{"line":1232,"column":26,"offset":60796}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: foods","position":{"start":{"line":1234,"column":3,"offset":60800},"end":{"line":1234,"column":22,"offset":60819}}}],"position":{"start":{"line":1234,"column":1,"offset":60798},"end":{"line":1234,"column":24,"offset":60821}}}],"position":{"start":{"line":1234,"column":1,"offset":60798},"end":{"line":1234,"column":24,"offset":60821}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To join two tables ‘company’ and ‘foods’, the following SQL statement can be used :","position":{"start":{"line":1236,"column":1,"offset":60823},"end":{"line":1236,"column":84,"offset":60906}}}],"position":{"start":{"line":1236,"column":1,"offset":60823},"end":{"line":1236,"column":84,"offset":60906}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL Code:","position":{"start":{"line":1238,"column":3,"offset":60910},"end":{"line":1238,"column":12,"offset":60919}}}],"position":{"start":{"line":1238,"column":1,"offset":60908},"end":{"line":1238,"column":14,"offset":60921}}}],"position":{"start":{"line":1238,"column":1,"offset":60908},"end":{"line":1238,"column":14,"offset":60921}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT  company.company_id,company.company_name,\nfoods.item_id,foods.item_name\nFROM company,foods;\n"}],"position":{"start":{"line":1240,"column":1,"offset":60923},"end":{"line":1242,"column":24,"offset":61033}}}],"position":{"start":{"line":1240,"column":1,"offset":60923},"end":{"line":1242,"column":24,"offset":61033}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy","position":{"start":{"line":1244,"column":1,"offset":61035},"end":{"line":1244,"column":5,"offset":61039}}}],"position":{"start":{"line":1244,"column":1,"offset":61035},"end":{"line":1244,"column":5,"offset":61039}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Output:","position":{"start":{"line":1246,"column":1,"offset":61041},"end":{"line":1246,"column":8,"offset":61048}}}],"position":{"start":{"line":1246,"column":1,"offset":61041},"end":{"line":1246,"column":8,"offset":61048}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"COMPAN COMPANY_NAME              ITEM_ID  ITEM_NAME\n------ ------------------------- -------- ---------------\n18     Order All                 1        Chex Mix\n18     Order All                 6        Cheez-It\n18     Order All                 2        BN Biscuit\n18     Order All                 3        Mighty Munch\n18     Order All                 4        Pot Rice\n18     Order All                 5        Jaffa Cakes\n18     Order All                 7        Salt n Shake\n15     Jack Hill Ltd             1        Chex Mix\n15     Jack Hill Ltd             6        Cheez-It\n15     Jack Hill Ltd             2        BN Biscuit\n15     Jack Hill Ltd             3        Mighty Munch\n15     Jack Hill Ltd             4        Pot Rice\n15     Jack Hill Ltd             5        Jaffa Cakes\n15     Jack Hill Ltd             7        Salt n Shake\n16     Akas Foods                1        Chex Mix\n16     Akas Foods                6        Cheez-It\n16     Akas Foods                2        BN Biscuit\n16     Akas Foods                3        Mighty Munch\n16     Akas Foods                4        Pot Rice\n16     Akas Foods                5        Jaffa Cakes\n16     Akas Foods                7        Salt n Shake\n.........\n.........\n.........\n"}],"position":{"start":{"line":1248,"column":1,"offset":61050},"end":{"line":1273,"column":14,"offset":62403}}}],"position":{"start":{"line":1248,"column":1,"offset":61050},"end":{"line":1273,"column":14,"offset":62403}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1275,"column":5,"offset":62409},"end":{"line":1275,"column":13,"offset":62417}}}],"position":{"start":{"line":1275,"column":1,"offset":62405},"end":{"line":1275,"column":13,"offset":62417}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While we can write database code directly into our endpoints, best practices dictate that all database logic exists in separate, modular methods. These files containing database access helpers are often called ","position":{"start":{"line":1277,"column":1,"offset":62419},"end":{"line":1277,"column":211,"offset":62629}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"models","position":{"start":{"line":1277,"column":213,"offset":62631},"end":{"line":1277,"column":219,"offset":62637}}}],"position":{"start":{"line":1277,"column":211,"offset":62629},"end":{"line":1277,"column":221,"offset":62639}}}],"position":{"start":{"line":1277,"column":1,"offset":62419},"end":{"line":1277,"column":221,"offset":62639}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":1279,"column":5,"offset":62645},"end":{"line":1279,"column":17,"offset":62657}}}],"position":{"start":{"line":1279,"column":1,"offset":62641},"end":{"line":1279,"column":17,"offset":62657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To handle CRUD operations for a single resource, we would want to create a ","position":{"start":{"line":1281,"column":1,"offset":62659},"end":{"line":1281,"column":76,"offset":62734}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"model","position":{"start":{"line":1281,"column":78,"offset":62736},"end":{"line":1281,"column":83,"offset":62741}}}],"position":{"start":{"line":1281,"column":76,"offset":62734},"end":{"line":1281,"column":85,"offset":62743}}},{"type":"text","value":" (or database access file) containing the following methods:","position":{"start":{"line":1281,"column":85,"offset":62743},"end":{"line":1281,"column":145,"offset":62803}}}],"position":{"start":{"line":1281,"column":1,"offset":62659},"end":{"line":1281,"column":145,"offset":62803}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n}\n\nfunction findById(id) {\n}\n\nfunction add(user) {\n}\n\nfunction update(changes, id) {\n}\n\nfunction remove(id) {\n}\n"}],"position":{"start":{"line":1283,"column":1,"offset":62805},"end":{"line":1296,"column":6,"offset":62974}}}],"position":{"start":{"line":1283,"column":1,"offset":62805},"end":{"line":1296,"column":6,"offset":62974}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each of these functions would use Knex logic to perform the necessary database operation.","position":{"start":{"line":1298,"column":1,"offset":62976},"end":{"line":1298,"column":90,"offset":63065}}}],"position":{"start":{"line":1298,"column":1,"offset":62976},"end":{"line":1298,"column":90,"offset":63065}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n  return db('users');\n}\n"}],"position":{"start":{"line":1300,"column":1,"offset":63067},"end":{"line":1302,"column":6,"offset":63120}}}],"position":{"start":{"line":1300,"column":1,"offset":63067},"end":{"line":1302,"column":6,"offset":63120}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For each method, we can choose what value to return. For example, we may prefer ","position":{"start":{"line":1304,"column":1,"offset":63122},"end":{"line":1304,"column":81,"offset":63202}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":1304,"column":81,"offset":63202},"end":{"line":1304,"column":93,"offset":63214}}},{"type":"text","value":" to return a single ","position":{"start":{"line":1304,"column":93,"offset":63214},"end":{"line":1304,"column":113,"offset":63234}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"user"}],"position":{"start":{"line":1304,"column":113,"offset":63234},"end":{"line":1304,"column":119,"offset":63240}}},{"type":"text","value":" object rather than an array.","position":{"start":{"line":1304,"column":119,"offset":63240},"end":{"line":1304,"column":148,"offset":63269}}}],"position":{"start":{"line":1304,"column":1,"offset":63122},"end":{"line":1304,"column":148,"offset":63269}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function findById(id) {\n// first() returns the first entry in the db matching the query\n  return db('users').where({ id }).first();\n}\n"}],"position":{"start":{"line":1306,"column":1,"offset":63271},"end":{"line":1309,"column":6,"offset":63420}}}],"position":{"start":{"line":1306,"column":1,"offset":63271},"end":{"line":1309,"column":6,"offset":63420}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can also use existing methods like ","position":{"start":{"line":1311,"column":1,"offset":63422},"end":{"line":1311,"column":39,"offset":63460}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":1311,"column":39,"offset":63460},"end":{"line":1311,"column":51,"offset":63472}}},{"type":"text","value":" to help ","position":{"start":{"line":1311,"column":51,"offset":63472},"end":{"line":1311,"column":60,"offset":63481}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"add()"}],"position":{"start":{"line":1311,"column":60,"offset":63481},"end":{"line":1311,"column":67,"offset":63488}}},{"type":"text","value":" return the new user (instead of just the id).","position":{"start":{"line":1311,"column":67,"offset":63488},"end":{"line":1311,"column":113,"offset":63534}}}],"position":{"start":{"line":1311,"column":1,"offset":63422},"end":{"line":1311,"column":113,"offset":63534}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function add(user) {\n  db('users').insert(user)\n    .then(ids => {\n      return findById(ids[0]);\n    });\n}\n"}],"position":{"start":{"line":1313,"column":1,"offset":63536},"end":{"line":1318,"column":6,"offset":63667}}}],"position":{"start":{"line":1313,"column":1,"offset":63536},"end":{"line":1318,"column":6,"offset":63667}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once all methods are written as desired, we can export them like so:","position":{"start":{"line":1320,"column":1,"offset":63669},"end":{"line":1320,"column":69,"offset":63737}}}],"position":{"start":{"line":1320,"column":1,"offset":63669},"end":{"line":1320,"column":69,"offset":63737}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n  find,\n  findById,\n  add,\n  update,\n  delete,\n}\n"}],"position":{"start":{"line":1322,"column":1,"offset":63739},"end":{"line":1328,"column":6,"offset":63834}}}],"position":{"start":{"line":1322,"column":1,"offset":63739},"end":{"line":1328,"column":6,"offset":63834}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"…and use the helpers in our endpoints","position":{"start":{"line":1330,"column":1,"offset":63836},"end":{"line":1330,"column":38,"offset":63873}}}],"position":{"start":{"line":1330,"column":1,"offset":63836},"end":{"line":1330,"column":38,"offset":63873}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const User = require('./user-model.js');\n\nrouter.get('/', (req, res) => {\n  User.find()\n    .then(users => {\n      res.json(users);\n    })\n    .catch(&nbsp;err => {});\n});\n"}],"position":{"start":{"line":1332,"column":1,"offset":63875},"end":{"line":1340,"column":8,"offset":64078}}}],"position":{"start":{"line":1332,"column":1,"offset":63875},"end":{"line":1340,"column":8,"offset":64078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There should no be ","position":{"start":{"line":1342,"column":1,"offset":64080},"end":{"line":1342,"column":20,"offset":64099}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":1342,"column":20,"offset":64099},"end":{"line":1342,"column":26,"offset":64105}}},{"type":"text","value":" code in the endpoints themselves.","position":{"start":{"line":1342,"column":26,"offset":64105},"end":{"line":1342,"column":60,"offset":64139}}}],"position":{"start":{"line":1342,"column":1,"offset":64080},"end":{"line":1342,"column":60,"offset":64139}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":1344,"column":1,"offset":64141},"end":{"line":1344,"column":4,"offset":64144}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1346,"column":1,"offset":64146},"end":{"line":1346,"column":4,"offset":64149}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>###","position":{"start":{"line":1348,"column":1,"offset":64151},"end":{"line":1348,"column":122,"offset":64272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Normalization"}],"position":{"start":{"line":1350,"column":1,"offset":64274},"end":{"line":1350,"column":16,"offset":64289}}},{"type":"text","value":" is the process of designing or refactoring database tables for maximum consistency and minimum redundancy.","position":{"start":{"line":1350,"column":16,"offset":64289},"end":{"line":1350,"column":123,"offset":64396}}}],"position":{"start":{"line":1350,"column":1,"offset":64274},"end":{"line":1350,"column":123,"offset":64396}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"With objects, we’re used to ","position":{"start":{"line":1352,"column":1,"offset":64398},"end":{"line":1352,"column":29,"offset":64426}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"denormalized","position":{"start":{"line":1352,"column":30,"offset":64427},"end":{"line":1352,"column":42,"offset":64439}}}],"position":{"start":{"line":1352,"column":29,"offset":64426},"end":{"line":1352,"column":43,"offset":64440}}},{"type":"text","value":" data, stored with ease of use and speed in mind. Non-normalized tables are considered ineffective in relational databases.","position":{"start":{"line":1352,"column":43,"offset":64440},"end":{"line":1352,"column":166,"offset":64563}}}],"position":{"start":{"line":1352,"column":1,"offset":64398},"end":{"line":1352,"column":166,"offset":64563}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1354,"column":1,"offset":64565},"end":{"line":1354,"column":4,"offset":64568}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data normalization","position":{"start":{"line":1356,"column":3,"offset":64572},"end":{"line":1356,"column":21,"offset":64590}}}],"position":{"start":{"line":1356,"column":1,"offset":64570},"end":{"line":1356,"column":23,"offset":64592}}},{"type":"text","value":" is a deep topic in database design. To begin thinking about it, we’ll explore a few basic guidelines and some data examples that violate these rules.","position":{"start":{"line":1356,"column":23,"offset":64592},"end":{"line":1356,"column":173,"offset":64742}}}],"position":{"start":{"line":1356,"column":1,"offset":64570},"end":{"line":1356,"column":173,"offset":64742}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Normalization Guidelines","position":{"start":{"line":1358,"column":5,"offset":64748},"end":{"line":1358,"column":29,"offset":64772}}}],"position":{"start":{"line":1358,"column":1,"offset":64744},"end":{"line":1358,"column":29,"offset":64772}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each record has a primary key.","position":{"start":{"line":1360,"column":3,"offset":64776},"end":{"line":1360,"column":33,"offset":64806}}}],"position":{"start":{"line":1360,"column":3,"offset":64776},"end":{"line":1360,"column":33,"offset":64806}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1360,"column":1,"offset":64774},"end":{"line":1360,"column":33,"offset":64806}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"No fields are repeated.","position":{"start":{"line":1362,"column":3,"offset":64810},"end":{"line":1362,"column":26,"offset":64833}}}],"position":{"start":{"line":1362,"column":3,"offset":64810},"end":{"line":1362,"column":26,"offset":64833}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1362,"column":1,"offset":64808},"end":{"line":1362,"column":26,"offset":64833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All fields relate directly to the key data.","position":{"start":{"line":1364,"column":3,"offset":64837},"end":{"line":1364,"column":46,"offset":64880}}}],"position":{"start":{"line":1364,"column":3,"offset":64837},"end":{"line":1364,"column":46,"offset":64880}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1364,"column":1,"offset":64835},"end":{"line":1364,"column":46,"offset":64880}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each field entry contains a single data point.","position":{"start":{"line":1366,"column":3,"offset":64884},"end":{"line":1366,"column":49,"offset":64930}}}],"position":{"start":{"line":1366,"column":3,"offset":64884},"end":{"line":1366,"column":49,"offset":64930}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1366,"column":1,"offset":64882},"end":{"line":1366,"column":49,"offset":64930}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are no redundant entries.","position":{"start":{"line":1368,"column":3,"offset":64934},"end":{"line":1368,"column":34,"offset":64965}}}],"position":{"start":{"line":1368,"column":3,"offset":64934},"end":{"line":1368,"column":34,"offset":64965}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1368,"column":1,"offset":64932},"end":{"line":1368,"column":34,"offset":64965}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Denormalized Data","position":{"start":{"line":1370,"column":5,"offset":64971},"end":{"line":1370,"column":22,"offset":64988}}}],"position":{"start":{"line":1370,"column":1,"offset":64967},"end":{"line":1370,"column":22,"offset":64988}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/19a01f68a659470fb85bbe6906fb4bad\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1372,"column":1,"offset":64990},"end":{"line":1372,"column":106,"offset":65095}}},{"type":"text","value":"Untitled","position":{"start":{"line":1372,"column":106,"offset":65095},"end":{"line":1372,"column":114,"offset":65103}}},{"type":"raw","value":"</a>","position":{"start":{"line":1372,"column":114,"offset":65103},"end":{"line":1372,"column":118,"offset":65107}}}],"position":{"start":{"line":1372,"column":1,"offset":64990},"end":{"line":1372,"column":118,"offset":65107}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This table has two issues. There is no proper id field (as multiple farms may have the same name), and multiple fields are representing the same type of data: animals.","position":{"start":{"line":1374,"column":1,"offset":65109},"end":{"line":1374,"column":168,"offset":65276}}}],"position":{"start":{"line":1374,"column":1,"offset":65109},"end":{"line":1374,"column":168,"offset":65276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/075ad6dd99ac48698625d7b56ca67bef\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1376,"column":1,"offset":65278},"end":{"line":1376,"column":106,"offset":65383}}},{"type":"text","value":"Untitled","position":{"start":{"line":1376,"column":106,"offset":65383},"end":{"line":1376,"column":114,"offset":65391}}},{"type":"raw","value":"</a>","position":{"start":{"line":1376,"column":114,"offset":65391},"end":{"line":1376,"column":118,"offset":65395}}}],"position":{"start":{"line":1376,"column":1,"offset":65278},"end":{"line":1376,"column":118,"offset":65395}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While we have now eliminated the first two issues, we now have multiple entries in one field, separated by commas. This isn’t good either, as its another example of denormalization. There is no “array” data type in a relational database, so each field must contain only one data point.","position":{"start":{"line":1378,"column":1,"offset":65397},"end":{"line":1378,"column":286,"offset":65682}}}],"position":{"start":{"line":1378,"column":1,"offset":65397},"end":{"line":1378,"column":286,"offset":65682}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/375a15b0cb3f444a8698cd6cb3a08fe0\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1380,"column":1,"offset":65684},"end":{"line":1380,"column":106,"offset":65789}}},{"type":"text","value":"Untitled","position":{"start":{"line":1380,"column":106,"offset":65789},"end":{"line":1380,"column":114,"offset":65797}}},{"type":"raw","value":"</a>","position":{"start":{"line":1380,"column":114,"offset":65797},"end":{"line":1380,"column":118,"offset":65801}}}],"position":{"start":{"line":1380,"column":1,"offset":65684},"end":{"line":1380,"column":118,"offset":65801}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now we’ve solved the multiple fields issue, but we created repeating data (the farm field), which is also an example of denormalization. As well, we can see that if we were tracking additional ranch information (such as annual revenue), that field is only vaguely related to the animal information.","position":{"start":{"line":1382,"column":1,"offset":65803},"end":{"line":1382,"column":299,"offset":66101}}}],"position":{"start":{"line":1382,"column":1,"offset":65803},"end":{"line":1382,"column":299,"offset":66101}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"When these issues begin arising in your schema design, it means that you should separate information into two or more tables.","position":{"start":{"line":1384,"column":3,"offset":66105},"end":{"line":1384,"column":128,"offset":66230}}}],"position":{"start":{"line":1384,"column":1,"offset":66103},"end":{"line":1384,"column":130,"offset":66232}}}],"position":{"start":{"line":1384,"column":1,"offset":66103},"end":{"line":1384,"column":130,"offset":66232}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Anomalies","position":{"start":{"line":1386,"column":5,"offset":66238},"end":{"line":1386,"column":14,"offset":66247}}}],"position":{"start":{"line":1386,"column":1,"offset":66234},"end":{"line":1386,"column":14,"offset":66247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Obeying the above guidelines prevent ","position":{"start":{"line":1388,"column":1,"offset":66249},"end":{"line":1388,"column":38,"offset":66286}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"anomalies","position":{"start":{"line":1388,"column":40,"offset":66288},"end":{"line":1388,"column":49,"offset":66297}}}],"position":{"start":{"line":1388,"column":38,"offset":66286},"end":{"line":1388,"column":51,"offset":66299}}},{"type":"text","value":" in your database when inserting, updating, or deleting. For example, imagine if the revenue of Beech Ranch changed. With our denormalized schema, it may get updated in some records but not others:","position":{"start":{"line":1388,"column":51,"offset":66299},"end":{"line":1388,"column":248,"offset":66496}}}],"position":{"start":{"line":1388,"column":1,"offset":66249},"end":{"line":1388,"column":248,"offset":66496}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/e05f5b2e8ff141798adc6f188f56f31e\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1390,"column":1,"offset":66498},"end":{"line":1390,"column":106,"offset":66603}}},{"type":"text","value":"Untitled","position":{"start":{"line":1390,"column":106,"offset":66603},"end":{"line":1390,"column":114,"offset":66611}}},{"type":"raw","value":"</a>","position":{"start":{"line":1390,"column":114,"offset":66611},"end":{"line":1390,"column":118,"offset":66615}}}],"position":{"start":{"line":1390,"column":1,"offset":66498},"end":{"line":1390,"column":118,"offset":66615}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Similarly, if Beech Ranch shut down, there would be three (if not more) records that needed to be deleted to remove a single farm.","position":{"start":{"line":1392,"column":1,"offset":66617},"end":{"line":1392,"column":131,"offset":66747}}}],"position":{"start":{"line":1392,"column":1,"offset":66617},"end":{"line":1392,"column":131,"offset":66747}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thus a denormalized table opens the door for contradictory, confusing, and unusable data.","position":{"start":{"line":1394,"column":1,"offset":66749},"end":{"line":1394,"column":90,"offset":66838}}}],"position":{"start":{"line":1394,"column":1,"offset":66749},"end":{"line":1394,"column":90,"offset":66838}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1396,"column":1,"offset":66840},"end":{"line":1396,"column":4,"offset":66843}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"What issues does the following table have?","position":{"start":{"line":1398,"column":1,"offset":66845},"end":{"line":1398,"column":43,"offset":66887}}}],"position":{"start":{"line":1398,"column":1,"offset":66845},"end":{"line":1398,"column":43,"offset":66887}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/2793e8f6b70a47f48f9208779366e69e\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1400,"column":1,"offset":66889},"end":{"line":1400,"column":106,"offset":66994}}},{"type":"text","value":"Untitled","position":{"start":{"line":1400,"column":106,"offset":66994},"end":{"line":1400,"column":114,"offset":67002}}},{"type":"raw","value":"</a>","position":{"start":{"line":1400,"column":114,"offset":67002},"end":{"line":1400,"column":118,"offset":67006}}}],"position":{"start":{"line":1400,"column":1,"offset":66889},"end":{"line":1400,"column":118,"offset":67006}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1402,"column":1,"offset":67008},"end":{"line":1402,"column":4,"offset":67011}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are three types of relationships:","position":{"start":{"line":1404,"column":1,"offset":67013},"end":{"line":1404,"column":40,"offset":67052}}}],"position":{"start":{"line":1404,"column":1,"offset":67013},"end":{"line":1404,"column":40,"offset":67052}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One to one.","position":{"start":{"line":1406,"column":3,"offset":67056},"end":{"line":1406,"column":14,"offset":67067}}}],"position":{"start":{"line":1406,"column":3,"offset":67056},"end":{"line":1406,"column":14,"offset":67067}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1406,"column":1,"offset":67054},"end":{"line":1406,"column":14,"offset":67067}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One to many.","position":{"start":{"line":1408,"column":3,"offset":67071},"end":{"line":1408,"column":15,"offset":67083}}}],"position":{"start":{"line":1408,"column":3,"offset":67071},"end":{"line":1408,"column":15,"offset":67083}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1408,"column":1,"offset":67069},"end":{"line":1408,"column":15,"offset":67083}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Many to many.","position":{"start":{"line":1410,"column":3,"offset":67087},"end":{"line":1410,"column":16,"offset":67100}}}],"position":{"start":{"line":1410,"column":3,"offset":67087},"end":{"line":1410,"column":16,"offset":67100}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1410,"column":1,"offset":67085},"end":{"line":1410,"column":16,"offset":67100}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Determining how data is related can provide a set of guidelines for table representation and guides the use of foreign keys to connect said tables.","position":{"start":{"line":1412,"column":1,"offset":67102},"end":{"line":1412,"column":148,"offset":67249}}}],"position":{"start":{"line":1412,"column":1,"offset":67102},"end":{"line":1412,"column":148,"offset":67249}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1414,"column":1,"offset":67251},"end":{"line":1414,"column":4,"offset":67254}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"One to One Relationships","position":{"start":{"line":1416,"column":5,"offset":67260},"end":{"line":1416,"column":29,"offset":67284}}}],"position":{"start":{"line":1416,"column":1,"offset":67256},"end":{"line":1416,"column":29,"offset":67284}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Imagine we are storing the financial projections for a series of farms.","position":{"start":{"line":1418,"column":1,"offset":67286},"end":{"line":1418,"column":72,"offset":67357}}}],"position":{"start":{"line":1418,"column":1,"offset":67286},"end":{"line":1418,"column":72,"offset":67357}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We may wish to attach fields like farm name, address, description, projected revenue, and projected expenses. We could divide these fields into two categories: information related to the farm directly (name, address, description) and information related to the financial projections (revenue, expenses).","position":{"start":{"line":1420,"column":1,"offset":67359},"end":{"line":1420,"column":304,"offset":67662}}}],"position":{"start":{"line":1420,"column":1,"offset":67359},"end":{"line":1420,"column":304,"offset":67662}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We would say that ","position":{"start":{"line":1422,"column":1,"offset":67664},"end":{"line":1422,"column":19,"offset":67682}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1422,"column":19,"offset":67682},"end":{"line":1422,"column":26,"offset":67689}}},{"type":"text","value":" and ","position":{"start":{"line":1422,"column":26,"offset":67689},"end":{"line":1422,"column":31,"offset":67694}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projections"}],"position":{"start":{"line":1422,"column":31,"offset":67694},"end":{"line":1422,"column":44,"offset":67707}}},{"type":"text","value":" have a ","position":{"start":{"line":1422,"column":44,"offset":67707},"end":{"line":1422,"column":52,"offset":67715}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"one-to-one","position":{"start":{"line":1422,"column":54,"offset":67717},"end":{"line":1422,"column":64,"offset":67727}}}],"position":{"start":{"line":1422,"column":52,"offset":67715},"end":{"line":1422,"column":66,"offset":67729}}},{"type":"text","value":" relationship. This is to say that every farm has exactly one projection, and every project corresponds to exactly one farm.","position":{"start":{"line":1422,"column":66,"offset":67729},"end":{"line":1422,"column":190,"offset":67853}}}],"position":{"start":{"line":1422,"column":1,"offset":67664},"end":{"line":1422,"column":190,"offset":67853}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This data can be represented in two tables: ","position":{"start":{"line":1424,"column":1,"offset":67855},"end":{"line":1424,"column":45,"offset":67899}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1424,"column":45,"offset":67899},"end":{"line":1424,"column":52,"offset":67906}}},{"type":"text","value":" and ","position":{"start":{"line":1424,"column":52,"offset":67906},"end":{"line":1424,"column":57,"offset":67911}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projections"}],"position":{"start":{"line":1424,"column":57,"offset":67911},"end":{"line":1424,"column":70,"offset":67924}}}],"position":{"start":{"line":1424,"column":1,"offset":67855},"end":{"line":1424,"column":70,"offset":67924}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/944e594f3464473ea06383bfdea13265\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1426,"column":1,"offset":67926},"end":{"line":1426,"column":106,"offset":68031}}},{"type":"text","value":"Untitled","position":{"start":{"line":1426,"column":106,"offset":68031},"end":{"line":1426,"column":114,"offset":68039}}},{"type":"raw","value":"</a>","position":{"start":{"line":1426,"column":114,"offset":68039},"end":{"line":1426,"column":118,"offset":68043}}}],"position":{"start":{"line":1426,"column":1,"offset":67926},"end":{"line":1426,"column":118,"offset":68043}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/de32fcf6760e45f284707274433fee92\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1428,"column":1,"offset":68045},"end":{"line":1428,"column":106,"offset":68150}}},{"type":"text","value":"Untitled","position":{"start":{"line":1428,"column":106,"offset":68150},"end":{"line":1428,"column":114,"offset":68158}}},{"type":"raw","value":"</a>","position":{"start":{"line":1428,"column":114,"offset":68158},"end":{"line":1428,"column":118,"offset":68162}}}],"position":{"start":{"line":1428,"column":1,"offset":68045},"end":{"line":1428,"column":118,"offset":68162}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":1430,"column":1,"offset":68164},"end":{"line":1430,"column":5,"offset":68168}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1430,"column":5,"offset":68168},"end":{"line":1430,"column":14,"offset":68177}}},{"type":"text","value":" is the foreign key that links ","position":{"start":{"line":1430,"column":14,"offset":68177},"end":{"line":1430,"column":45,"offset":68208}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1430,"column":45,"offset":68208},"end":{"line":1430,"column":52,"offset":68215}}},{"type":"text","value":" and ","position":{"start":{"line":1430,"column":52,"offset":68215},"end":{"line":1430,"column":57,"offset":68220}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projections"}],"position":{"start":{"line":1430,"column":57,"offset":68220},"end":{"line":1430,"column":70,"offset":68233}}},{"type":"text","value":" together.","position":{"start":{"line":1430,"column":70,"offset":68233},"end":{"line":1430,"column":80,"offset":68243}}}],"position":{"start":{"line":1430,"column":1,"offset":68164},"end":{"line":1430,"column":80,"offset":68243}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notes about one-to-one relationships:","position":{"start":{"line":1432,"column":1,"offset":68245},"end":{"line":1432,"column":38,"offset":68282}}}],"position":{"start":{"line":1432,"column":1,"offset":68245},"end":{"line":1432,"column":38,"offset":68282}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"198d\">","position":{"start":{"line":1434,"column":5,"offset":68288},"end":{"line":1434,"column":21,"offset":68304}}},{"type":"text","value":"The foreign key should always have a ","position":{"start":{"line":1434,"column":21,"offset":68304},"end":{"line":1434,"column":58,"offset":68341}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unique"}],"position":{"start":{"line":1434,"column":58,"offset":68341},"end":{"line":1434,"column":66,"offset":68349}}},{"type":"text","value":" constraint to prevent duplicate entries. In the example above, we wouldn't want to allow multiple projections records for one farm.","position":{"start":{"line":1434,"column":66,"offset":68349},"end":{"line":1434,"column":198,"offset":68481}}},{"type":"raw","value":"</span>","position":{"start":{"line":1434,"column":198,"offset":68481},"end":{"line":1434,"column":205,"offset":68488}}}],"position":{"start":{"line":1434,"column":1,"offset":68284},"end":{"line":1434,"column":205,"offset":68488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"25c6\">","position":{"start":{"line":1435,"column":5,"offset":68493},"end":{"line":1435,"column":21,"offset":68509}}},{"type":"text","value":"The foreign key can be in either table. For example, we may have had a ","position":{"start":{"line":1435,"column":21,"offset":68509},"end":{"line":1435,"column":92,"offset":68580}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projection_id"}],"position":{"start":{"line":1435,"column":92,"offset":68580},"end":{"line":1435,"column":107,"offset":68595}}},{"type":"text","value":" in the ","position":{"start":{"line":1435,"column":107,"offset":68595},"end":{"line":1435,"column":115,"offset":68603}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1435,"column":115,"offset":68603},"end":{"line":1435,"column":122,"offset":68610}}},{"type":"text","value":" table instead. A good rule of thumb is to put the foreign key in whichever table is more auxiliary to the other.","position":{"start":{"line":1435,"column":122,"offset":68610},"end":{"line":1435,"column":235,"offset":68723}}},{"type":"raw","value":"</span>","position":{"start":{"line":1435,"column":235,"offset":68723},"end":{"line":1435,"column":242,"offset":68730}}}],"position":{"start":{"line":1435,"column":1,"offset":68489},"end":{"line":1435,"column":242,"offset":68730}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"960d\">","position":{"start":{"line":1436,"column":5,"offset":68735},"end":{"line":1436,"column":21,"offset":68751}}},{"type":"text","value":"You can represent one-to-one data in a single table ","position":{"start":{"line":1436,"column":21,"offset":68751},"end":{"line":1436,"column":73,"offset":68803}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"without","position":{"start":{"line":1436,"column":74,"offset":68804},"end":{"line":1436,"column":81,"offset":68811}}}],"position":{"start":{"line":1436,"column":73,"offset":68803},"end":{"line":1436,"column":82,"offset":68812}}},{"type":"text","value":" creating anomalies. However, it is sometimes prudent to use two tables as shown above to keep separate concerns in separate tables.","position":{"start":{"line":1436,"column":82,"offset":68812},"end":{"line":1436,"column":214,"offset":68944}}},{"type":"raw","value":"</span>","position":{"start":{"line":1436,"column":214,"offset":68944},"end":{"line":1436,"column":221,"offset":68951}}}],"position":{"start":{"line":1436,"column":1,"offset":68731},"end":{"line":1436,"column":221,"offset":68951}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1434,"column":1,"offset":68284},"end":{"line":1436,"column":221,"offset":68951}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"One to Many Relationships","position":{"start":{"line":1438,"column":5,"offset":68957},"end":{"line":1438,"column":30,"offset":68982}}}],"position":{"start":{"line":1438,"column":1,"offset":68953},"end":{"line":1438,"column":30,"offset":68982}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now imagine, we are storing the full-time ranchers employed at each farm. In this case, each rancher would only work at one farm however, each farm may have multiple ranchers.","position":{"start":{"line":1440,"column":1,"offset":68984},"end":{"line":1440,"column":176,"offset":69159}}}],"position":{"start":{"line":1440,"column":1,"offset":68984},"end":{"line":1440,"column":176,"offset":69159}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is called a ","position":{"start":{"line":1442,"column":1,"offset":69161},"end":{"line":1442,"column":18,"offset":69178}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"one-to-many","position":{"start":{"line":1442,"column":20,"offset":69180},"end":{"line":1442,"column":31,"offset":69191}}}],"position":{"start":{"line":1442,"column":18,"offset":69178},"end":{"line":1442,"column":33,"offset":69193}}},{"type":"text","value":" relationship.","position":{"start":{"line":1442,"column":33,"offset":69193},"end":{"line":1442,"column":47,"offset":69207}}}],"position":{"start":{"line":1442,"column":1,"offset":69161},"end":{"line":1442,"column":47,"offset":69207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the most common type of relationship between entities. Some other examples:","position":{"start":{"line":1444,"column":1,"offset":69209},"end":{"line":1444,"column":84,"offset":69292}}}],"position":{"start":{"line":1444,"column":1,"offset":69209},"end":{"line":1444,"column":84,"offset":69292}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"5627\">","position":{"start":{"line":1446,"column":5,"offset":69298},"end":{"line":1446,"column":21,"offset":69314}}},{"type":"text","value":"One ","position":{"start":{"line":1446,"column":21,"offset":69314},"end":{"line":1446,"column":25,"offset":69318}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"customer"}],"position":{"start":{"line":1446,"column":25,"offset":69318},"end":{"line":1446,"column":35,"offset":69328}}},{"type":"text","value":" can have many ","position":{"start":{"line":1446,"column":35,"offset":69328},"end":{"line":1446,"column":50,"offset":69343}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"orders"}],"position":{"start":{"line":1446,"column":50,"offset":69343},"end":{"line":1446,"column":58,"offset":69351}}},{"type":"text","value":".","position":{"start":{"line":1446,"column":58,"offset":69351},"end":{"line":1446,"column":59,"offset":69352}}},{"type":"raw","value":"</span>","position":{"start":{"line":1446,"column":59,"offset":69352},"end":{"line":1446,"column":66,"offset":69359}}}],"position":{"start":{"line":1446,"column":1,"offset":69294},"end":{"line":1446,"column":66,"offset":69359}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"cc42\">","position":{"start":{"line":1447,"column":5,"offset":69364},"end":{"line":1447,"column":21,"offset":69380}}},{"type":"text","value":"One ","position":{"start":{"line":1447,"column":21,"offset":69380},"end":{"line":1447,"column":25,"offset":69384}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"user"}],"position":{"start":{"line":1447,"column":25,"offset":69384},"end":{"line":1447,"column":31,"offset":69390}}},{"type":"text","value":" can have many ","position":{"start":{"line":1447,"column":31,"offset":69390},"end":{"line":1447,"column":46,"offset":69405}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"posts"}],"position":{"start":{"line":1447,"column":46,"offset":69405},"end":{"line":1447,"column":53,"offset":69412}}},{"type":"text","value":".","position":{"start":{"line":1447,"column":53,"offset":69412},"end":{"line":1447,"column":54,"offset":69413}}},{"type":"raw","value":"</span>","position":{"start":{"line":1447,"column":54,"offset":69413},"end":{"line":1447,"column":61,"offset":69420}}}],"position":{"start":{"line":1447,"column":1,"offset":69360},"end":{"line":1447,"column":61,"offset":69420}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"dae3\">","position":{"start":{"line":1448,"column":5,"offset":69425},"end":{"line":1448,"column":21,"offset":69441}}},{"type":"text","value":"One ","position":{"start":{"line":1448,"column":21,"offset":69441},"end":{"line":1448,"column":25,"offset":69445}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"post"}],"position":{"start":{"line":1448,"column":25,"offset":69445},"end":{"line":1448,"column":31,"offset":69451}}},{"type":"text","value":" can have many ","position":{"start":{"line":1448,"column":31,"offset":69451},"end":{"line":1448,"column":46,"offset":69466}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"comments"}],"position":{"start":{"line":1448,"column":46,"offset":69466},"end":{"line":1448,"column":56,"offset":69476}}},{"type":"text","value":".","position":{"start":{"line":1448,"column":56,"offset":69476},"end":{"line":1448,"column":57,"offset":69477}}},{"type":"raw","value":"</span>","position":{"start":{"line":1448,"column":57,"offset":69477},"end":{"line":1448,"column":64,"offset":69484}}}],"position":{"start":{"line":1448,"column":1,"offset":69421},"end":{"line":1448,"column":64,"offset":69484}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1446,"column":1,"offset":69294},"end":{"line":1448,"column":64,"offset":69484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Manage this type of relationship by adding a foreign key on the “many” table of the relationship that points to the primary key on the “one” table. Consider the ","position":{"start":{"line":1450,"column":1,"offset":69486},"end":{"line":1450,"column":162,"offset":69647}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1450,"column":162,"offset":69647},"end":{"line":1450,"column":169,"offset":69654}}},{"type":"text","value":" and ","position":{"start":{"line":1450,"column":169,"offset":69654},"end":{"line":1450,"column":174,"offset":69659}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1450,"column":174,"offset":69659},"end":{"line":1450,"column":184,"offset":69669}}},{"type":"text","value":" tables.","position":{"start":{"line":1450,"column":184,"offset":69669},"end":{"line":1450,"column":192,"offset":69677}}}],"position":{"start":{"line":1450,"column":1,"offset":69486},"end":{"line":1450,"column":192,"offset":69677}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/7dfd2e69c9804a01845f2e9b716a5ac2\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1452,"column":1,"offset":69679},"end":{"line":1452,"column":106,"offset":69784}}},{"type":"text","value":"Untitled","position":{"start":{"line":1452,"column":106,"offset":69784},"end":{"line":1452,"column":114,"offset":69792}}},{"type":"raw","value":"</a>","position":{"start":{"line":1452,"column":114,"offset":69792},"end":{"line":1452,"column":118,"offset":69796}}}],"position":{"start":{"line":1452,"column":1,"offset":69679},"end":{"line":1452,"column":118,"offset":69796}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/c95f3d418db94ab4b4532eeba0e4f918\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1454,"column":1,"offset":69798},"end":{"line":1454,"column":106,"offset":69903}}},{"type":"text","value":"Untitled","position":{"start":{"line":1454,"column":106,"offset":69903},"end":{"line":1454,"column":114,"offset":69911}}},{"type":"raw","value":"</a>","position":{"start":{"line":1454,"column":114,"offset":69911},"end":{"line":1454,"column":118,"offset":69915}}}],"position":{"start":{"line":1454,"column":1,"offset":69798},"end":{"line":1454,"column":118,"offset":69915}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In a many-to-many relationship, the foreign key (in this case ","position":{"start":{"line":1456,"column":1,"offset":69917},"end":{"line":1456,"column":63,"offset":69979}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1456,"column":63,"offset":69979},"end":{"line":1456,"column":72,"offset":69988}}},{"type":"text","value":") should ","position":{"start":{"line":1456,"column":72,"offset":69988},"end":{"line":1456,"column":81,"offset":69997}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"not","position":{"start":{"line":1456,"column":82,"offset":69998},"end":{"line":1456,"column":85,"offset":70001}}}],"position":{"start":{"line":1456,"column":81,"offset":69997},"end":{"line":1456,"column":86,"offset":70002}}},{"type":"text","value":" be unique.","position":{"start":{"line":1456,"column":86,"offset":70002},"end":{"line":1456,"column":97,"offset":70013}}}],"position":{"start":{"line":1456,"column":1,"offset":69917},"end":{"line":1456,"column":97,"offset":70013}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Many to Many Relationships","position":{"start":{"line":1458,"column":5,"offset":70019},"end":{"line":1458,"column":31,"offset":70045}}}],"position":{"start":{"line":1458,"column":1,"offset":70015},"end":{"line":1458,"column":31,"offset":70045}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we want to track animals on a farm as well, we must explore the ","position":{"start":{"line":1460,"column":1,"offset":70047},"end":{"line":1460,"column":68,"offset":70114}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"many-to-many","position":{"start":{"line":1460,"column":70,"offset":70116},"end":{"line":1460,"column":82,"offset":70128}}}],"position":{"start":{"line":1460,"column":68,"offset":70114},"end":{"line":1460,"column":84,"offset":70130}}},{"type":"text","value":" relationship. A farm has multiple animals, and multiple of each type of animal is present at multiple different farms.","position":{"start":{"line":1460,"column":84,"offset":70130},"end":{"line":1460,"column":203,"offset":70249}}}],"position":{"start":{"line":1460,"column":1,"offset":70047},"end":{"line":1460,"column":203,"offset":70249}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some other examples:","position":{"start":{"line":1462,"column":1,"offset":70251},"end":{"line":1462,"column":21,"offset":70271}}}],"position":{"start":{"line":1462,"column":1,"offset":70251},"end":{"line":1462,"column":21,"offset":70271}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d757\">","position":{"start":{"line":1464,"column":5,"offset":70277},"end":{"line":1464,"column":21,"offset":70293}}},{"type":"text","value":"an ","position":{"start":{"line":1464,"column":21,"offset":70293},"end":{"line":1464,"column":24,"offset":70296}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"order"}],"position":{"start":{"line":1464,"column":24,"offset":70296},"end":{"line":1464,"column":31,"offset":70303}}},{"type":"text","value":" can have many ","position":{"start":{"line":1464,"column":31,"offset":70303},"end":{"line":1464,"column":46,"offset":70318}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"products"}],"position":{"start":{"line":1464,"column":46,"offset":70318},"end":{"line":1464,"column":56,"offset":70328}}},{"type":"text","value":" and the same ","position":{"start":{"line":1464,"column":56,"offset":70328},"end":{"line":1464,"column":70,"offset":70342}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"product"}],"position":{"start":{"line":1464,"column":70,"offset":70342},"end":{"line":1464,"column":79,"offset":70351}}},{"type":"text","value":" will appear in many ","position":{"start":{"line":1464,"column":79,"offset":70351},"end":{"line":1464,"column":100,"offset":70372}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"orders"}],"position":{"start":{"line":1464,"column":100,"offset":70372},"end":{"line":1464,"column":108,"offset":70380}}},{"type":"text","value":".","position":{"start":{"line":1464,"column":108,"offset":70380},"end":{"line":1464,"column":109,"offset":70381}}},{"type":"raw","value":"</span>","position":{"start":{"line":1464,"column":109,"offset":70381},"end":{"line":1464,"column":116,"offset":70388}}}],"position":{"start":{"line":1464,"column":1,"offset":70273},"end":{"line":1464,"column":116,"offset":70388}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0256\">","position":{"start":{"line":1465,"column":5,"offset":70393},"end":{"line":1465,"column":21,"offset":70409}}},{"type":"text","value":"a ","position":{"start":{"line":1465,"column":21,"offset":70409},"end":{"line":1465,"column":23,"offset":70411}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"book"}],"position":{"start":{"line":1465,"column":23,"offset":70411},"end":{"line":1465,"column":29,"offset":70417}}},{"type":"text","value":" can have more than one ","position":{"start":{"line":1465,"column":29,"offset":70417},"end":{"line":1465,"column":53,"offset":70441}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"author"}],"position":{"start":{"line":1465,"column":53,"offset":70441},"end":{"line":1465,"column":61,"offset":70449}}},{"type":"text","value":", and an ","position":{"start":{"line":1465,"column":61,"offset":70449},"end":{"line":1465,"column":70,"offset":70458}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"author"}],"position":{"start":{"line":1465,"column":70,"offset":70458},"end":{"line":1465,"column":78,"offset":70466}}},{"type":"text","value":" can write more than one ","position":{"start":{"line":1465,"column":78,"offset":70466},"end":{"line":1465,"column":103,"offset":70491}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"book"}],"position":{"start":{"line":1465,"column":103,"offset":70491},"end":{"line":1465,"column":109,"offset":70497}}},{"type":"text","value":".","position":{"start":{"line":1465,"column":109,"offset":70497},"end":{"line":1465,"column":110,"offset":70498}}},{"type":"raw","value":"</span>","position":{"start":{"line":1465,"column":110,"offset":70498},"end":{"line":1465,"column":117,"offset":70505}}}],"position":{"start":{"line":1465,"column":1,"offset":70389},"end":{"line":1465,"column":117,"offset":70505}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1464,"column":1,"offset":70273},"end":{"line":1465,"column":117,"offset":70505}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To model this relationship, we need to introduce an ","position":{"start":{"line":1467,"column":1,"offset":70507},"end":{"line":1467,"column":53,"offset":70559}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"intermediary table","position":{"start":{"line":1467,"column":55,"offset":70561},"end":{"line":1467,"column":73,"offset":70579}}}],"position":{"start":{"line":1467,"column":53,"offset":70559},"end":{"line":1467,"column":75,"offset":70581}}},{"type":"text","value":" that holds foreign keys that reference the primary key on the related tables. We now have a ","position":{"start":{"line":1467,"column":75,"offset":70581},"end":{"line":1467,"column":168,"offset":70674}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1467,"column":168,"offset":70674},"end":{"line":1467,"column":175,"offset":70681}}},{"type":"text","value":", ","position":{"start":{"line":1467,"column":175,"offset":70681},"end":{"line":1467,"column":177,"offset":70683}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"animals"}],"position":{"start":{"line":1467,"column":177,"offset":70683},"end":{"line":1467,"column":186,"offset":70692}}},{"type":"text","value":", and ","position":{"start":{"line":1467,"column":186,"offset":70692},"end":{"line":1467,"column":192,"offset":70698}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_animals"}],"position":{"start":{"line":1467,"column":192,"offset":70698},"end":{"line":1467,"column":206,"offset":70712}}},{"type":"text","value":" table.","position":{"start":{"line":1467,"column":206,"offset":70712},"end":{"line":1467,"column":213,"offset":70719}}}],"position":{"start":{"line":1467,"column":1,"offset":70507},"end":{"line":1467,"column":213,"offset":70719}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/3269812d7c2a4578b1a9f6bc27e485b1\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1469,"column":1,"offset":70721},"end":{"line":1469,"column":106,"offset":70826}}},{"type":"text","value":"Untitled","position":{"start":{"line":1469,"column":106,"offset":70826},"end":{"line":1469,"column":114,"offset":70834}}},{"type":"raw","value":"</a>","position":{"start":{"line":1469,"column":114,"offset":70834},"end":{"line":1469,"column":118,"offset":70838}}}],"position":{"start":{"line":1469,"column":1,"offset":70721},"end":{"line":1469,"column":118,"offset":70838}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/c2642c7f632f489cb1b9639c80b8400d\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1471,"column":1,"offset":70840},"end":{"line":1471,"column":106,"offset":70945}}},{"type":"text","value":"Untitled","position":{"start":{"line":1471,"column":106,"offset":70945},"end":{"line":1471,"column":114,"offset":70953}}},{"type":"raw","value":"</a>","position":{"start":{"line":1471,"column":114,"offset":70953},"end":{"line":1471,"column":118,"offset":70957}}}],"position":{"start":{"line":1471,"column":1,"offset":70840},"end":{"line":1471,"column":118,"offset":70957}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/d0b0042c5e104edd9ed55e122af89084\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1473,"column":1,"offset":70959},"end":{"line":1473,"column":106,"offset":71064}}},{"type":"text","value":"Untitled","position":{"start":{"line":1473,"column":106,"offset":71064},"end":{"line":1473,"column":114,"offset":71072}}},{"type":"raw","value":"</a>","position":{"start":{"line":1473,"column":114,"offset":71072},"end":{"line":1473,"column":118,"offset":71076}}}],"position":{"start":{"line":1473,"column":1,"offset":70959},"end":{"line":1473,"column":118,"offset":71076}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While each foreign key on the intermediary table is not unique, the combinations of keys should be unique.","position":{"start":{"line":1475,"column":1,"offset":71078},"end":{"line":1475,"column":107,"offset":71184}}}],"position":{"start":{"line":1475,"column":1,"offset":71078},"end":{"line":1475,"column":107,"offset":71184}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1477,"column":1,"offset":71186},"end":{"line":1477,"column":4,"offset":71189}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>The Knex query builder library also allows us to create multi-table schemas include foreign keys. However, there are a few extra things to keep in mind when designing a multi-table schema, such as using the correct order when creating tables, dropping tables, seeding data, and removing data.","position":{"start":{"line":1479,"column":1,"offset":71191},"end":{"line":1479,"column":411,"offset":71601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We have to consider the way that ","position":{"start":{"line":1481,"column":1,"offset":71603},"end":{"line":1481,"column":34,"offset":71636}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"delete"}],"position":{"start":{"line":1481,"column":34,"offset":71636},"end":{"line":1481,"column":42,"offset":71644}}},{"type":"text","value":" and ","position":{"start":{"line":1481,"column":42,"offset":71644},"end":{"line":1481,"column":47,"offset":71649}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"updates"}],"position":{"start":{"line":1481,"column":47,"offset":71649},"end":{"line":1481,"column":56,"offset":71658}}},{"type":"text","value":" through our API will impact related data.","position":{"start":{"line":1481,"column":56,"offset":71658},"end":{"line":1481,"column":98,"offset":71700}}}],"position":{"start":{"line":1481,"column":1,"offset":71603},"end":{"line":1481,"column":98,"offset":71700}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1483,"column":1,"offset":71702},"end":{"line":1483,"column":4,"offset":71705}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Foreign Key Setup","position":{"start":{"line":1485,"column":5,"offset":71711},"end":{"line":1485,"column":22,"offset":71728}}}],"position":{"start":{"line":1485,"column":1,"offset":71707},"end":{"line":1485,"column":22,"offset":71728}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, foreign key restrictions don’t automatically work. Whenever using foreign keys in your schema, add the following code to your ","position":{"start":{"line":1487,"column":1,"offset":71730},"end":{"line":1487,"column":136,"offset":71865}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":1487,"column":136,"offset":71865},"end":{"line":1487,"column":146,"offset":71875}}},{"type":"text","value":". This will prevent users from entering bad data into a foreign key column.","position":{"start":{"line":1487,"column":146,"offset":71875},"end":{"line":1487,"column":221,"offset":71950}}}],"position":{"start":{"line":1487,"column":1,"offset":71730},"end":{"line":1487,"column":221,"offset":71950}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n  client: 'sqlite3',\n  useNullAsDefault: true,\n  connection: {\n    filename: './data/database.db3',\n  },\n  // needed when using foreign keys\n  pool: {\n    afterCreate: (conn, done) => {\n      // runs after a connection is made to the sqlite engine\n      conn.run('PRAGMA foreign_keys = ON', done); // turn on FK enforcement\n    },\n  },\n},\n"}],"position":{"start":{"line":1489,"column":1,"offset":71952},"end":{"line":1502,"column":7,"offset":72361}}}],"position":{"start":{"line":1489,"column":1,"offset":71952},"end":{"line":1502,"column":7,"offset":72361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Migrations","position":{"start":{"line":1504,"column":5,"offset":72367},"end":{"line":1504,"column":15,"offset":72377}}}],"position":{"start":{"line":1504,"column":1,"offset":72363},"end":{"line":1504,"column":15,"offset":72377}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let’s look at how we might track our ","position":{"start":{"line":1506,"column":1,"offset":72379},"end":{"line":1506,"column":38,"offset":72416}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1506,"column":38,"offset":72416},"end":{"line":1506,"column":45,"offset":72423}}},{"type":"text","value":" and ","position":{"start":{"line":1506,"column":45,"offset":72423},"end":{"line":1506,"column":50,"offset":72428}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1506,"column":50,"offset":72428},"end":{"line":1506,"column":60,"offset":72438}}},{"type":"text","value":" using Knex. In our migration file's ","position":{"start":{"line":1506,"column":60,"offset":72438},"end":{"line":1506,"column":97,"offset":72475}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1506,"column":97,"offset":72475},"end":{"line":1506,"column":101,"offset":72479}}},{"type":"text","value":" function, we would want to create two tables:","position":{"start":{"line":1506,"column":101,"offset":72479},"end":{"line":1506,"column":147,"offset":72525}}}],"position":{"start":{"line":1506,"column":1,"offset":72379},"end":{"line":1506,"column":147,"offset":72525}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.up = function(knex, Promise) {\n  return knex.schema\n    .createTable('farms', tbl => {\n      tbl.increments();\n      tbl.string('farm_name', 128)\n        .notNullable();\n    })\n    // we can chain together createTable\n    .createTable('ranchers', tbl => {\n      tbl.increments();\n      tbl.string('rancher_name', 128);\n      tbl.integer('farm_id')\n        // forces integer to be positive\n        .unsigned()\n        .notNullable()\n        .references('id')\n        // this table must exist already\n        .inTable('farms')\n    })\n};\n"}],"position":{"start":{"line":1508,"column":1,"offset":72527},"end":{"line":1527,"column":7,"offset":73149}}}],"position":{"start":{"line":1508,"column":1,"offset":72527},"end":{"line":1527,"column":7,"offset":73149}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the foreign key can only be created ","position":{"start":{"line":1529,"column":1,"offset":73151},"end":{"line":1529,"column":47,"offset":73197}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"after","position":{"start":{"line":1529,"column":48,"offset":73198},"end":{"line":1529,"column":53,"offset":73203}}}],"position":{"start":{"line":1529,"column":47,"offset":73197},"end":{"line":1529,"column":54,"offset":73204}}},{"type":"text","value":" the reference table.","position":{"start":{"line":1529,"column":54,"offset":73204},"end":{"line":1529,"column":75,"offset":73225}}}],"position":{"start":{"line":1529,"column":1,"offset":73151},"end":{"line":1529,"column":75,"offset":73225}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the down function, the opposite is true. We always want to drop a table with a foreign key ","position":{"start":{"line":1531,"column":1,"offset":73227},"end":{"line":1531,"column":95,"offset":73321}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"before","position":{"start":{"line":1531,"column":96,"offset":73322},"end":{"line":1531,"column":102,"offset":73328}}}],"position":{"start":{"line":1531,"column":95,"offset":73321},"end":{"line":1531,"column":103,"offset":73329}}},{"type":"text","value":" dropping the table it references.","position":{"start":{"line":1531,"column":103,"offset":73329},"end":{"line":1531,"column":137,"offset":73363}}}],"position":{"start":{"line":1531,"column":1,"offset":73227},"end":{"line":1531,"column":137,"offset":73363}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.down = function(knex, Promise) {\n  // drop in the opposite order\n  return knex.schema\n    .dropTableIfExists('ranchers')\n    .dropTableIfExists('farms')\n};\n"}],"position":{"start":{"line":1533,"column":1,"offset":73365},"end":{"line":1538,"column":7,"offset":73552}}}],"position":{"start":{"line":1533,"column":1,"offset":73365},"end":{"line":1538,"column":7,"offset":73552}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the case of a many-to-many relationship, the syntax for creating an intermediary table is identical, except for one additional piece. We need a way to make sure our combination of foreign keys is unique.","position":{"start":{"line":1540,"column":1,"offset":73554},"end":{"line":1540,"column":207,"offset":73760}}}],"position":{"start":{"line":1540,"column":1,"offset":73554},"end":{"line":1540,"column":207,"offset":73760}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".createTable('farm_animals', tbl => {\n  tbl.integer('farm_id')\n    .unsigned()\n    .notNullable()\n    .references('id')\n    // this table must exist already\n    .inTable('farms')\n  tbl.integer('animal_id')\n    .unsigned()\n    .notNullable()\n    .references('id')\n    // this table must exist already\n    .inTable('animals')\n\n// the combination of the two keys becomes our primary key\n  // will enforce unique combinations of ids\n  tbl.primary(['farm_id', 'animal_id']);\n});\n"}],"position":{"start":{"line":1542,"column":1,"offset":73762},"end":{"line":1559,"column":8,"offset":74303}}}],"position":{"start":{"line":1542,"column":1,"offset":73762},"end":{"line":1559,"column":8,"offset":74303}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Seeds","position":{"start":{"line":1561,"column":5,"offset":74309},"end":{"line":1561,"column":10,"offset":74314}}}],"position":{"start":{"line":1561,"column":1,"offset":74305},"end":{"line":1561,"column":10,"offset":74314}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Order is also a concern when seeding. We want to create seeds in the ","position":{"start":{"line":1563,"column":1,"offset":74316},"end":{"line":1563,"column":70,"offset":74385}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"same","position":{"start":{"line":1563,"column":72,"offset":74387},"end":{"line":1563,"column":76,"offset":74391}}}],"position":{"start":{"line":1563,"column":70,"offset":74385},"end":{"line":1563,"column":78,"offset":74393}}},{"type":"text","value":" order we created our tables. In other words, don’t create a seed with a foreign key, until that reference record exists.","position":{"start":{"line":1563,"column":78,"offset":74393},"end":{"line":1563,"column":199,"offset":74514}}}],"position":{"start":{"line":1563,"column":1,"offset":74316},"end":{"line":1563,"column":199,"offset":74514}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In our example, make sure to write the ","position":{"start":{"line":1565,"column":1,"offset":74516},"end":{"line":1565,"column":40,"offset":74555}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"01-farms"}],"position":{"start":{"line":1565,"column":40,"offset":74555},"end":{"line":1565,"column":50,"offset":74565}}},{"type":"text","value":" seed file and then the ","position":{"start":{"line":1565,"column":50,"offset":74565},"end":{"line":1565,"column":74,"offset":74589}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"02-ranchers"}],"position":{"start":{"line":1565,"column":74,"offset":74589},"end":{"line":1565,"column":87,"offset":74602}}},{"type":"text","value":" seed file.","position":{"start":{"line":1565,"column":87,"offset":74602},"end":{"line":1565,"column":98,"offset":74613}}}],"position":{"start":{"line":1565,"column":1,"offset":74516},"end":{"line":1565,"column":98,"offset":74613}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, we run into a problem with truncating our seeds, because we want to truncate ","position":{"start":{"line":1567,"column":1,"offset":74615},"end":{"line":1567,"column":87,"offset":74701}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"02-ranchers"}],"position":{"start":{"line":1567,"column":87,"offset":74701},"end":{"line":1567,"column":100,"offset":74714}}},{"type":"text","value":" ","position":{"start":{"line":1567,"column":100,"offset":74714},"end":{"line":1567,"column":101,"offset":74715}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"before","position":{"start":{"line":1567,"column":102,"offset":74716},"end":{"line":1567,"column":108,"offset":74722}}}],"position":{"start":{"line":1567,"column":101,"offset":74715},"end":{"line":1567,"column":109,"offset":74723}}},{"type":"text","value":" ","position":{"start":{"line":1567,"column":109,"offset":74723},"end":{"line":1567,"column":110,"offset":74724}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"01-farms"}],"position":{"start":{"line":1567,"column":110,"offset":74724},"end":{"line":1567,"column":120,"offset":74734}}},{"type":"text","value":". A library called ","position":{"start":{"line":1567,"column":120,"offset":74734},"end":{"line":1567,"column":139,"offset":74753}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex-cleaner"}],"position":{"start":{"line":1567,"column":139,"offset":74753},"end":{"line":1567,"column":153,"offset":74767}}},{"type":"text","value":" provides an easy solution for us.","position":{"start":{"line":1567,"column":153,"offset":74767},"end":{"line":1567,"column":187,"offset":74801}}}],"position":{"start":{"line":1567,"column":1,"offset":74615},"end":{"line":1567,"column":187,"offset":74801}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run ","position":{"start":{"line":1569,"column":1,"offset":74803},"end":{"line":1569,"column":5,"offset":74807}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:make 00-cleanup"}],"position":{"start":{"line":1569,"column":5,"offset":74807},"end":{"line":1569,"column":32,"offset":74834}}},{"type":"text","value":" and ","position":{"start":{"line":1569,"column":32,"offset":74834},"end":{"line":1569,"column":37,"offset":74839}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex-cleaner"}],"position":{"start":{"line":1569,"column":37,"offset":74839},"end":{"line":1569,"column":63,"offset":74865}}},{"type":"text","value":". Inside the cleanup seed, use the following code.","position":{"start":{"line":1569,"column":63,"offset":74865},"end":{"line":1569,"column":113,"offset":74915}}}],"position":{"start":{"line":1569,"column":1,"offset":74803},"end":{"line":1569,"column":113,"offset":74915}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const cleaner = require('knex-cleaner');\n\nexports.seed = function(knex) {\n  return cleaner.clean(knex, {\n    mode: 'truncate', // resets ids\n    ignoreTables: ['knex_migrations', 'knex_migrations_lock'], // don't empty migration tables\n  });\n};\n"}],"position":{"start":{"line":1571,"column":1,"offset":74917},"end":{"line":1578,"column":7,"offset":75189}}}],"position":{"start":{"line":1571,"column":1,"offset":74917},"end":{"line":1578,"column":7,"offset":75189}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This removes all tables (excluding the two tables that track migrations) in the correct order before any seed files run.","position":{"start":{"line":1580,"column":1,"offset":75191},"end":{"line":1580,"column":121,"offset":75311}}}],"position":{"start":{"line":1580,"column":1,"offset":75191},"end":{"line":1580,"column":121,"offset":75311}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Cascading","position":{"start":{"line":1582,"column":5,"offset":75317},"end":{"line":1582,"column":14,"offset":75326}}}],"position":{"start":{"line":1582,"column":1,"offset":75313},"end":{"line":1582,"column":14,"offset":75326}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If a user attempt to delete a record that is referenced by another record (such as attempting to delete ","position":{"start":{"line":1584,"column":1,"offset":75328},"end":{"line":1584,"column":105,"offset":75432}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Morton Ranch"}],"position":{"start":{"line":1584,"column":105,"offset":75432},"end":{"line":1584,"column":119,"offset":75446}}},{"type":"text","value":" when entries in our ","position":{"start":{"line":1584,"column":119,"offset":75446},"end":{"line":1584,"column":140,"offset":75467}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1584,"column":140,"offset":75467},"end":{"line":1584,"column":150,"offset":75477}}},{"type":"text","value":" table reference that record), by default, the database will block the action. The same thing can happen when updating a record when a foreign key reference.","position":{"start":{"line":1584,"column":150,"offset":75477},"end":{"line":1584,"column":307,"offset":75634}}}],"position":{"start":{"line":1584,"column":1,"offset":75328},"end":{"line":1584,"column":307,"offset":75634}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we want that to override this default, we can delete or update with ","position":{"start":{"line":1586,"column":1,"offset":75636},"end":{"line":1586,"column":72,"offset":75707}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"cascade","position":{"start":{"line":1586,"column":74,"offset":75709},"end":{"line":1586,"column":81,"offset":75716}}}],"position":{"start":{"line":1586,"column":72,"offset":75707},"end":{"line":1586,"column":83,"offset":75718}}},{"type":"text","value":". With cascade, deleting a record also deletes all referencing records, we can set that up in our schema.","position":{"start":{"line":1586,"column":83,"offset":75718},"end":{"line":1586,"column":188,"offset":75823}}}],"position":{"start":{"line":1586,"column":1,"offset":75636},"end":{"line":1586,"column":188,"offset":75823}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".createTable('ranchers', tbl => {\n    tbl.increments();\n    tbl.string('rancher_name', 128);\n    tbl.integer('farm_id')\n    .unsigned()\n    .notNullable()\n    .references('id')\n    .inTable('farms')\n    .onUpdate('CASCADE');\n    .onDelete('CASCADE')\n})\n"}],"position":{"start":{"line":1588,"column":1,"offset":75825},"end":{"line":1598,"column":7,"offset":76121}}}],"position":{"start":{"line":1588,"column":1,"offset":75825},"end":{"line":1598,"column":7,"offset":76121}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1599,"column":1,"offset":76122}}}}