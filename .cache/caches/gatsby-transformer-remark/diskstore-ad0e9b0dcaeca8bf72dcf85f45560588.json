{"expireTime":9007200888440672000,"key":"transformer-remark-markdown-html-ast-676d549afb2561fa54ef9efefa6de732--","val":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Modules: CommonJS modules","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":29,"offset":29}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_modules_commonjs_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":2,"column":30,"offset":30},"end":{"line":2,"column":31,"offset":31}}}],"position":{"start":{"line":2,"column":29,"offset":29},"end":{"line":2,"column":102,"offset":102}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":102,"offset":102}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 2","position":{"start":{"line":4,"column":2,"offset":105},"end":{"line":4,"column":14,"offset":117}}}],"position":{"start":{"line":4,"column":1,"offset":104},"end":{"line":4,"column":88,"offset":191}}},{"type":"text","value":" - Stable","position":{"start":{"line":4,"column":88,"offset":191},"end":{"line":4,"column":97,"offset":200}}}],"position":{"start":{"line":4,"column":1,"offset":104},"end":{"line":4,"column":97,"offset":200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the Node.js module system, each file is treated as a separate module. For example, consider a file named ","position":{"start":{"line":6,"column":1,"offset":202},"end":{"line":6,"column":109,"offset":310}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":6,"column":109,"offset":310},"end":{"line":6,"column":117,"offset":318}}},{"type":"text","value":":","position":{"start":{"line":6,"column":117,"offset":318},"end":{"line":6,"column":118,"offset":319}}}],"position":{"start":{"line":6,"column":1,"offset":202},"end":{"line":6,"column":118,"offset":319}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const circle = require('./circle.js');\nconsole.log(`The area of a circle of radius 4 is ${circle.area(4)}`);\n"}],"position":{"start":{"line":8,"column":1,"offset":321},"end":{"line":11,"column":4,"offset":437}}}],"position":{"start":{"line":8,"column":1,"offset":321},"end":{"line":11,"column":4,"offset":437}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On the first line, ","position":{"start":{"line":13,"column":1,"offset":439},"end":{"line":13,"column":20,"offset":458}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":13,"column":20,"offset":458},"end":{"line":13,"column":28,"offset":466}}},{"type":"text","value":" loads the module ","position":{"start":{"line":13,"column":28,"offset":466},"end":{"line":13,"column":46,"offset":484}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":13,"column":46,"offset":484},"end":{"line":13,"column":57,"offset":495}}},{"type":"text","value":" that is in the same directory as ","position":{"start":{"line":13,"column":57,"offset":495},"end":{"line":13,"column":91,"offset":529}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":13,"column":91,"offset":529},"end":{"line":13,"column":99,"offset":537}}},{"type":"text","value":".","position":{"start":{"line":13,"column":99,"offset":537},"end":{"line":13,"column":100,"offset":538}}}],"position":{"start":{"line":13,"column":1,"offset":439},"end":{"line":13,"column":100,"offset":538}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here are the contents of ","position":{"start":{"line":15,"column":1,"offset":540},"end":{"line":15,"column":26,"offset":565}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":15,"column":26,"offset":565},"end":{"line":15,"column":37,"offset":576}}},{"type":"text","value":":","position":{"start":{"line":15,"column":37,"offset":576},"end":{"line":15,"column":38,"offset":577}}}],"position":{"start":{"line":15,"column":1,"offset":540},"end":{"line":15,"column":38,"offset":577}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const { PI } = Math;\n\nexports.area = (r) => PI * r ** 2;\n\nexports.circumference = (r) => 2 * PI * r;\n"}],"position":{"start":{"line":17,"column":1,"offset":579},"end":{"line":23,"column":4,"offset":687}}}],"position":{"start":{"line":17,"column":1,"offset":579},"end":{"line":23,"column":4,"offset":687}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module ","position":{"start":{"line":25,"column":1,"offset":689},"end":{"line":25,"column":12,"offset":700}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":25,"column":12,"offset":700},"end":{"line":25,"column":23,"offset":711}}},{"type":"text","value":" has exported the functions ","position":{"start":{"line":25,"column":23,"offset":711},"end":{"line":25,"column":51,"offset":739}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"area()"}],"position":{"start":{"line":25,"column":51,"offset":739},"end":{"line":25,"column":59,"offset":747}}},{"type":"text","value":" and ","position":{"start":{"line":25,"column":59,"offset":747},"end":{"line":25,"column":64,"offset":752}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circumference()"}],"position":{"start":{"line":25,"column":64,"offset":752},"end":{"line":25,"column":81,"offset":769}}},{"type":"text","value":". Functions and objects are added to the root of a module by specifying additional properties on the special ","position":{"start":{"line":25,"column":81,"offset":769},"end":{"line":25,"column":190,"offset":878}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":25,"column":190,"offset":878},"end":{"line":25,"column":199,"offset":887}}},{"type":"text","value":" object.","position":{"start":{"line":25,"column":199,"offset":887},"end":{"line":25,"column":207,"offset":895}}}],"position":{"start":{"line":25,"column":1,"offset":689},"end":{"line":25,"column":207,"offset":895}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Variables local to the module will be private, because the module is wrapped in a function by Node.js (see ","position":{"start":{"line":27,"column":1,"offset":897},"end":{"line":27,"column":108,"offset":1004}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"module wrapper","position":{"start":{"line":27,"column":109,"offset":1005},"end":{"line":27,"column":123,"offset":1019}}}],"position":{"start":{"line":27,"column":108,"offset":1004},"end":{"line":27,"column":188,"offset":1084}}},{"type":"text","value":"). In this example, the variable ","position":{"start":{"line":27,"column":188,"offset":1084},"end":{"line":27,"column":221,"offset":1117}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"PI"}],"position":{"start":{"line":27,"column":221,"offset":1117},"end":{"line":27,"column":225,"offset":1121}}},{"type":"text","value":" is private to ","position":{"start":{"line":27,"column":225,"offset":1121},"end":{"line":27,"column":240,"offset":1136}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":27,"column":240,"offset":1136},"end":{"line":27,"column":251,"offset":1147}}},{"type":"text","value":".","position":{"start":{"line":27,"column":251,"offset":1147},"end":{"line":27,"column":252,"offset":1148}}}],"position":{"start":{"line":27,"column":1,"offset":897},"end":{"line":27,"column":252,"offset":1148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":29,"column":1,"offset":1150},"end":{"line":29,"column":5,"offset":1154}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":29,"column":5,"offset":1154},"end":{"line":29,"column":21,"offset":1170}}},{"type":"text","value":" property can be assigned a new value (such as a function or object).","position":{"start":{"line":29,"column":21,"offset":1170},"end":{"line":29,"column":90,"offset":1239}}}],"position":{"start":{"line":29,"column":1,"offset":1150},"end":{"line":29,"column":90,"offset":1239}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below, ","position":{"start":{"line":31,"column":1,"offset":1241},"end":{"line":31,"column":8,"offset":1248}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar.js"}],"position":{"start":{"line":31,"column":8,"offset":1248},"end":{"line":31,"column":16,"offset":1256}}},{"type":"text","value":" makes use of the ","position":{"start":{"line":31,"column":16,"offset":1256},"end":{"line":31,"column":34,"offset":1274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":31,"column":34,"offset":1274},"end":{"line":31,"column":42,"offset":1282}}},{"type":"text","value":" module, which exports a Square class:","position":{"start":{"line":31,"column":42,"offset":1282},"end":{"line":31,"column":80,"offset":1320}}}],"position":{"start":{"line":31,"column":1,"offset":1241},"end":{"line":31,"column":80,"offset":1320}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const Square = require('./square.js');\nconst mySquare = new Square(2);\nconsole.log(`The area of mySquare is ${mySquare.area()}`);\n"}],"position":{"start":{"line":33,"column":1,"offset":1322},"end":{"line":37,"column":4,"offset":1459}}}],"position":{"start":{"line":33,"column":1,"offset":1322},"end":{"line":37,"column":4,"offset":1459}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":39,"column":1,"offset":1461},"end":{"line":39,"column":5,"offset":1465}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square"}],"position":{"start":{"line":39,"column":5,"offset":1465},"end":{"line":39,"column":13,"offset":1473}}},{"type":"text","value":" module is defined in ","position":{"start":{"line":39,"column":13,"offset":1473},"end":{"line":39,"column":35,"offset":1495}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"square.js"}],"position":{"start":{"line":39,"column":35,"offset":1495},"end":{"line":39,"column":46,"offset":1506}}},{"type":"text","value":":","position":{"start":{"line":39,"column":46,"offset":1506},"end":{"line":39,"column":47,"offset":1507}}}],"position":{"start":{"line":39,"column":1,"offset":1461},"end":{"line":39,"column":47,"offset":1507}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Assigning to exports will not modify module, must use module.exports\nmodule.exports = class Square {\n  constructor(width) {\n    this.width = width;\n  }\n\n  area() {\n    return this.width ** 2;\n  }\n};\n"}],"position":{"start":{"line":41,"column":1,"offset":1509},"end":{"line":52,"column":4,"offset":1718}}}],"position":{"start":{"line":41,"column":1,"offset":1509},"end":{"line":52,"column":4,"offset":1718}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module system is implemented in the ","position":{"start":{"line":54,"column":1,"offset":1720},"end":{"line":54,"column":41,"offset":1760}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('module')"}],"position":{"start":{"line":54,"column":41,"offset":1760},"end":{"line":54,"column":60,"offset":1779}}},{"type":"text","value":" module.","position":{"start":{"line":54,"column":60,"offset":1779},"end":{"line":54,"column":68,"offset":1787}}}],"position":{"start":{"line":54,"column":1,"offset":1720},"end":{"line":54,"column":68,"offset":1787}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Accessing the main module","position":{"start":{"line":56,"column":5,"offset":1793},"end":{"line":56,"column":30,"offset":1818}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":56,"column":31,"offset":1819},"end":{"line":56,"column":32,"offset":1820}}}],"position":{"start":{"line":56,"column":30,"offset":1818},"end":{"line":56,"column":104,"offset":1892}}}],"position":{"start":{"line":56,"column":1,"offset":1789},"end":{"line":56,"column":104,"offset":1892}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a file is run directly from Node.js, ","position":{"start":{"line":58,"column":1,"offset":1894},"end":{"line":58,"column":43,"offset":1936}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":58,"column":43,"offset":1936},"end":{"line":58,"column":57,"offset":1950}}},{"type":"text","value":" is set to its ","position":{"start":{"line":58,"column":57,"offset":1950},"end":{"line":58,"column":72,"offset":1965}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":58,"column":72,"offset":1965},"end":{"line":58,"column":80,"offset":1973}}},{"type":"text","value":". That means that it is possible to determine whether a file has been run directly by testing ","position":{"start":{"line":58,"column":80,"offset":1973},"end":{"line":58,"column":174,"offset":2067}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main === module"}],"position":{"start":{"line":58,"column":174,"offset":2067},"end":{"line":58,"column":199,"offset":2092}}},{"type":"text","value":".","position":{"start":{"line":58,"column":199,"offset":2092},"end":{"line":58,"column":200,"offset":2093}}}],"position":{"start":{"line":58,"column":1,"offset":1894},"end":{"line":58,"column":200,"offset":2093}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a file ","position":{"start":{"line":60,"column":1,"offset":2095},"end":{"line":60,"column":12,"offset":2106}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":60,"column":12,"offset":2106},"end":{"line":60,"column":20,"offset":2114}}},{"type":"text","value":", this will be ","position":{"start":{"line":60,"column":20,"offset":2114},"end":{"line":60,"column":35,"offset":2129}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":60,"column":35,"offset":2129},"end":{"line":60,"column":41,"offset":2135}}},{"type":"text","value":" if run via ","position":{"start":{"line":60,"column":41,"offset":2135},"end":{"line":60,"column":53,"offset":2147}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node foo.js"}],"position":{"start":{"line":60,"column":53,"offset":2147},"end":{"line":60,"column":66,"offset":2160}}},{"type":"text","value":", but ","position":{"start":{"line":60,"column":66,"offset":2160},"end":{"line":60,"column":72,"offset":2166}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"false"}],"position":{"start":{"line":60,"column":72,"offset":2166},"end":{"line":60,"column":79,"offset":2173}}},{"type":"text","value":" if run by ","position":{"start":{"line":60,"column":79,"offset":2173},"end":{"line":60,"column":90,"offset":2184}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":60,"column":90,"offset":2184},"end":{"line":60,"column":108,"offset":2202}}},{"type":"text","value":".","position":{"start":{"line":60,"column":108,"offset":2202},"end":{"line":60,"column":109,"offset":2203}}}],"position":{"start":{"line":60,"column":1,"offset":2095},"end":{"line":60,"column":109,"offset":2203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because ","position":{"start":{"line":62,"column":1,"offset":2205},"end":{"line":62,"column":9,"offset":2213}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":62,"column":9,"offset":2213},"end":{"line":62,"column":17,"offset":2221}}},{"type":"text","value":" provides a ","position":{"start":{"line":62,"column":17,"offset":2221},"end":{"line":62,"column":29,"offset":2233}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"filename"}],"position":{"start":{"line":62,"column":29,"offset":2233},"end":{"line":62,"column":39,"offset":2243}}},{"type":"text","value":" property (normally equivalent to ","position":{"start":{"line":62,"column":39,"offset":2243},"end":{"line":62,"column":73,"offset":2277}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":62,"column":73,"offset":2277},"end":{"line":62,"column":85,"offset":2289}}},{"type":"text","value":"), the entry point of the current application can be obtained by checking ","position":{"start":{"line":62,"column":85,"offset":2289},"end":{"line":62,"column":159,"offset":2363}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main.filename"}],"position":{"start":{"line":62,"column":159,"offset":2363},"end":{"line":62,"column":182,"offset":2386}}},{"type":"text","value":".","position":{"start":{"line":62,"column":182,"offset":2386},"end":{"line":62,"column":183,"offset":2387}}}],"position":{"start":{"line":62,"column":1,"offset":2205},"end":{"line":62,"column":183,"offset":2387}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Package manager tips","position":{"start":{"line":64,"column":5,"offset":2393},"end":{"line":64,"column":25,"offset":2413}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_package_manager_tips"},"children":[{"type":"text","value":"#","position":{"start":{"line":64,"column":26,"offset":2414},"end":{"line":64,"column":27,"offset":2415}}}],"position":{"start":{"line":64,"column":25,"offset":2413},"end":{"line":64,"column":94,"offset":2482}}}],"position":{"start":{"line":64,"column":1,"offset":2389},"end":{"line":64,"column":94,"offset":2482}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The semantics of the Node.js ","position":{"start":{"line":66,"column":1,"offset":2484},"end":{"line":66,"column":30,"offset":2513}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":66,"column":30,"offset":2513},"end":{"line":66,"column":41,"offset":2524}}},{"type":"text","value":" function were designed to be general enough to support reasonable directory structures. Package manager programs such as ","position":{"start":{"line":66,"column":41,"offset":2524},"end":{"line":66,"column":163,"offset":2646}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dpkg"}],"position":{"start":{"line":66,"column":163,"offset":2646},"end":{"line":66,"column":169,"offset":2652}}},{"type":"text","value":", ","position":{"start":{"line":66,"column":169,"offset":2652},"end":{"line":66,"column":171,"offset":2654}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rpm"}],"position":{"start":{"line":66,"column":171,"offset":2654},"end":{"line":66,"column":176,"offset":2659}}},{"type":"text","value":", and ","position":{"start":{"line":66,"column":176,"offset":2659},"end":{"line":66,"column":182,"offset":2665}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm"}],"position":{"start":{"line":66,"column":182,"offset":2665},"end":{"line":66,"column":187,"offset":2670}}},{"type":"text","value":" will hopefully find it possible to build native packages from Node.js modules without modification.","position":{"start":{"line":66,"column":187,"offset":2670},"end":{"line":66,"column":287,"offset":2770}}}],"position":{"start":{"line":66,"column":1,"offset":2484},"end":{"line":66,"column":287,"offset":2770}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below we give a suggested directory structure that could work:","position":{"start":{"line":68,"column":1,"offset":2772},"end":{"line":68,"column":63,"offset":2834}}}],"position":{"start":{"line":68,"column":1,"offset":2772},"end":{"line":68,"column":63,"offset":2834}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's say that we wanted to have the folder at ","position":{"start":{"line":70,"column":1,"offset":2836},"end":{"line":70,"column":48,"offset":2883}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/<some-package>/<some-version>"}],"position":{"start":{"line":70,"column":48,"offset":2883},"end":{"line":70,"column":93,"offset":2928}}},{"type":"text","value":" hold the contents of a specific version of a package.","position":{"start":{"line":70,"column":93,"offset":2928},"end":{"line":70,"column":147,"offset":2982}}}],"position":{"start":{"line":70,"column":1,"offset":2836},"end":{"line":70,"column":147,"offset":2982}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Packages can depend on one another. In order to install package ","position":{"start":{"line":72,"column":1,"offset":2984},"end":{"line":72,"column":65,"offset":3048}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":72,"column":65,"offset":3048},"end":{"line":72,"column":70,"offset":3053}}},{"type":"text","value":", it may be necessary to install a specific version of package ","position":{"start":{"line":72,"column":70,"offset":3053},"end":{"line":72,"column":133,"offset":3116}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":72,"column":133,"offset":3116},"end":{"line":72,"column":138,"offset":3121}}},{"type":"text","value":". The ","position":{"start":{"line":72,"column":138,"offset":3121},"end":{"line":72,"column":144,"offset":3127}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":72,"column":144,"offset":3127},"end":{"line":72,"column":149,"offset":3132}}},{"type":"text","value":" package may itself have dependencies, and in some cases, these may even collide or form cyclic dependencies.","position":{"start":{"line":72,"column":149,"offset":3132},"end":{"line":72,"column":258,"offset":3241}}}],"position":{"start":{"line":72,"column":1,"offset":2984},"end":{"line":72,"column":258,"offset":3241}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Because Node.js looks up the ","position":{"start":{"line":74,"column":1,"offset":3243},"end":{"line":74,"column":30,"offset":3272}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"realpath"}],"position":{"start":{"line":74,"column":30,"offset":3272},"end":{"line":74,"column":40,"offset":3282}}},{"type":"text","value":" of any modules it loads (that is, it resolves symlinks) and then ","position":{"start":{"line":74,"column":40,"offset":3282},"end":{"line":74,"column":106,"offset":3348}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"looks for their dependencies in ","position":{"start":{"line":74,"column":107,"offset":3349},"end":{"line":74,"column":139,"offset":3381}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":74,"column":139,"offset":3381},"end":{"line":74,"column":153,"offset":3395}}},{"type":"text","value":" folders","position":{"start":{"line":74,"column":153,"offset":3395},"end":{"line":74,"column":161,"offset":3403}}}],"position":{"start":{"line":74,"column":106,"offset":3348},"end":{"line":74,"column":241,"offset":3483}}},{"type":"text","value":", this situation can be resolved with the following architecture:","position":{"start":{"line":74,"column":241,"offset":3483},"end":{"line":74,"column":306,"offset":3548}}}],"position":{"start":{"line":74,"column":1,"offset":3243},"end":{"line":74,"column":306,"offset":3548}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/"}],"position":{"start":{"line":76,"column":5,"offset":3554},"end":{"line":76,"column":31,"offset":3580}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":76,"column":31,"offset":3580},"end":{"line":76,"column":49,"offset":3598}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":76,"column":49,"offset":3598},"end":{"line":76,"column":54,"offset":3603}}},{"type":"text","value":" package, version 1.2.3.","position":{"start":{"line":76,"column":54,"offset":3603},"end":{"line":76,"column":78,"offset":3627}}}],"position":{"start":{"line":76,"column":1,"offset":3550},"end":{"line":76,"column":78,"offset":3627}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":77,"column":5,"offset":3632},"end":{"line":77,"column":31,"offset":3658}}},{"type":"text","value":": Contents of the ","position":{"start":{"line":77,"column":31,"offset":3658},"end":{"line":77,"column":49,"offset":3676}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":77,"column":49,"offset":3676},"end":{"line":77,"column":54,"offset":3681}}},{"type":"text","value":" package that ","position":{"start":{"line":77,"column":54,"offset":3681},"end":{"line":77,"column":68,"offset":3695}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":77,"column":68,"offset":3695},"end":{"line":77,"column":73,"offset":3700}}},{"type":"text","value":" depends on.","position":{"start":{"line":77,"column":73,"offset":3700},"end":{"line":77,"column":85,"offset":3712}}}],"position":{"start":{"line":77,"column":1,"offset":3628},"end":{"line":77,"column":85,"offset":3712}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":78,"column":5,"offset":3717},"end":{"line":78,"column":47,"offset":3759}}},{"type":"text","value":": Symbolic link to ","position":{"start":{"line":78,"column":47,"offset":3759},"end":{"line":78,"column":66,"offset":3778}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/"}],"position":{"start":{"line":78,"column":66,"offset":3778},"end":{"line":78,"column":92,"offset":3804}}},{"type":"text","value":".","position":{"start":{"line":78,"column":92,"offset":3804},"end":{"line":78,"column":93,"offset":3805}}}],"position":{"start":{"line":78,"column":1,"offset":3713},"end":{"line":78,"column":93,"offset":3805}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/*"}],"position":{"start":{"line":79,"column":5,"offset":3810},"end":{"line":79,"column":45,"offset":3850}}},{"type":"text","value":": Symbolic links to the packages that ","position":{"start":{"line":79,"column":45,"offset":3850},"end":{"line":79,"column":83,"offset":3888}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":79,"column":83,"offset":3888},"end":{"line":79,"column":88,"offset":3893}}},{"type":"text","value":" depends on.","position":{"start":{"line":79,"column":88,"offset":3893},"end":{"line":79,"column":100,"offset":3905}}}],"position":{"start":{"line":79,"column":1,"offset":3806},"end":{"line":79,"column":100,"offset":3905}}},{"type":"text","value":"\n"}],"position":{"start":{"line":76,"column":1,"offset":3550},"end":{"line":79,"column":100,"offset":3905}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thus, even if a cycle is encountered, or if there are dependency conflicts, every module will be able to get a version of its dependency that it can use.","position":{"start":{"line":81,"column":1,"offset":3907},"end":{"line":81,"column":154,"offset":4060}}}],"position":{"start":{"line":81,"column":1,"offset":3907},"end":{"line":81,"column":154,"offset":4060}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the code in the ","position":{"start":{"line":83,"column":1,"offset":4062},"end":{"line":83,"column":22,"offset":4083}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo"}],"position":{"start":{"line":83,"column":22,"offset":4083},"end":{"line":83,"column":27,"offset":4088}}},{"type":"text","value":" package does ","position":{"start":{"line":83,"column":27,"offset":4088},"end":{"line":83,"column":41,"offset":4102}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar')"}],"position":{"start":{"line":83,"column":41,"offset":4102},"end":{"line":83,"column":57,"offset":4118}}},{"type":"text","value":", it will get the version that is symlinked into ","position":{"start":{"line":83,"column":57,"offset":4118},"end":{"line":83,"column":106,"offset":4167}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/foo/1.2.3/node_modules/bar"}],"position":{"start":{"line":83,"column":106,"offset":4167},"end":{"line":83,"column":148,"offset":4209}}},{"type":"text","value":". Then, when the code in the ","position":{"start":{"line":83,"column":148,"offset":4209},"end":{"line":83,"column":177,"offset":4238}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bar"}],"position":{"start":{"line":83,"column":177,"offset":4238},"end":{"line":83,"column":182,"offset":4243}}},{"type":"text","value":" package calls ","position":{"start":{"line":83,"column":182,"offset":4243},"end":{"line":83,"column":197,"offset":4258}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('quux')"}],"position":{"start":{"line":83,"column":197,"offset":4258},"end":{"line":83,"column":214,"offset":4275}}},{"type":"text","value":", it'll get the version that is symlinked into ","position":{"start":{"line":83,"column":214,"offset":4275},"end":{"line":83,"column":261,"offset":4322}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node/bar/4.3.2/node_modules/quux"}],"position":{"start":{"line":83,"column":261,"offset":4322},"end":{"line":83,"column":304,"offset":4365}}},{"type":"text","value":".","position":{"start":{"line":83,"column":304,"offset":4365},"end":{"line":83,"column":305,"offset":4366}}}],"position":{"start":{"line":83,"column":1,"offset":4062},"end":{"line":83,"column":305,"offset":4366}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Furthermore, to make the module lookup process even more optimal, rather than putting packages directly in ","position":{"start":{"line":85,"column":1,"offset":4368},"end":{"line":85,"column":108,"offset":4475}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node"}],"position":{"start":{"line":85,"column":108,"offset":4475},"end":{"line":85,"column":123,"offset":4490}}},{"type":"text","value":", we could put them in ","position":{"start":{"line":85,"column":123,"offset":4490},"end":{"line":85,"column":146,"offset":4513}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules/<name>/<version>"}],"position":{"start":{"line":85,"column":146,"offset":4513},"end":{"line":85,"column":186,"offset":4553}}},{"type":"text","value":". Then Node.js will not bother looking for missing dependencies in ","position":{"start":{"line":85,"column":186,"offset":4553},"end":{"line":85,"column":253,"offset":4620}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/node_modules"}],"position":{"start":{"line":85,"column":253,"offset":4620},"end":{"line":85,"column":272,"offset":4639}}},{"type":"text","value":" or ","position":{"start":{"line":85,"column":272,"offset":4639},"end":{"line":85,"column":276,"offset":4643}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":85,"column":276,"offset":4643},"end":{"line":85,"column":291,"offset":4658}}},{"type":"text","value":".","position":{"start":{"line":85,"column":291,"offset":4658},"end":{"line":85,"column":292,"offset":4659}}}],"position":{"start":{"line":85,"column":1,"offset":4368},"end":{"line":85,"column":292,"offset":4659}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to make modules available to the Node.js REPL, it might be useful to also add the ","position":{"start":{"line":87,"column":1,"offset":4661},"end":{"line":87,"column":92,"offset":4752}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/lib/node_modules"}],"position":{"start":{"line":87,"column":92,"offset":4752},"end":{"line":87,"column":115,"offset":4775}}},{"type":"text","value":" folder to the ","position":{"start":{"line":87,"column":115,"offset":4775},"end":{"line":87,"column":130,"offset":4790}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$NODE_PATH"}],"position":{"start":{"line":87,"column":130,"offset":4790},"end":{"line":87,"column":142,"offset":4802}}},{"type":"text","value":" environment variable. Since the module lookups using ","position":{"start":{"line":87,"column":142,"offset":4802},"end":{"line":87,"column":196,"offset":4856}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":87,"column":196,"offset":4856},"end":{"line":87,"column":210,"offset":4870}}},{"type":"text","value":" folders are all relative, and based on the real path of the files making the calls to ","position":{"start":{"line":87,"column":210,"offset":4870},"end":{"line":87,"column":297,"offset":4957}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":87,"column":297,"offset":4957},"end":{"line":87,"column":308,"offset":4968}}},{"type":"text","value":", the packages themselves can be anywhere.","position":{"start":{"line":87,"column":308,"offset":4968},"end":{"line":87,"column":350,"offset":5010}}}],"position":{"start":{"line":87,"column":1,"offset":4661},"end":{"line":87,"column":350,"offset":5010}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":89,"column":5,"offset":5016},"end":{"line":89,"column":9,"offset":5020}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":89,"column":9,"offset":5020},"end":{"line":89,"column":15,"offset":5026}}},{"type":"text","value":" extension","position":{"start":{"line":89,"column":15,"offset":5026},"end":{"line":89,"column":25,"offset":5036}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_mjs_extension"},"children":[{"type":"text","value":"#","position":{"start":{"line":89,"column":26,"offset":5037},"end":{"line":89,"column":27,"offset":5038}}}],"position":{"start":{"line":89,"column":25,"offset":5036},"end":{"line":89,"column":91,"offset":5102}}}],"position":{"start":{"line":89,"column":1,"offset":5012},"end":{"line":89,"column":91,"offset":5102}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is not possible to ","position":{"start":{"line":91,"column":1,"offset":5104},"end":{"line":91,"column":23,"offset":5126}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":91,"column":23,"offset":5126},"end":{"line":91,"column":34,"offset":5137}}},{"type":"text","value":" files that have the ","position":{"start":{"line":91,"column":34,"offset":5137},"end":{"line":91,"column":55,"offset":5158}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":91,"column":55,"offset":5158},"end":{"line":91,"column":61,"offset":5164}}},{"type":"text","value":" extension. Attempting to do so will throw ","position":{"start":{"line":91,"column":61,"offset":5164},"end":{"line":91,"column":104,"offset":5207}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_err_require_esm"},"children":[{"type":"text","value":"an error","position":{"start":{"line":91,"column":105,"offset":5208},"end":{"line":91,"column":113,"offset":5216}}}],"position":{"start":{"line":91,"column":104,"offset":5207},"end":{"line":91,"column":173,"offset":5276}}},{"type":"text","value":". The ","position":{"start":{"line":91,"column":173,"offset":5276},"end":{"line":91,"column":179,"offset":5282}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".mjs"}],"position":{"start":{"line":91,"column":179,"offset":5282},"end":{"line":91,"column":185,"offset":5288}}},{"type":"text","value":" extension is reserved for ","position":{"start":{"line":91,"column":185,"offset":5288},"end":{"line":91,"column":212,"offset":5315}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":91,"column":213,"offset":5316},"end":{"line":91,"column":231,"offset":5334}}}],"position":{"start":{"line":91,"column":212,"offset":5315},"end":{"line":91,"column":265,"offset":5368}}},{"type":"text","value":" which cannot be loaded via ","position":{"start":{"line":91,"column":265,"offset":5368},"end":{"line":91,"column":293,"offset":5396}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":91,"column":293,"offset":5396},"end":{"line":91,"column":304,"offset":5407}}},{"type":"text","value":". See ","position":{"start":{"line":91,"column":304,"offset":5407},"end":{"line":91,"column":310,"offset":5413}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.html"},"children":[{"type":"text","value":"ECMAScript Modules","position":{"start":{"line":91,"column":311,"offset":5414},"end":{"line":91,"column":329,"offset":5432}}}],"position":{"start":{"line":91,"column":310,"offset":5413},"end":{"line":91,"column":363,"offset":5466}}},{"type":"text","value":" for more details.","position":{"start":{"line":91,"column":363,"offset":5466},"end":{"line":91,"column":381,"offset":5484}}}],"position":{"start":{"line":91,"column":1,"offset":5104},"end":{"line":91,"column":381,"offset":5484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"All together...","position":{"start":{"line":93,"column":5,"offset":5490},"end":{"line":93,"column":20,"offset":5505}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"#","position":{"start":{"line":93,"column":21,"offset":5506},"end":{"line":93,"column":22,"offset":5507}}}],"position":{"start":{"line":93,"column":20,"offset":5505},"end":{"line":93,"column":81,"offset":5566}}}],"position":{"start":{"line":93,"column":1,"offset":5486},"end":{"line":93,"column":81,"offset":5566}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To get the exact filename that will be loaded when ","position":{"start":{"line":95,"column":1,"offset":5568},"end":{"line":95,"column":52,"offset":5619}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":95,"column":52,"offset":5619},"end":{"line":95,"column":63,"offset":5630}}},{"type":"text","value":" is called, use the ","position":{"start":{"line":95,"column":63,"offset":5630},"end":{"line":95,"column":83,"offset":5650}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve()"}],"position":{"start":{"line":95,"column":83,"offset":5650},"end":{"line":95,"column":102,"offset":5669}}},{"type":"text","value":" function.","position":{"start":{"line":95,"column":102,"offset":5669},"end":{"line":95,"column":112,"offset":5679}}}],"position":{"start":{"line":95,"column":1,"offset":5568},"end":{"line":95,"column":112,"offset":5679}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Putting together all of the above, here is the high-level algorithm in pseudocode of what ","position":{"start":{"line":97,"column":1,"offset":5681},"end":{"line":97,"column":91,"offset":5771}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":97,"column":91,"offset":5771},"end":{"line":97,"column":102,"offset":5782}}},{"type":"text","value":" does:","position":{"start":{"line":97,"column":102,"offset":5782},"end":{"line":97,"column":108,"offset":5788}}}],"position":{"start":{"line":97,"column":1,"offset":5681},"end":{"line":97,"column":108,"offset":5788}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"require(X) from module at path Y","position":{"start":{"line":99,"column":1,"offset":5790},"end":{"line":99,"column":33,"offset":5822}}}],"position":{"start":{"line":99,"column":1,"offset":5790},"end":{"line":99,"column":33,"offset":5822}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a core module,\na. return the core module\nb. STOP","position":{"start":{"line":101,"column":4,"offset":5827},"end":{"line":103,"column":11,"offset":5889}}}],"position":{"start":{"line":101,"column":1,"offset":5824},"end":{"line":103,"column":11,"offset":5889}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '/'\na. set Y to be the filesystem root","position":{"start":{"line":104,"column":4,"offset":5893},"end":{"line":105,"column":38,"offset":5951}}}],"position":{"start":{"line":104,"column":1,"offset":5890},"end":{"line":105,"column":38,"offset":5951}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with './' or '/' or '../'\na. LOAD","position":{"start":{"line":106,"column":4,"offset":5955},"end":{"line":107,"column":11,"offset":6003}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":107,"column":12,"offset":6004},"end":{"line":107,"column":14,"offset":6006}}}],"position":{"start":{"line":107,"column":11,"offset":6003},"end":{"line":107,"column":15,"offset":6007}}},{"type":"text","value":"FILE(Y + X)\nb. LOAD","position":{"start":{"line":107,"column":15,"offset":6007},"end":{"line":108,"column":11,"offset":6029}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":108,"column":12,"offset":6030},"end":{"line":108,"column":14,"offset":6032}}}],"position":{"start":{"line":108,"column":11,"offset":6029},"end":{"line":108,"column":15,"offset":6033}}},{"type":"text","value":"DIRECTORY(Y + X)\nc. THROW \"not found\"","position":{"start":{"line":108,"column":15,"offset":6033},"end":{"line":109,"column":24,"offset":6073}}}],"position":{"start":{"line":106,"column":1,"offset":5952},"end":{"line":109,"column":24,"offset":6073}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X begins with '#'\na. LOAD","position":{"start":{"line":110,"column":4,"offset":6077},"end":{"line":111,"column":11,"offset":6108}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":111,"column":12,"offset":6109},"end":{"line":111,"column":19,"offset":6116}}}],"position":{"start":{"line":111,"column":11,"offset":6108},"end":{"line":111,"column":20,"offset":6117}}},{"type":"text","value":"IMPORTS(X, dirname(Y))","position":{"start":{"line":111,"column":20,"offset":6117},"end":{"line":111,"column":42,"offset":6139}}}],"position":{"start":{"line":110,"column":1,"offset":6074},"end":{"line":111,"column":42,"offset":6139}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":112,"column":4,"offset":6143},"end":{"line":112,"column":8,"offset":6147}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":112,"column":9,"offset":6148},"end":{"line":112,"column":16,"offset":6155}}}],"position":{"start":{"line":112,"column":8,"offset":6147},"end":{"line":112,"column":17,"offset":6156}}},{"type":"text","value":"SELF(X, dirname(Y))","position":{"start":{"line":112,"column":17,"offset":6156},"end":{"line":112,"column":36,"offset":6175}}}],"position":{"start":{"line":112,"column":1,"offset":6140},"end":{"line":112,"column":36,"offset":6175}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":113,"column":4,"offset":6179},"end":{"line":113,"column":8,"offset":6183}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":113,"column":9,"offset":6184},"end":{"line":113,"column":13,"offset":6188}}}],"position":{"start":{"line":113,"column":8,"offset":6183},"end":{"line":113,"column":14,"offset":6189}}},{"type":"text","value":"MODULES(X, dirname(Y))","position":{"start":{"line":113,"column":14,"offset":6189},"end":{"line":113,"column":36,"offset":6211}}}],"position":{"start":{"line":113,"column":1,"offset":6176},"end":{"line":113,"column":36,"offset":6211}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":114,"column":4,"offset":6215},"end":{"line":114,"column":21,"offset":6232}}}],"position":{"start":{"line":114,"column":1,"offset":6212},"end":{"line":114,"column":21,"offset":6232}}},{"type":"text","value":"\n"}],"position":{"start":{"line":101,"column":1,"offset":5824},"end":{"line":114,"column":21,"offset":6232}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":116,"column":1,"offset":6234},"end":{"line":116,"column":5,"offset":6238}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":116,"column":6,"offset":6239},"end":{"line":116,"column":8,"offset":6241}}}],"position":{"start":{"line":116,"column":5,"offset":6238},"end":{"line":116,"column":9,"offset":6242}}},{"type":"text","value":"FILE(X)","position":{"start":{"line":116,"column":9,"offset":6242},"end":{"line":116,"column":16,"offset":6249}}}],"position":{"start":{"line":116,"column":1,"offset":6234},"end":{"line":116,"column":16,"offset":6249}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X is a file, load X as its file extension format. STOP","position":{"start":{"line":118,"column":4,"offset":6254},"end":{"line":118,"column":61,"offset":6311}}}],"position":{"start":{"line":118,"column":1,"offset":6251},"end":{"line":118,"column":61,"offset":6311}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.js is a file, load X.js as JavaScript text. STOP","position":{"start":{"line":119,"column":4,"offset":6315},"end":{"line":119,"column":57,"offset":6368}}}],"position":{"start":{"line":119,"column":1,"offset":6312},"end":{"line":119,"column":57,"offset":6368}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.json is a file, parse X.json to a JavaScript Object. STOP","position":{"start":{"line":120,"column":4,"offset":6372},"end":{"line":120,"column":66,"offset":6434}}}],"position":{"start":{"line":120,"column":1,"offset":6369},"end":{"line":120,"column":66,"offset":6434}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X.node is a file, load X.node as binary addon. STOP","position":{"start":{"line":121,"column":4,"offset":6438},"end":{"line":121,"column":58,"offset":6492}}}],"position":{"start":{"line":121,"column":1,"offset":6435},"end":{"line":121,"column":58,"offset":6492}}},{"type":"text","value":"\n"}],"position":{"start":{"line":118,"column":1,"offset":6251},"end":{"line":121,"column":58,"offset":6492}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":123,"column":1,"offset":6494},"end":{"line":123,"column":14,"offset":6507}}}],"position":{"start":{"line":123,"column":1,"offset":6494},"end":{"line":123,"column":14,"offset":6507}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.js is a file, load X/index.js as JavaScript text. STOP","position":{"start":{"line":125,"column":4,"offset":6512},"end":{"line":125,"column":69,"offset":6577}}}],"position":{"start":{"line":125,"column":1,"offset":6509},"end":{"line":125,"column":69,"offset":6577}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.json is a file, parse X/index.json to a JavaScript object. STOP","position":{"start":{"line":126,"column":4,"offset":6581},"end":{"line":126,"column":78,"offset":6655}}}],"position":{"start":{"line":126,"column":1,"offset":6578},"end":{"line":126,"column":78,"offset":6655}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/index.node is a file, load X/index.node as binary addon. STOP","position":{"start":{"line":127,"column":4,"offset":6659},"end":{"line":127,"column":70,"offset":6725}}}],"position":{"start":{"line":127,"column":1,"offset":6656},"end":{"line":127,"column":70,"offset":6725}}},{"type":"text","value":"\n"}],"position":{"start":{"line":125,"column":1,"offset":6509},"end":{"line":127,"column":70,"offset":6725}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":129,"column":1,"offset":6727},"end":{"line":129,"column":5,"offset":6731}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":129,"column":6,"offset":6732},"end":{"line":129,"column":8,"offset":6734}}}],"position":{"start":{"line":129,"column":5,"offset":6731},"end":{"line":129,"column":9,"offset":6735}}},{"type":"text","value":"DIRECTORY(X)","position":{"start":{"line":129,"column":9,"offset":6735},"end":{"line":129,"column":21,"offset":6747}}}],"position":{"start":{"line":129,"column":1,"offset":6727},"end":{"line":129,"column":21,"offset":6747}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X/package.json is a file,\na. Parse X/package.json, and look for \"main\" field.\nb. If \"main\" is a falsy value, GOTO 2.\nc. let M = X + (json main field)\nd. LOAD","position":{"start":{"line":131,"column":4,"offset":6752},"end":{"line":135,"column":11,"offset":6924}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":135,"column":12,"offset":6925},"end":{"line":135,"column":14,"offset":6927}}}],"position":{"start":{"line":135,"column":11,"offset":6924},"end":{"line":135,"column":15,"offset":6928}}},{"type":"text","value":"FILE(M)\ne. LOAD","position":{"start":{"line":135,"column":15,"offset":6928},"end":{"line":136,"column":11,"offset":6946}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"INDEX(M)\nf. LOAD","position":{"start":{"line":136,"column":12,"offset":6947},"end":{"line":137,"column":11,"offset":6966}}}],"position":{"start":{"line":136,"column":11,"offset":6946},"end":{"line":137,"column":12,"offset":6967}}},{"type":"text","value":"INDEX(X) DEPRECATED\ng. THROW \"not found\"","position":{"start":{"line":137,"column":12,"offset":6967},"end":{"line":138,"column":24,"offset":7010}}}],"position":{"start":{"line":131,"column":1,"offset":6749},"end":{"line":138,"column":24,"offset":7010}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LOAD_INDEX(X)","position":{"start":{"line":139,"column":4,"offset":7014},"end":{"line":139,"column":17,"offset":7027}}}],"position":{"start":{"line":139,"column":1,"offset":7011},"end":{"line":139,"column":17,"offset":7027}}},{"type":"text","value":"\n"}],"position":{"start":{"line":131,"column":1,"offset":6749},"end":{"line":139,"column":17,"offset":7027}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":141,"column":1,"offset":7029},"end":{"line":141,"column":5,"offset":7033}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":141,"column":6,"offset":7034},"end":{"line":141,"column":10,"offset":7038}}}],"position":{"start":{"line":141,"column":5,"offset":7033},"end":{"line":141,"column":11,"offset":7039}}},{"type":"text","value":"MODULES(X, START)","position":{"start":{"line":141,"column":11,"offset":7039},"end":{"line":141,"column":28,"offset":7056}}}],"position":{"start":{"line":141,"column":1,"offset":7029},"end":{"line":141,"column":28,"offset":7056}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = NODE","position":{"start":{"line":143,"column":4,"offset":7061},"end":{"line":143,"column":19,"offset":7076}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":143,"column":20,"offset":7077},"end":{"line":143,"column":27,"offset":7084}}}],"position":{"start":{"line":143,"column":19,"offset":7076},"end":{"line":143,"column":28,"offset":7085}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":143,"column":28,"offset":7085},"end":{"line":143,"column":40,"offset":7097}}}],"position":{"start":{"line":143,"column":1,"offset":7058},"end":{"line":143,"column":40,"offset":7097}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"for each DIR in DIRS:\na. LOAD","position":{"start":{"line":144,"column":4,"offset":7101},"end":{"line":145,"column":11,"offset":7133}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":145,"column":12,"offset":7134},"end":{"line":145,"column":19,"offset":7141}}}],"position":{"start":{"line":145,"column":11,"offset":7133},"end":{"line":145,"column":20,"offset":7142}}},{"type":"text","value":"EXPORTS(X, DIR)\nb. LOAD","position":{"start":{"line":145,"column":20,"offset":7142},"end":{"line":146,"column":11,"offset":7168}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":146,"column":12,"offset":7169},"end":{"line":146,"column":14,"offset":7171}}}],"position":{"start":{"line":146,"column":11,"offset":7168},"end":{"line":146,"column":15,"offset":7172}}},{"type":"text","value":"FILE(DIR/X)\nc. LOAD","position":{"start":{"line":146,"column":15,"offset":7172},"end":{"line":147,"column":11,"offset":7194}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":147,"column":12,"offset":7195},"end":{"line":147,"column":14,"offset":7197}}}],"position":{"start":{"line":147,"column":11,"offset":7194},"end":{"line":147,"column":15,"offset":7198}}},{"type":"text","value":"DIRECTORY(DIR/X)","position":{"start":{"line":147,"column":15,"offset":7198},"end":{"line":147,"column":31,"offset":7214}}}],"position":{"start":{"line":144,"column":1,"offset":7098},"end":{"line":147,"column":31,"offset":7214}}},{"type":"text","value":"\n"}],"position":{"start":{"line":143,"column":1,"offset":7058},"end":{"line":147,"column":31,"offset":7214}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"NODE","position":{"start":{"line":149,"column":1,"offset":7216},"end":{"line":149,"column":5,"offset":7220}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"MODULES","position":{"start":{"line":149,"column":6,"offset":7221},"end":{"line":149,"column":13,"offset":7228}}}],"position":{"start":{"line":149,"column":5,"offset":7220},"end":{"line":149,"column":14,"offset":7229}}},{"type":"text","value":"PATHS(START)","position":{"start":{"line":149,"column":14,"offset":7229},"end":{"line":149,"column":26,"offset":7241}}}],"position":{"start":{"line":149,"column":1,"offset":7216},"end":{"line":149,"column":26,"offset":7241}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let PARTS = path split(START)","position":{"start":{"line":151,"column":4,"offset":7246},"end":{"line":151,"column":33,"offset":7275}}}],"position":{"start":{"line":151,"column":1,"offset":7243},"end":{"line":151,"column":33,"offset":7275}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let I = count of PARTS - 1","position":{"start":{"line":152,"column":4,"offset":7279},"end":{"line":152,"column":30,"offset":7305}}}],"position":{"start":{"line":152,"column":1,"offset":7276},"end":{"line":152,"column":30,"offset":7305}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let DIRS = ","position":{"start":{"line":153,"column":4,"offset":7309},"end":{"line":153,"column":15,"offset":7320}}},{"type":"text","value":"[GLOBAL_FOLDERS]","position":{"start":{"line":153,"column":16,"offset":7321},"end":{"line":153,"column":30,"offset":7335}}}],"position":{"start":{"line":153,"column":1,"offset":7306},"end":{"line":153,"column":31,"offset":7336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"while I >= 0,\na. if PARTS","position":{"start":{"line":154,"column":4,"offset":7340},"end":{"line":155,"column":15,"offset":7368}}},{"type":"text","value":"[I]","position":{"start":{"line":155,"column":16,"offset":7369},"end":{"line":155,"column":17,"offset":7370}}},{"type":"text","value":" = \"node","position":{"start":{"line":155,"column":18,"offset":7371},"end":{"line":155,"column":26,"offset":7379}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modules\" CONTINUE\nb. DIR = path join(PARTS","position":{"start":{"line":155,"column":27,"offset":7380},"end":{"line":156,"column":28,"offset":7425}}},{"type":"text","value":"[0 .. I]","position":{"start":{"line":156,"column":29,"offset":7426},"end":{"line":156,"column":35,"offset":7432}}},{"type":"text","value":" + \"node","position":{"start":{"line":156,"column":36,"offset":7433},"end":{"line":156,"column":44,"offset":7441}}}],"position":{"start":{"line":155,"column":26,"offset":7379},"end":{"line":156,"column":45,"offset":7442}}},{"type":"text","value":"modules\")\nc. DIRS = DIRS + DIR\nd. let I = I - 1","position":{"start":{"line":156,"column":45,"offset":7442},"end":{"line":158,"column":20,"offset":7495}}}],"position":{"start":{"line":154,"column":1,"offset":7337},"end":{"line":158,"column":20,"offset":7495}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"return DIRS","position":{"start":{"line":159,"column":4,"offset":7499},"end":{"line":159,"column":15,"offset":7510}}}],"position":{"start":{"line":159,"column":1,"offset":7496},"end":{"line":159,"column":15,"offset":7510}}},{"type":"text","value":"\n"}],"position":{"start":{"line":151,"column":1,"offset":7243},"end":{"line":159,"column":15,"offset":7510}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":161,"column":1,"offset":7512},"end":{"line":161,"column":5,"offset":7516}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":161,"column":6,"offset":7517},"end":{"line":161,"column":13,"offset":7524}}}],"position":{"start":{"line":161,"column":5,"offset":7516},"end":{"line":161,"column":14,"offset":7525}}},{"type":"text","value":"IMPORTS(X, DIR)","position":{"start":{"line":161,"column":14,"offset":7525},"end":{"line":161,"column":29,"offset":7540}}}],"position":{"start":{"line":161,"column":1,"offset":7512},"end":{"line":161,"column":29,"offset":7540}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":163,"column":4,"offset":7545},"end":{"line":163,"column":48,"offset":7589}}}],"position":{"start":{"line":163,"column":1,"offset":7542},"end":{"line":163,"column":48,"offset":7589}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":164,"column":4,"offset":7593},"end":{"line":164,"column":34,"offset":7623}}}],"position":{"start":{"line":164,"column":1,"offset":7590},"end":{"line":164,"column":34,"offset":7623}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"imports\" is null or undefined, return.","position":{"start":{"line":165,"column":4,"offset":7627},"end":{"line":165,"column":69,"offset":7692}}}],"position":{"start":{"line":165,"column":1,"offset":7624},"end":{"line":165,"column":69,"offset":7692}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":166,"column":4,"offset":7696},"end":{"line":166,"column":23,"offset":7715}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"IMPORTS","position":{"start":{"line":166,"column":24,"offset":7716},"end":{"line":166,"column":31,"offset":7723}}}],"position":{"start":{"line":166,"column":23,"offset":7715},"end":{"line":166,"column":32,"offset":7724}}},{"type":"text","value":"RESOLVE(X, pathToFileURL(SCOPE),\n","position":{"start":{"line":166,"column":32,"offset":7724},"end":{"line":167,"column":4,"offset":7760}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":167,"column":5,"offset":7761},"end":{"line":167,"column":22,"offset":7778}}},{"type":"text","value":") ","position":{"start":{"line":167,"column":23,"offset":7779},"end":{"line":167,"column":25,"offset":7781}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":167,"column":26,"offset":7782},"end":{"line":167,"column":53,"offset":7809}}}],"position":{"start":{"line":167,"column":25,"offset":7781},"end":{"line":167,"column":118,"offset":7874}}},{"type":"text","value":".","position":{"start":{"line":167,"column":118,"offset":7874},"end":{"line":167,"column":119,"offset":7875}}}],"position":{"start":{"line":166,"column":1,"offset":7693},"end":{"line":167,"column":119,"offset":7875}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":168,"column":4,"offset":7879},"end":{"line":168,"column":11,"offset":7886}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":168,"column":12,"offset":7887},"end":{"line":168,"column":15,"offset":7890}}}],"position":{"start":{"line":168,"column":11,"offset":7886},"end":{"line":168,"column":16,"offset":7891}}},{"type":"text","value":"MATCH(MATCH).","position":{"start":{"line":168,"column":16,"offset":7891},"end":{"line":168,"column":29,"offset":7904}}}],"position":{"start":{"line":168,"column":1,"offset":7876},"end":{"line":168,"column":29,"offset":7904}}},{"type":"text","value":"\n"}],"position":{"start":{"line":163,"column":1,"offset":7542},"end":{"line":168,"column":29,"offset":7904}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":170,"column":1,"offset":7906},"end":{"line":170,"column":5,"offset":7910}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":170,"column":6,"offset":7911},"end":{"line":170,"column":13,"offset":7918}}}],"position":{"start":{"line":170,"column":5,"offset":7910},"end":{"line":170,"column":14,"offset":7919}}},{"type":"text","value":"EXPORTS(X, DIR)","position":{"start":{"line":170,"column":14,"offset":7919},"end":{"line":170,"column":29,"offset":7934}}}],"position":{"start":{"line":170,"column":1,"offset":7906},"end":{"line":170,"column":29,"offset":7934}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Try to interpret X as a combination of NAME and SUBPATH where the name\nmay have a @scope/ prefix and the subpath begins with a slash (","position":{"start":{"line":172,"column":4,"offset":7939},"end":{"line":173,"column":67,"offset":8076}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/"}],"position":{"start":{"line":173,"column":67,"offset":8076},"end":{"line":173,"column":70,"offset":8079}}},{"type":"text","value":").","position":{"start":{"line":173,"column":70,"offset":8079},"end":{"line":173,"column":72,"offset":8081}}}],"position":{"start":{"line":172,"column":1,"offset":7936},"end":{"line":173,"column":72,"offset":8081}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If X does not match this pattern or DIR/NAME/package.json is not a file,\nreturn.","position":{"start":{"line":174,"column":4,"offset":8085},"end":{"line":175,"column":11,"offset":8168}}}],"position":{"start":{"line":174,"column":1,"offset":8082},"end":{"line":175,"column":11,"offset":8168}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Parse DIR/NAME/package.json, and look for \"exports\" field.","position":{"start":{"line":176,"column":4,"offset":8172},"end":{"line":176,"column":62,"offset":8230}}}],"position":{"start":{"line":176,"column":1,"offset":8169},"end":{"line":176,"column":62,"offset":8230}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If \"exports\" is null or undefined, return.","position":{"start":{"line":177,"column":4,"offset":8234},"end":{"line":177,"column":46,"offset":8276}}}],"position":{"start":{"line":177,"column":1,"offset":8231},"end":{"line":177,"column":46,"offset":8276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":178,"column":4,"offset":8280},"end":{"line":178,"column":23,"offset":8299}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":178,"column":24,"offset":8300},"end":{"line":178,"column":31,"offset":8307}}}],"position":{"start":{"line":178,"column":23,"offset":8299},"end":{"line":178,"column":32,"offset":8308}}},{"type":"text","value":"RESOLVE(pathToFileURL(DIR/NAME), \".\" + SUBPATH,\n","position":{"start":{"line":178,"column":32,"offset":8308},"end":{"line":179,"column":4,"offset":8359}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":179,"column":4,"offset":8359},"end":{"line":179,"column":18,"offset":8373}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":179,"column":18,"offset":8373},"end":{"line":179,"column":30,"offset":8385}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":179,"column":31,"offset":8386},"end":{"line":179,"column":48,"offset":8403}}},{"type":"text","value":") ","position":{"start":{"line":179,"column":49,"offset":8404},"end":{"line":179,"column":51,"offset":8406}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":179,"column":52,"offset":8407},"end":{"line":179,"column":79,"offset":8434}}}],"position":{"start":{"line":179,"column":51,"offset":8406},"end":{"line":179,"column":144,"offset":8499}}},{"type":"text","value":".","position":{"start":{"line":179,"column":144,"offset":8499},"end":{"line":179,"column":145,"offset":8500}}}],"position":{"start":{"line":178,"column":1,"offset":8277},"end":{"line":179,"column":145,"offset":8500}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":180,"column":4,"offset":8504},"end":{"line":180,"column":11,"offset":8511}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":180,"column":12,"offset":8512},"end":{"line":180,"column":15,"offset":8515}}}],"position":{"start":{"line":180,"column":11,"offset":8511},"end":{"line":180,"column":16,"offset":8516}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":180,"column":16,"offset":8516},"end":{"line":180,"column":28,"offset":8528}}}],"position":{"start":{"line":180,"column":1,"offset":8501},"end":{"line":180,"column":28,"offset":8528}}},{"type":"text","value":"\n"}],"position":{"start":{"line":172,"column":1,"offset":7936},"end":{"line":180,"column":28,"offset":8528}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"LOAD","position":{"start":{"line":182,"column":1,"offset":8530},"end":{"line":182,"column":5,"offset":8534}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PACKAGE","position":{"start":{"line":182,"column":6,"offset":8535},"end":{"line":182,"column":13,"offset":8542}}}],"position":{"start":{"line":182,"column":5,"offset":8534},"end":{"line":182,"column":14,"offset":8543}}},{"type":"text","value":"SELF(X, DIR)","position":{"start":{"line":182,"column":14,"offset":8543},"end":{"line":182,"column":26,"offset":8555}}}],"position":{"start":{"line":182,"column":1,"offset":8530},"end":{"line":182,"column":26,"offset":8555}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Find the closest package scope SCOPE to DIR.","position":{"start":{"line":184,"column":4,"offset":8560},"end":{"line":184,"column":48,"offset":8604}}}],"position":{"start":{"line":184,"column":1,"offset":8557},"end":{"line":184,"column":48,"offset":8604}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If no scope was found, return.","position":{"start":{"line":185,"column":4,"offset":8608},"end":{"line":185,"column":34,"offset":8638}}}],"position":{"start":{"line":185,"column":1,"offset":8605},"end":{"line":185,"column":34,"offset":8638}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"exports\" is null or undefined, return.","position":{"start":{"line":186,"column":4,"offset":8642},"end":{"line":186,"column":69,"offset":8707}}}],"position":{"start":{"line":186,"column":1,"offset":8639},"end":{"line":186,"column":69,"offset":8707}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the SCOPE/package.json \"name\" is not the first segment of X, return.","position":{"start":{"line":187,"column":4,"offset":8711},"end":{"line":187,"column":75,"offset":8782}}}],"position":{"start":{"line":187,"column":1,"offset":8708},"end":{"line":187,"column":75,"offset":8782}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let MATCH = PACKAGE","position":{"start":{"line":188,"column":4,"offset":8786},"end":{"line":188,"column":23,"offset":8805}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"EXPORTS","position":{"start":{"line":188,"column":24,"offset":8806},"end":{"line":188,"column":31,"offset":8813}}}],"position":{"start":{"line":188,"column":23,"offset":8805},"end":{"line":188,"column":32,"offset":8814}}},{"type":"text","value":"RESOLVE(pathToFileURL(SCOPE),\n\".\" + X.slice(\"name\".length), ","position":{"start":{"line":188,"column":32,"offset":8814},"end":{"line":189,"column":34,"offset":8877}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":189,"column":34,"offset":8877},"end":{"line":189,"column":48,"offset":8891}}},{"type":"text","value":" \"exports\", ","position":{"start":{"line":189,"column":48,"offset":8891},"end":{"line":189,"column":60,"offset":8903}}},{"type":"text","value":"[\"node\", \"require\"]","position":{"start":{"line":189,"column":61,"offset":8904},"end":{"line":189,"column":78,"offset":8921}}},{"type":"text","value":")\n","position":{"start":{"line":189,"column":79,"offset":8922},"end":{"line":190,"column":4,"offset":8927}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/esm.md#resolver-algorithm-specification"},"children":[{"type":"text","value":"defined in the ESM resolver","position":{"start":{"line":190,"column":5,"offset":8928},"end":{"line":190,"column":32,"offset":8955}}}],"position":{"start":{"line":190,"column":4,"offset":8927},"end":{"line":190,"column":97,"offset":9020}}},{"type":"text","value":".","position":{"start":{"line":190,"column":97,"offset":9020},"end":{"line":190,"column":98,"offset":9021}}}],"position":{"start":{"line":188,"column":1,"offset":8783},"end":{"line":190,"column":98,"offset":9021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":191,"column":4,"offset":9025},"end":{"line":191,"column":11,"offset":9032}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":191,"column":12,"offset":9033},"end":{"line":191,"column":15,"offset":9036}}}],"position":{"start":{"line":191,"column":11,"offset":9032},"end":{"line":191,"column":16,"offset":9037}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":191,"column":16,"offset":9037},"end":{"line":191,"column":28,"offset":9049}}}],"position":{"start":{"line":191,"column":1,"offset":9022},"end":{"line":191,"column":28,"offset":9049}}},{"type":"text","value":"\n"}],"position":{"start":{"line":184,"column":1,"offset":8557},"end":{"line":191,"column":28,"offset":9049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"RESOLVE","position":{"start":{"line":193,"column":1,"offset":9051},"end":{"line":193,"column":8,"offset":9058}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ESM","position":{"start":{"line":193,"column":9,"offset":9059},"end":{"line":193,"column":12,"offset":9062}}}],"position":{"start":{"line":193,"column":8,"offset":9058},"end":{"line":193,"column":13,"offset":9063}}},{"type":"text","value":"MATCH(MATCH)","position":{"start":{"line":193,"column":13,"offset":9063},"end":{"line":193,"column":25,"offset":9075}}}],"position":{"start":{"line":193,"column":1,"offset":9051},"end":{"line":193,"column":25,"offset":9075}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let { RESOLVED, EXACT } = MATCH","position":{"start":{"line":195,"column":4,"offset":9080},"end":{"line":195,"column":35,"offset":9111}}}],"position":{"start":{"line":195,"column":1,"offset":9077},"end":{"line":195,"column":35,"offset":9111}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"let RESOLVED_PATH = fileURLToPath(RESOLVED)","position":{"start":{"line":196,"column":4,"offset":9115},"end":{"line":196,"column":47,"offset":9158}}}],"position":{"start":{"line":196,"column":1,"offset":9112},"end":{"line":196,"column":47,"offset":9158}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If EXACT is true,\na. If the file at RESOLVED","position":{"start":{"line":197,"column":4,"offset":9162},"end":{"line":198,"column":30,"offset":9209}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH exists, load RESOLVED","position":{"start":{"line":198,"column":31,"offset":9210},"end":{"line":198,"column":57,"offset":9236}}}],"position":{"start":{"line":198,"column":30,"offset":9209},"end":{"line":198,"column":58,"offset":9237}}},{"type":"text","value":"PATH as its extension\nformat. STOP","position":{"start":{"line":198,"column":58,"offset":9237},"end":{"line":199,"column":16,"offset":9274}}}],"position":{"start":{"line":197,"column":1,"offset":9159},"end":{"line":199,"column":16,"offset":9274}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Otherwise, if EXACT is false,\na. LOAD","position":{"start":{"line":200,"column":4,"offset":9278},"end":{"line":201,"column":11,"offset":9318}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"AS","position":{"start":{"line":201,"column":12,"offset":9319},"end":{"line":201,"column":14,"offset":9321}}}],"position":{"start":{"line":201,"column":11,"offset":9318},"end":{"line":201,"column":15,"offset":9322}}},{"type":"text","value":"FILE(RESOLVED","position":{"start":{"line":201,"column":15,"offset":9322},"end":{"line":201,"column":28,"offset":9335}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"PATH)\nb. LOAD","position":{"start":{"line":201,"column":29,"offset":9336},"end":{"line":202,"column":11,"offset":9352}}}],"position":{"start":{"line":201,"column":28,"offset":9335},"end":{"line":202,"column":12,"offset":9353}}},{"type":"text","value":"AS","position":{"start":{"line":202,"column":12,"offset":9353},"end":{"line":202,"column":14,"offset":9355}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"DIRECTORY(RESOLVED","position":{"start":{"line":202,"column":15,"offset":9356},"end":{"line":202,"column":33,"offset":9374}}}],"position":{"start":{"line":202,"column":14,"offset":9355},"end":{"line":202,"column":34,"offset":9375}}},{"type":"text","value":"PATH)","position":{"start":{"line":202,"column":34,"offset":9375},"end":{"line":202,"column":39,"offset":9380}}}],"position":{"start":{"line":200,"column":1,"offset":9275},"end":{"line":202,"column":39,"offset":9380}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"THROW \"not found\"","position":{"start":{"line":203,"column":4,"offset":9384},"end":{"line":203,"column":21,"offset":9401}}}],"position":{"start":{"line":203,"column":1,"offset":9381},"end":{"line":203,"column":21,"offset":9401}}},{"type":"text","value":"\n"}],"position":{"start":{"line":195,"column":1,"offset":9077},"end":{"line":203,"column":21,"offset":9401}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Caching","position":{"start":{"line":205,"column":5,"offset":9407},"end":{"line":205,"column":12,"offset":9414}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_caching"},"children":[{"type":"text","value":"#","position":{"start":{"line":205,"column":13,"offset":9415},"end":{"line":205,"column":14,"offset":9416}}}],"position":{"start":{"line":205,"column":12,"offset":9414},"end":{"line":205,"column":68,"offset":9470}}}],"position":{"start":{"line":205,"column":1,"offset":9403},"end":{"line":205,"column":68,"offset":9470}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached after the first time they are loaded. This means (among other things) that every call to ","position":{"start":{"line":207,"column":1,"offset":9472},"end":{"line":207,"column":109,"offset":9580}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":207,"column":109,"offset":9580},"end":{"line":207,"column":125,"offset":9596}}},{"type":"text","value":" will get exactly the same object returned, if it would resolve to the same file.","position":{"start":{"line":207,"column":125,"offset":9596},"end":{"line":207,"column":206,"offset":9677}}}],"position":{"start":{"line":207,"column":1,"offset":9472},"end":{"line":207,"column":206,"offset":9677}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Provided ","position":{"start":{"line":209,"column":1,"offset":9679},"end":{"line":209,"column":10,"offset":9688}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":209,"column":10,"offset":9688},"end":{"line":209,"column":25,"offset":9703}}},{"type":"text","value":" is not modified, multiple calls to ","position":{"start":{"line":209,"column":25,"offset":9703},"end":{"line":209,"column":61,"offset":9739}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":209,"column":61,"offset":9739},"end":{"line":209,"column":77,"offset":9755}}},{"type":"text","value":" will not cause the module code to be executed multiple times. This is an important feature. With it, \"partially done\" objects can be returned, thus allowing transitive dependencies to be loaded even when they would cause cycles.","position":{"start":{"line":209,"column":77,"offset":9755},"end":{"line":209,"column":306,"offset":9984}}}],"position":{"start":{"line":209,"column":1,"offset":9679},"end":{"line":209,"column":306,"offset":9984}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To have a module execute code multiple times, export a function, and call that function.","position":{"start":{"line":211,"column":1,"offset":9986},"end":{"line":211,"column":89,"offset":10074}}}],"position":{"start":{"line":211,"column":1,"offset":9986},"end":{"line":211,"column":89,"offset":10074}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Module caching caveats","position":{"start":{"line":213,"column":6,"offset":10081},"end":{"line":213,"column":28,"offset":10103}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_caching_caveats"},"children":[{"type":"text","value":"#","position":{"start":{"line":213,"column":29,"offset":10104},"end":{"line":213,"column":30,"offset":10105}}}],"position":{"start":{"line":213,"column":28,"offset":10103},"end":{"line":213,"column":99,"offset":10174}}}],"position":{"start":{"line":213,"column":1,"offset":10076},"end":{"line":213,"column":99,"offset":10174}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached based on their resolved filename. Since modules may resolve to a different filename based on the location of the calling module (loading from ","position":{"start":{"line":215,"column":1,"offset":10176},"end":{"line":215,"column":162,"offset":10337}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":215,"column":162,"offset":10337},"end":{"line":215,"column":176,"offset":10351}}},{"type":"text","value":" folders), it is not a ","position":{"start":{"line":215,"column":176,"offset":10351},"end":{"line":215,"column":199,"offset":10374}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"guarantee","position":{"start":{"line":215,"column":200,"offset":10375},"end":{"line":215,"column":209,"offset":10384}}}],"position":{"start":{"line":215,"column":199,"offset":10374},"end":{"line":215,"column":210,"offset":10385}}},{"type":"text","value":" that ","position":{"start":{"line":215,"column":210,"offset":10385},"end":{"line":215,"column":216,"offset":10391}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('foo')"}],"position":{"start":{"line":215,"column":216,"offset":10391},"end":{"line":215,"column":232,"offset":10407}}},{"type":"text","value":" will always return the exact same object, if it would resolve to different files.","position":{"start":{"line":215,"column":232,"offset":10407},"end":{"line":215,"column":314,"offset":10489}}}],"position":{"start":{"line":215,"column":1,"offset":10176},"end":{"line":215,"column":314,"offset":10489}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, on case-insensitive file systems or operating systems, different resolved filenames can point to the same file, but the cache will still treat them as different modules and will reload the file multiple times. For example, ","position":{"start":{"line":217,"column":1,"offset":10491},"end":{"line":217,"column":238,"offset":10728}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./foo')"}],"position":{"start":{"line":217,"column":238,"offset":10728},"end":{"line":217,"column":256,"offset":10746}}},{"type":"text","value":" and ","position":{"start":{"line":217,"column":256,"offset":10746},"end":{"line":217,"column":261,"offset":10751}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./FOO')"}],"position":{"start":{"line":217,"column":261,"offset":10751},"end":{"line":217,"column":279,"offset":10769}}},{"type":"text","value":" return two different objects, irrespective of whether or not ","position":{"start":{"line":217,"column":279,"offset":10769},"end":{"line":217,"column":341,"offset":10831}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":217,"column":341,"offset":10831},"end":{"line":217,"column":348,"offset":10838}}},{"type":"text","value":" and ","position":{"start":{"line":217,"column":348,"offset":10838},"end":{"line":217,"column":353,"offset":10843}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./FOO"}],"position":{"start":{"line":217,"column":353,"offset":10843},"end":{"line":217,"column":360,"offset":10850}}},{"type":"text","value":" are the same file.","position":{"start":{"line":217,"column":360,"offset":10850},"end":{"line":217,"column":379,"offset":10869}}}],"position":{"start":{"line":217,"column":1,"offset":10491},"end":{"line":217,"column":379,"offset":10869}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Core modules","position":{"start":{"line":219,"column":5,"offset":10875},"end":{"line":219,"column":17,"offset":10887}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":219,"column":18,"offset":10888},"end":{"line":219,"column":19,"offset":10889}}}],"position":{"start":{"line":219,"column":17,"offset":10887},"end":{"line":219,"column":78,"offset":10948}}}],"position":{"start":{"line":219,"column":1,"offset":10871},"end":{"line":219,"column":78,"offset":10948}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":221,"column":1,"offset":10950},"end":{"line":221,"column":8,"offset":10957}}}],"position":{"start":{"line":221,"column":1,"offset":10950},"end":{"line":221,"column":8,"offset":10957}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Node.js has several modules compiled into the binary. These modules are described in greater detail elsewhere in this documentation.","position":{"start":{"line":223,"column":1,"offset":10959},"end":{"line":223,"column":133,"offset":11091}}}],"position":{"start":{"line":223,"column":1,"offset":10959},"end":{"line":223,"column":133,"offset":11091}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The core modules are defined within the Node.js source and are located in the ","position":{"start":{"line":225,"column":1,"offset":11093},"end":{"line":225,"column":79,"offset":11171}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"lib/"}],"position":{"start":{"line":225,"column":79,"offset":11171},"end":{"line":225,"column":85,"offset":11177}}},{"type":"text","value":" folder.","position":{"start":{"line":225,"column":85,"offset":11177},"end":{"line":225,"column":93,"offset":11185}}}],"position":{"start":{"line":225,"column":1,"offset":11093},"end":{"line":225,"column":93,"offset":11185}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules are always preferentially loaded if their identifier is passed to ","position":{"start":{"line":227,"column":1,"offset":11187},"end":{"line":227,"column":80,"offset":11266}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":227,"column":80,"offset":11266},"end":{"line":227,"column":91,"offset":11277}}},{"type":"text","value":". For instance, ","position":{"start":{"line":227,"column":91,"offset":11277},"end":{"line":227,"column":107,"offset":11293}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('http')"}],"position":{"start":{"line":227,"column":107,"offset":11293},"end":{"line":227,"column":124,"offset":11310}}},{"type":"text","value":" will always return the built in HTTP module, even if there is a file by that name.","position":{"start":{"line":227,"column":124,"offset":11310},"end":{"line":227,"column":207,"offset":11393}}}],"position":{"start":{"line":227,"column":1,"offset":11187},"end":{"line":227,"column":207,"offset":11393}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Core modules can also be identified using the ","position":{"start":{"line":229,"column":1,"offset":11395},"end":{"line":229,"column":47,"offset":11441}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":229,"column":47,"offset":11441},"end":{"line":229,"column":54,"offset":11448}}},{"type":"text","value":" prefix, in which case it bypasses the ","position":{"start":{"line":229,"column":54,"offset":11448},"end":{"line":229,"column":93,"offset":11487}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":229,"column":93,"offset":11487},"end":{"line":229,"column":102,"offset":11496}}},{"type":"text","value":" cache. For instance, ","position":{"start":{"line":229,"column":102,"offset":11496},"end":{"line":229,"column":124,"offset":11518}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('node:http')"}],"position":{"start":{"line":229,"column":124,"offset":11518},"end":{"line":229,"column":146,"offset":11540}}},{"type":"text","value":" will always return the built in HTTP module, even if there is ","position":{"start":{"line":229,"column":146,"offset":11540},"end":{"line":229,"column":209,"offset":11603}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":229,"column":209,"offset":11603},"end":{"line":229,"column":224,"offset":11618}}},{"type":"text","value":" entry by that name.","position":{"start":{"line":229,"column":224,"offset":11618},"end":{"line":229,"column":244,"offset":11638}}}],"position":{"start":{"line":229,"column":1,"offset":11395},"end":{"line":229,"column":244,"offset":11638}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Cycles","position":{"start":{"line":231,"column":5,"offset":11644},"end":{"line":231,"column":11,"offset":11650}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_cycles"},"children":[{"type":"text","value":"#","position":{"start":{"line":231,"column":12,"offset":11651},"end":{"line":231,"column":13,"offset":11652}}}],"position":{"start":{"line":231,"column":11,"offset":11650},"end":{"line":231,"column":66,"offset":11705}}}],"position":{"start":{"line":231,"column":1,"offset":11640},"end":{"line":231,"column":66,"offset":11705}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When there are circular ","position":{"start":{"line":233,"column":1,"offset":11707},"end":{"line":233,"column":25,"offset":11731}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":233,"column":25,"offset":11731},"end":{"line":233,"column":36,"offset":11742}}},{"type":"text","value":" calls, a module might not have finished executing when it is returned.","position":{"start":{"line":233,"column":36,"offset":11742},"end":{"line":233,"column":107,"offset":11813}}}],"position":{"start":{"line":233,"column":1,"offset":11707},"end":{"line":233,"column":107,"offset":11813}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider this situation:","position":{"start":{"line":235,"column":1,"offset":11815},"end":{"line":235,"column":25,"offset":11839}}}],"position":{"start":{"line":235,"column":1,"offset":11815},"end":{"line":235,"column":25,"offset":11839}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":237,"column":1,"offset":11841},"end":{"line":237,"column":7,"offset":11847}}},{"type":"text","value":":","position":{"start":{"line":237,"column":7,"offset":11847},"end":{"line":237,"column":8,"offset":11848}}}],"position":{"start":{"line":237,"column":1,"offset":11841},"end":{"line":237,"column":8,"offset":11848}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('a starting');\nexports.done = false;\nconst b = require('./b.js');\nconsole.log('in a, b.done = %j', b.done);\nexports.done = true;\nconsole.log('a done');\n"}],"position":{"start":{"line":239,"column":1,"offset":11850},"end":{"line":246,"column":4,"offset":12021}}}],"position":{"start":{"line":239,"column":1,"offset":11850},"end":{"line":246,"column":4,"offset":12021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":248,"column":1,"offset":12023},"end":{"line":248,"column":7,"offset":12029}}},{"type":"text","value":":","position":{"start":{"line":248,"column":7,"offset":12029},"end":{"line":248,"column":8,"offset":12030}}}],"position":{"start":{"line":248,"column":1,"offset":12023},"end":{"line":248,"column":8,"offset":12030}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('b starting');\nexports.done = false;\nconst a = require('./a.js');\nconsole.log('in b, a.done = %j', a.done);\nexports.done = true;\nconsole.log('b done');\n"}],"position":{"start":{"line":250,"column":1,"offset":12032},"end":{"line":257,"column":4,"offset":12203}}}],"position":{"start":{"line":250,"column":1,"offset":12032},"end":{"line":257,"column":4,"offset":12203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":259,"column":1,"offset":12205},"end":{"line":259,"column":10,"offset":12214}}},{"type":"text","value":":","position":{"start":{"line":259,"column":10,"offset":12214},"end":{"line":259,"column":11,"offset":12215}}}],"position":{"start":{"line":259,"column":1,"offset":12205},"end":{"line":259,"column":11,"offset":12215}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log('main starting');\nconst a = require('./a.js');\nconst b = require('./b.js');\nconsole.log('in main, a.done = %j, b.done = %j', a.done, b.done);\n"}],"position":{"start":{"line":261,"column":1,"offset":12217},"end":{"line":266,"column":4,"offset":12378}}}],"position":{"start":{"line":261,"column":1,"offset":12217},"end":{"line":266,"column":4,"offset":12378}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When ","position":{"start":{"line":268,"column":1,"offset":12380},"end":{"line":268,"column":6,"offset":12385}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":268,"column":6,"offset":12385},"end":{"line":268,"column":15,"offset":12394}}},{"type":"text","value":" loads ","position":{"start":{"line":268,"column":15,"offset":12394},"end":{"line":268,"column":22,"offset":12401}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":22,"offset":12401},"end":{"line":268,"column":28,"offset":12407}}},{"type":"text","value":", then ","position":{"start":{"line":268,"column":28,"offset":12407},"end":{"line":268,"column":35,"offset":12414}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":35,"offset":12414},"end":{"line":268,"column":41,"offset":12420}}},{"type":"text","value":" in turn loads ","position":{"start":{"line":268,"column":41,"offset":12420},"end":{"line":268,"column":56,"offset":12435}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":56,"offset":12435},"end":{"line":268,"column":62,"offset":12441}}},{"type":"text","value":". At that point, ","position":{"start":{"line":268,"column":62,"offset":12441},"end":{"line":268,"column":79,"offset":12458}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":79,"offset":12458},"end":{"line":268,"column":85,"offset":12464}}},{"type":"text","value":" tries to load ","position":{"start":{"line":268,"column":85,"offset":12464},"end":{"line":268,"column":100,"offset":12479}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":100,"offset":12479},"end":{"line":268,"column":106,"offset":12485}}},{"type":"text","value":". In order to prevent an infinite loop, an unfinished copy of the ","position":{"start":{"line":268,"column":106,"offset":12485},"end":{"line":268,"column":172,"offset":12551}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":172,"offset":12551},"end":{"line":268,"column":178,"offset":12557}}},{"type":"text","value":" exports object is returned to the ","position":{"start":{"line":268,"column":178,"offset":12557},"end":{"line":268,"column":213,"offset":12592}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":213,"offset":12592},"end":{"line":268,"column":219,"offset":12598}}},{"type":"text","value":" module. ","position":{"start":{"line":268,"column":219,"offset":12598},"end":{"line":268,"column":228,"offset":12607}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":268,"column":228,"offset":12607},"end":{"line":268,"column":234,"offset":12613}}},{"type":"text","value":" then finishes loading, and its ","position":{"start":{"line":268,"column":234,"offset":12613},"end":{"line":268,"column":266,"offset":12645}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":268,"column":266,"offset":12645},"end":{"line":268,"column":275,"offset":12654}}},{"type":"text","value":" object is provided to the ","position":{"start":{"line":268,"column":275,"offset":12654},"end":{"line":268,"column":302,"offset":12681}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":268,"column":302,"offset":12681},"end":{"line":268,"column":308,"offset":12687}}},{"type":"text","value":" module.","position":{"start":{"line":268,"column":308,"offset":12687},"end":{"line":268,"column":316,"offset":12695}}}],"position":{"start":{"line":268,"column":1,"offset":12380},"end":{"line":268,"column":316,"offset":12695}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By the time ","position":{"start":{"line":270,"column":1,"offset":12697},"end":{"line":270,"column":13,"offset":12709}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main.js"}],"position":{"start":{"line":270,"column":13,"offset":12709},"end":{"line":270,"column":22,"offset":12718}}},{"type":"text","value":" has loaded both modules, they're both finished. The output of this program would thus be:","position":{"start":{"line":270,"column":22,"offset":12718},"end":{"line":270,"column":112,"offset":12808}}}],"position":{"start":{"line":270,"column":1,"offset":12697},"end":{"line":270,"column":112,"offset":12808}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$ node main.js\nmain starting\na starting\nb starting\nin b, a.done = false\nb done\nin a, b.done = true\na done\nin main, a.done = true, b.done = true\n"}],"position":{"start":{"line":272,"column":1,"offset":12810},"end":{"line":282,"column":4,"offset":12961}}}],"position":{"start":{"line":272,"column":1,"offset":12810},"end":{"line":282,"column":4,"offset":12961}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Careful planning is required to allow cyclic module dependencies to work correctly within an application.","position":{"start":{"line":284,"column":1,"offset":12963},"end":{"line":284,"column":106,"offset":13068}}}],"position":{"start":{"line":284,"column":1,"offset":12963},"end":{"line":284,"column":106,"offset":13068}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"File modules","position":{"start":{"line":286,"column":5,"offset":13074},"end":{"line":286,"column":17,"offset":13086}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_file_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":286,"column":18,"offset":13087},"end":{"line":286,"column":19,"offset":13088}}}],"position":{"start":{"line":286,"column":17,"offset":13086},"end":{"line":286,"column":78,"offset":13147}}}],"position":{"start":{"line":286,"column":1,"offset":13070},"end":{"line":286,"column":78,"offset":13147}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the exact filename is not found, then Node.js will attempt to load the required filename with the added extensions: ","position":{"start":{"line":288,"column":1,"offset":13149},"end":{"line":288,"column":120,"offset":13268}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":288,"column":120,"offset":13268},"end":{"line":288,"column":125,"offset":13273}}},{"type":"text","value":", ","position":{"start":{"line":288,"column":125,"offset":13273},"end":{"line":288,"column":127,"offset":13275}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":288,"column":127,"offset":13275},"end":{"line":288,"column":134,"offset":13282}}},{"type":"text","value":", and finally ","position":{"start":{"line":288,"column":134,"offset":13282},"end":{"line":288,"column":148,"offset":13296}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":288,"column":148,"offset":13296},"end":{"line":288,"column":155,"offset":13303}}},{"type":"text","value":".","position":{"start":{"line":288,"column":155,"offset":13303},"end":{"line":288,"column":156,"offset":13304}}}],"position":{"start":{"line":288,"column":1,"offset":13149},"end":{"line":288,"column":156,"offset":13304}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":290,"column":1,"offset":13306},"end":{"line":290,"column":6,"offset":13311}}},{"type":"text","value":" files are interpreted as JavaScript text files, and ","position":{"start":{"line":290,"column":6,"offset":13311},"end":{"line":290,"column":59,"offset":13364}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".json"}],"position":{"start":{"line":290,"column":59,"offset":13364},"end":{"line":290,"column":66,"offset":13371}}},{"type":"text","value":" files are parsed as JSON text files. ","position":{"start":{"line":290,"column":66,"offset":13371},"end":{"line":290,"column":104,"offset":13409}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".node"}],"position":{"start":{"line":290,"column":104,"offset":13409},"end":{"line":290,"column":111,"offset":13416}}},{"type":"text","value":" files are interpreted as compiled addon modules loaded with ","position":{"start":{"line":290,"column":111,"offset":13416},"end":{"line":290,"column":172,"offset":13477}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"process.dlopen()"}],"position":{"start":{"line":290,"column":172,"offset":13477},"end":{"line":290,"column":190,"offset":13495}}},{"type":"text","value":".","position":{"start":{"line":290,"column":190,"offset":13495},"end":{"line":290,"column":191,"offset":13496}}}],"position":{"start":{"line":290,"column":1,"offset":13306},"end":{"line":290,"column":191,"offset":13496}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":292,"column":1,"offset":13498},"end":{"line":292,"column":33,"offset":13530}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":292,"column":33,"offset":13530},"end":{"line":292,"column":38,"offset":13535}}},{"type":"text","value":" is an absolute path to the file. For example, ","position":{"start":{"line":292,"column":38,"offset":13535},"end":{"line":292,"column":85,"offset":13582}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('/home/marco/foo.js')"}],"position":{"start":{"line":292,"column":85,"offset":13582},"end":{"line":292,"column":116,"offset":13613}}},{"type":"text","value":" will load the file at ","position":{"start":{"line":292,"column":116,"offset":13613},"end":{"line":292,"column":139,"offset":13636}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/marco/foo.js"}],"position":{"start":{"line":292,"column":139,"offset":13636},"end":{"line":292,"column":159,"offset":13656}}},{"type":"text","value":".","position":{"start":{"line":292,"column":159,"offset":13656},"end":{"line":292,"column":160,"offset":13657}}}],"position":{"start":{"line":292,"column":1,"offset":13498},"end":{"line":292,"column":160,"offset":13657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A required module prefixed with ","position":{"start":{"line":294,"column":1,"offset":13659},"end":{"line":294,"column":33,"offset":13691}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":294,"column":33,"offset":13691},"end":{"line":294,"column":39,"offset":13697}}},{"type":"text","value":" is relative to the file calling ","position":{"start":{"line":294,"column":39,"offset":13697},"end":{"line":294,"column":72,"offset":13730}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":294,"column":72,"offset":13730},"end":{"line":294,"column":83,"offset":13741}}},{"type":"text","value":". That is, ","position":{"start":{"line":294,"column":83,"offset":13741},"end":{"line":294,"column":94,"offset":13752}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"circle.js"}],"position":{"start":{"line":294,"column":94,"offset":13752},"end":{"line":294,"column":105,"offset":13763}}},{"type":"text","value":" must be in the same directory as ","position":{"start":{"line":294,"column":105,"offset":13763},"end":{"line":294,"column":139,"offset":13797}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foo.js"}],"position":{"start":{"line":294,"column":139,"offset":13797},"end":{"line":294,"column":147,"offset":13805}}},{"type":"text","value":" for ","position":{"start":{"line":294,"column":147,"offset":13805},"end":{"line":294,"column":152,"offset":13810}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./circle')"}],"position":{"start":{"line":294,"column":152,"offset":13810},"end":{"line":294,"column":173,"offset":13831}}},{"type":"text","value":" to find it.","position":{"start":{"line":294,"column":173,"offset":13831},"end":{"line":294,"column":185,"offset":13843}}}],"position":{"start":{"line":294,"column":1,"offset":13659},"end":{"line":294,"column":185,"offset":13843}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Without a leading ","position":{"start":{"line":296,"column":1,"offset":13845},"end":{"line":296,"column":19,"offset":13863}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":296,"column":19,"offset":13863},"end":{"line":296,"column":24,"offset":13868}}},{"type":"text","value":", ","position":{"start":{"line":296,"column":24,"offset":13868},"end":{"line":296,"column":26,"offset":13870}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":296,"column":26,"offset":13870},"end":{"line":296,"column":32,"offset":13876}}},{"type":"text","value":", or ","position":{"start":{"line":296,"column":32,"offset":13876},"end":{"line":296,"column":37,"offset":13881}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":296,"column":37,"offset":13881},"end":{"line":296,"column":44,"offset":13888}}},{"type":"text","value":" to indicate a file, the module must either be a core module or is loaded from a ","position":{"start":{"line":296,"column":44,"offset":13888},"end":{"line":296,"column":125,"offset":13969}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":296,"column":125,"offset":13969},"end":{"line":296,"column":139,"offset":13983}}},{"type":"text","value":" folder.","position":{"start":{"line":296,"column":139,"offset":13983},"end":{"line":296,"column":147,"offset":13991}}}],"position":{"start":{"line":296,"column":1,"offset":13845},"end":{"line":296,"column":147,"offset":13991}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the given path does not exist, ","position":{"start":{"line":298,"column":1,"offset":13993},"end":{"line":298,"column":35,"offset":14027}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":298,"column":35,"offset":14027},"end":{"line":298,"column":46,"offset":14038}}},{"type":"text","value":" will throw an ","position":{"start":{"line":298,"column":46,"offset":14038},"end":{"line":298,"column":61,"offset":14053}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/errors.html#errors_class_error"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error"}],"position":{"start":{"line":298,"column":62,"offset":14054},"end":{"line":298,"column":69,"offset":14061}}}],"position":{"start":{"line":298,"column":61,"offset":14053},"end":{"line":298,"column":125,"offset":14117}}},{"type":"text","value":" with its ","position":{"start":{"line":298,"column":125,"offset":14117},"end":{"line":298,"column":135,"offset":14127}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"code"}],"position":{"start":{"line":298,"column":135,"offset":14127},"end":{"line":298,"column":141,"offset":14133}}},{"type":"text","value":" property set to ","position":{"start":{"line":298,"column":141,"offset":14133},"end":{"line":298,"column":158,"offset":14150}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'MODULE_NOT_FOUND'"}],"position":{"start":{"line":298,"column":158,"offset":14150},"end":{"line":298,"column":178,"offset":14170}}},{"type":"text","value":".","position":{"start":{"line":298,"column":178,"offset":14170},"end":{"line":298,"column":179,"offset":14171}}}],"position":{"start":{"line":298,"column":1,"offset":13993},"end":{"line":298,"column":179,"offset":14171}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Folders as modules","position":{"start":{"line":300,"column":5,"offset":14177},"end":{"line":300,"column":23,"offset":14195}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_folders_as_modules"},"children":[{"type":"text","value":"#","position":{"start":{"line":300,"column":24,"offset":14196},"end":{"line":300,"column":25,"offset":14197}}}],"position":{"start":{"line":300,"column":23,"offset":14195},"end":{"line":300,"column":90,"offset":14262}}}],"position":{"start":{"line":300,"column":1,"offset":14173},"end":{"line":300,"column":90,"offset":14262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is convenient to organize programs and libraries into self-contained directories, and then provide a single entry point to those directories. There are three ways in which a folder may be passed to ","position":{"start":{"line":302,"column":1,"offset":14264},"end":{"line":302,"column":202,"offset":14465}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":302,"column":202,"offset":14465},"end":{"line":302,"column":213,"offset":14476}}},{"type":"text","value":" as an argument.","position":{"start":{"line":302,"column":213,"offset":14476},"end":{"line":302,"column":229,"offset":14492}}}],"position":{"start":{"line":302,"column":1,"offset":14264},"end":{"line":302,"column":229,"offset":14492}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The first is to create a ","position":{"start":{"line":304,"column":1,"offset":14494},"end":{"line":304,"column":26,"offset":14519}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":304,"column":27,"offset":14520},"end":{"line":304,"column":41,"offset":14534}}}],"position":{"start":{"line":304,"column":26,"offset":14519},"end":{"line":304,"column":128,"offset":14621}}},{"type":"text","value":" file in the root of the folder, which specifies a ","position":{"start":{"line":304,"column":128,"offset":14621},"end":{"line":304,"column":179,"offset":14672}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"main"}],"position":{"start":{"line":304,"column":179,"offset":14672},"end":{"line":304,"column":185,"offset":14678}}},{"type":"text","value":" module. An example ","position":{"start":{"line":304,"column":185,"offset":14678},"end":{"line":304,"column":205,"offset":14698}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":304,"column":206,"offset":14699},"end":{"line":304,"column":220,"offset":14713}}}],"position":{"start":{"line":304,"column":205,"offset":14698},"end":{"line":304,"column":307,"offset":14800}}},{"type":"text","value":" file might look like this:","position":{"start":{"line":304,"column":307,"offset":14800},"end":{"line":304,"column":334,"offset":14827}}}],"position":{"start":{"line":304,"column":1,"offset":14494},"end":{"line":304,"column":334,"offset":14827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{ \"name\" : \"some-library\",\n  \"main\" : \"./lib/some-library.js\" }\n"}],"position":{"start":{"line":306,"column":1,"offset":14829},"end":{"line":309,"column":4,"offset":14900}}}],"position":{"start":{"line":306,"column":1,"offset":14829},"end":{"line":309,"column":4,"offset":14900}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If this was in a folder at ","position":{"start":{"line":311,"column":1,"offset":14902},"end":{"line":311,"column":28,"offset":14929}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library"}],"position":{"start":{"line":311,"column":28,"offset":14929},"end":{"line":311,"column":44,"offset":14945}}},{"type":"text","value":", then ","position":{"start":{"line":311,"column":44,"offset":14945},"end":{"line":311,"column":51,"offset":14952}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":311,"column":51,"offset":14952},"end":{"line":311,"column":78,"offset":14979}}},{"type":"text","value":" would attempt to load ","position":{"start":{"line":311,"column":78,"offset":14979},"end":{"line":311,"column":101,"offset":15002}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/lib/some-library.js"}],"position":{"start":{"line":311,"column":101,"offset":15002},"end":{"line":311,"column":137,"offset":15038}}},{"type":"text","value":".","position":{"start":{"line":311,"column":137,"offset":15038},"end":{"line":311,"column":138,"offset":15039}}}],"position":{"start":{"line":311,"column":1,"offset":14902},"end":{"line":311,"column":138,"offset":15039}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the extent of the awareness of ","position":{"start":{"line":313,"column":1,"offset":15041},"end":{"line":313,"column":40,"offset":15080}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":313,"column":40,"offset":15080},"end":{"line":313,"column":54,"offset":15094}}},{"type":"text","value":" files within Node.js.","position":{"start":{"line":313,"column":54,"offset":15094},"end":{"line":313,"column":76,"offset":15116}}}],"position":{"start":{"line":313,"column":1,"offset":15041},"end":{"line":313,"column":76,"offset":15116}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If there is no ","position":{"start":{"line":315,"column":1,"offset":15118},"end":{"line":315,"column":16,"offset":15133}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":315,"column":17,"offset":15134},"end":{"line":315,"column":31,"offset":15148}}}],"position":{"start":{"line":315,"column":16,"offset":15133},"end":{"line":315,"column":118,"offset":15235}}},{"type":"text","value":" file present in the directory, or if the ","position":{"start":{"line":315,"column":118,"offset":15235},"end":{"line":315,"column":160,"offset":15277}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"\"main\""}],"position":{"start":{"line":315,"column":161,"offset":15278},"end":{"line":315,"column":169,"offset":15286}}}],"position":{"start":{"line":315,"column":160,"offset":15277},"end":{"line":315,"column":222,"offset":15339}}},{"type":"text","value":" entry is missing or cannot be resolved, then Node.js will attempt to load an ","position":{"start":{"line":315,"column":222,"offset":15339},"end":{"line":315,"column":300,"offset":15417}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.js"}],"position":{"start":{"line":315,"column":300,"offset":15417},"end":{"line":315,"column":310,"offset":15427}}},{"type":"text","value":" or ","position":{"start":{"line":315,"column":310,"offset":15427},"end":{"line":315,"column":314,"offset":15431}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"index.node"}],"position":{"start":{"line":315,"column":314,"offset":15431},"end":{"line":315,"column":326,"offset":15443}}},{"type":"text","value":" file out of that directory. For example, if there was no ","position":{"start":{"line":315,"column":326,"offset":15443},"end":{"line":315,"column":384,"offset":15501}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/packages.html#packages_node_js_package_json_field_definitions"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"package.json"}],"position":{"start":{"line":315,"column":385,"offset":15502},"end":{"line":315,"column":399,"offset":15516}}}],"position":{"start":{"line":315,"column":384,"offset":15501},"end":{"line":315,"column":486,"offset":15603}}},{"type":"text","value":" file in the previous example, then ","position":{"start":{"line":315,"column":486,"offset":15603},"end":{"line":315,"column":522,"offset":15639}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('./some-library')"}],"position":{"start":{"line":315,"column":522,"offset":15639},"end":{"line":315,"column":549,"offset":15666}}},{"type":"text","value":" would attempt to load:","position":{"start":{"line":315,"column":549,"offset":15666},"end":{"line":315,"column":572,"offset":15689}}}],"position":{"start":{"line":315,"column":1,"offset":15118},"end":{"line":315,"column":572,"offset":15689}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.js"}],"position":{"start":{"line":317,"column":5,"offset":15695},"end":{"line":317,"column":30,"offset":15720}}}],"position":{"start":{"line":317,"column":1,"offset":15691},"end":{"line":317,"column":30,"offset":15720}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./some-library/index.node"}],"position":{"start":{"line":318,"column":5,"offset":15725},"end":{"line":318,"column":32,"offset":15752}}}],"position":{"start":{"line":318,"column":1,"offset":15721},"end":{"line":318,"column":32,"offset":15752}}},{"type":"text","value":"\n"}],"position":{"start":{"line":317,"column":1,"offset":15691},"end":{"line":318,"column":32,"offset":15752}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If these attempts fail, then Node.js will report the entire module as missing with the default error:","position":{"start":{"line":320,"column":1,"offset":15754},"end":{"line":320,"column":102,"offset":15855}}}],"position":{"start":{"line":320,"column":1,"offset":15754},"end":{"line":320,"column":102,"offset":15855}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Error: Cannot find module 'some-library'\n"}],"position":{"start":{"line":322,"column":1,"offset":15857},"end":{"line":324,"column":4,"offset":15905}}}],"position":{"start":{"line":322,"column":1,"offset":15857},"end":{"line":324,"column":4,"offset":15905}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from ","position":{"start":{"line":326,"column":5,"offset":15911},"end":{"line":326,"column":18,"offset":15924}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":326,"column":18,"offset":15924},"end":{"line":326,"column":32,"offset":15938}}},{"type":"text","value":" folders","position":{"start":{"line":326,"column":32,"offset":15938},"end":{"line":326,"column":40,"offset":15946}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":326,"column":41,"offset":15947},"end":{"line":326,"column":42,"offset":15948}}}],"position":{"start":{"line":326,"column":40,"offset":15946},"end":{"line":326,"column":122,"offset":16028}}}],"position":{"start":{"line":326,"column":1,"offset":15907},"end":{"line":326,"column":122,"offset":16028}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module identifier passed to ","position":{"start":{"line":328,"column":1,"offset":16030},"end":{"line":328,"column":36,"offset":16065}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":328,"column":36,"offset":16065},"end":{"line":328,"column":47,"offset":16076}}},{"type":"text","value":" is not a ","position":{"start":{"line":328,"column":47,"offset":16076},"end":{"line":328,"column":57,"offset":16086}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_core_modules"},"children":[{"type":"text","value":"core","position":{"start":{"line":328,"column":58,"offset":16087},"end":{"line":328,"column":62,"offset":16091}}}],"position":{"start":{"line":328,"column":57,"offset":16086},"end":{"line":328,"column":121,"offset":16150}}},{"type":"text","value":" module, and does not begin with ","position":{"start":{"line":328,"column":121,"offset":16150},"end":{"line":328,"column":154,"offset":16183}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/'"}],"position":{"start":{"line":328,"column":154,"offset":16183},"end":{"line":328,"column":159,"offset":16188}}},{"type":"text","value":", ","position":{"start":{"line":328,"column":159,"offset":16188},"end":{"line":328,"column":161,"offset":16190}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'../'"}],"position":{"start":{"line":328,"column":161,"offset":16190},"end":{"line":328,"column":168,"offset":16197}}},{"type":"text","value":", or ","position":{"start":{"line":328,"column":168,"offset":16197},"end":{"line":328,"column":173,"offset":16202}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'./'"}],"position":{"start":{"line":328,"column":173,"offset":16202},"end":{"line":328,"column":179,"offset":16208}}},{"type":"text","value":", then Node.js starts at the parent directory of the current module, and adds ","position":{"start":{"line":328,"column":179,"offset":16208},"end":{"line":328,"column":257,"offset":16286}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules"}],"position":{"start":{"line":328,"column":257,"offset":16286},"end":{"line":328,"column":272,"offset":16301}}},{"type":"text","value":", and attempts to load the module from that location. Node.js will not append ","position":{"start":{"line":328,"column":272,"offset":16301},"end":{"line":328,"column":350,"offset":16379}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":328,"column":350,"offset":16379},"end":{"line":328,"column":364,"offset":16393}}},{"type":"text","value":" to a path already ending in ","position":{"start":{"line":328,"column":364,"offset":16393},"end":{"line":328,"column":393,"offset":16422}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":328,"column":393,"offset":16422},"end":{"line":328,"column":407,"offset":16436}}},{"type":"text","value":".","position":{"start":{"line":328,"column":407,"offset":16436},"end":{"line":328,"column":408,"offset":16437}}}],"position":{"start":{"line":328,"column":1,"offset":16030},"end":{"line":328,"column":408,"offset":16437}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If it is not found there, then it moves to the parent directory, and so on, until the root of the file system is reached.","position":{"start":{"line":330,"column":1,"offset":16439},"end":{"line":330,"column":122,"offset":16560}}}],"position":{"start":{"line":330,"column":1,"offset":16439},"end":{"line":330,"column":122,"offset":16560}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, if the file at ","position":{"start":{"line":332,"column":1,"offset":16562},"end":{"line":332,"column":29,"offset":16590}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'/home/ry/projects/foo.js'"}],"position":{"start":{"line":332,"column":29,"offset":16590},"end":{"line":332,"column":57,"offset":16618}}},{"type":"text","value":" called ","position":{"start":{"line":332,"column":57,"offset":16618},"end":{"line":332,"column":65,"offset":16626}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('bar.js')"}],"position":{"start":{"line":332,"column":65,"offset":16626},"end":{"line":332,"column":84,"offset":16645}}},{"type":"text","value":", then Node.js would look in the following locations, in this order:","position":{"start":{"line":332,"column":84,"offset":16645},"end":{"line":332,"column":152,"offset":16713}}}],"position":{"start":{"line":332,"column":1,"offset":16562},"end":{"line":332,"column":152,"offset":16713}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/projects/node_modules/bar.js"}],"position":{"start":{"line":334,"column":5,"offset":16719},"end":{"line":334,"column":44,"offset":16758}}}],"position":{"start":{"line":334,"column":1,"offset":16715},"end":{"line":334,"column":44,"offset":16758}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/ry/node_modules/bar.js"}],"position":{"start":{"line":335,"column":5,"offset":16763},"end":{"line":335,"column":35,"offset":16793}}}],"position":{"start":{"line":335,"column":1,"offset":16759},"end":{"line":335,"column":35,"offset":16793}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/home/node_modules/bar.js"}],"position":{"start":{"line":336,"column":5,"offset":16798},"end":{"line":336,"column":32,"offset":16825}}}],"position":{"start":{"line":336,"column":1,"offset":16794},"end":{"line":336,"column":32,"offset":16825}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/node_modules/bar.js"}],"position":{"start":{"line":337,"column":5,"offset":16830},"end":{"line":337,"column":27,"offset":16852}}}],"position":{"start":{"line":337,"column":1,"offset":16826},"end":{"line":337,"column":27,"offset":16852}}},{"type":"text","value":"\n"}],"position":{"start":{"line":334,"column":1,"offset":16715},"end":{"line":337,"column":27,"offset":16852}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows programs to localize their dependencies, so that they do not clash.","position":{"start":{"line":339,"column":1,"offset":16854},"end":{"line":339,"column":80,"offset":16933}}}],"position":{"start":{"line":339,"column":1,"offset":16854},"end":{"line":339,"column":80,"offset":16933}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is possible to require specific files or sub modules distributed with a module by including a path suffix after the module name. For instance ","position":{"start":{"line":341,"column":1,"offset":16935},"end":{"line":341,"column":146,"offset":17080}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require('example-module/path/to/file')"}],"position":{"start":{"line":341,"column":146,"offset":17080},"end":{"line":341,"column":186,"offset":17120}}},{"type":"text","value":" would resolve ","position":{"start":{"line":341,"column":186,"offset":17120},"end":{"line":341,"column":201,"offset":17135}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path/to/file"}],"position":{"start":{"line":341,"column":201,"offset":17135},"end":{"line":341,"column":215,"offset":17149}}},{"type":"text","value":" relative to where ","position":{"start":{"line":341,"column":215,"offset":17149},"end":{"line":341,"column":234,"offset":17168}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"example-module"}],"position":{"start":{"line":341,"column":234,"offset":17168},"end":{"line":341,"column":250,"offset":17184}}},{"type":"text","value":" is located. The suffixed path follows the same module resolution semantics.","position":{"start":{"line":341,"column":250,"offset":17184},"end":{"line":341,"column":326,"offset":17260}}}],"position":{"start":{"line":341,"column":1,"offset":16935},"end":{"line":341,"column":326,"offset":17260}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Loading from the global folders","position":{"start":{"line":343,"column":5,"offset":17266},"end":{"line":343,"column":36,"offset":17297}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"#","position":{"start":{"line":343,"column":37,"offset":17298},"end":{"line":343,"column":38,"offset":17299}}}],"position":{"start":{"line":343,"column":36,"offset":17297},"end":{"line":343,"column":116,"offset":17377}}}],"position":{"start":{"line":343,"column":1,"offset":17262},"end":{"line":343,"column":116,"offset":17377}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the ","position":{"start":{"line":345,"column":1,"offset":17379},"end":{"line":345,"column":8,"offset":17386}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":345,"column":8,"offset":17386},"end":{"line":345,"column":19,"offset":17397}}},{"type":"text","value":" environment variable is set to a colon-delimited list of absolute paths, then Node.js will search those paths for modules if they are not found elsewhere.","position":{"start":{"line":345,"column":19,"offset":17397},"end":{"line":345,"column":174,"offset":17552}}}],"position":{"start":{"line":345,"column":1,"offset":17379},"end":{"line":345,"column":174,"offset":17552}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On Windows, ","position":{"start":{"line":347,"column":1,"offset":17554},"end":{"line":347,"column":13,"offset":17566}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":347,"column":13,"offset":17566},"end":{"line":347,"column":24,"offset":17577}}},{"type":"text","value":" is delimited by semicolons (","position":{"start":{"line":347,"column":24,"offset":17577},"end":{"line":347,"column":53,"offset":17606}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":";"}],"position":{"start":{"line":347,"column":53,"offset":17606},"end":{"line":347,"column":56,"offset":17609}}},{"type":"text","value":") instead of colons.","position":{"start":{"line":347,"column":56,"offset":17609},"end":{"line":347,"column":76,"offset":17629}}}],"position":{"start":{"line":347,"column":1,"offset":17554},"end":{"line":347,"column":76,"offset":17629}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":349,"column":1,"offset":17631},"end":{"line":349,"column":12,"offset":17642}}},{"type":"text","value":" was originally created to support loading modules from varying paths before the current ","position":{"start":{"line":349,"column":12,"offset":17642},"end":{"line":349,"column":101,"offset":17731}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_all_together"},"children":[{"type":"text","value":"module resolution","position":{"start":{"line":349,"column":102,"offset":17732},"end":{"line":349,"column":119,"offset":17749}}}],"position":{"start":{"line":349,"column":101,"offset":17731},"end":{"line":349,"column":178,"offset":17808}}},{"type":"text","value":" algorithm was defined.","position":{"start":{"line":349,"column":178,"offset":17808},"end":{"line":349,"column":201,"offset":17831}}}],"position":{"start":{"line":349,"column":1,"offset":17631},"end":{"line":349,"column":201,"offset":17831}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":1,"offset":17833},"end":{"line":351,"column":12,"offset":17844}}},{"type":"text","value":" is still supported, but is less necessary now that the Node.js ecosystem has settled on a convention for locating dependent modules. Sometimes deployments that rely on ","position":{"start":{"line":351,"column":12,"offset":17844},"end":{"line":351,"column":181,"offset":18013}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":181,"offset":18013},"end":{"line":351,"column":192,"offset":18024}}},{"type":"text","value":" show surprising behavior when people are unaware that ","position":{"start":{"line":351,"column":192,"offset":18024},"end":{"line":351,"column":247,"offset":18079}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":247,"offset":18079},"end":{"line":351,"column":258,"offset":18090}}},{"type":"text","value":" must be set. Sometimes a module's dependencies change, causing a different version (or even a different module) to be loaded as the ","position":{"start":{"line":351,"column":258,"offset":18090},"end":{"line":351,"column":391,"offset":18223}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NODE_PATH"}],"position":{"start":{"line":351,"column":391,"offset":18223},"end":{"line":351,"column":402,"offset":18234}}},{"type":"text","value":" is searched.","position":{"start":{"line":351,"column":402,"offset":18234},"end":{"line":351,"column":415,"offset":18247}}}],"position":{"start":{"line":351,"column":1,"offset":17833},"end":{"line":351,"column":415,"offset":18247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Additionally, Node.js will search in the following list of GLOBAL_FOLDERS:","position":{"start":{"line":353,"column":1,"offset":18249},"end":{"line":353,"column":75,"offset":18323}}}],"position":{"start":{"line":353,"column":1,"offset":18249},"end":{"line":353,"column":75,"offset":18323}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"1: ","position":{"start":{"line":355,"column":5,"offset":18329},"end":{"line":355,"column":8,"offset":18332}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":355,"column":8,"offset":18332},"end":{"line":355,"column":29,"offset":18353}}}],"position":{"start":{"line":355,"column":1,"offset":18325},"end":{"line":355,"column":29,"offset":18353}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"2: ","position":{"start":{"line":356,"column":5,"offset":18358},"end":{"line":356,"column":8,"offset":18361}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_libraries"}],"position":{"start":{"line":356,"column":8,"offset":18361},"end":{"line":356,"column":31,"offset":18384}}}],"position":{"start":{"line":356,"column":1,"offset":18354},"end":{"line":356,"column":31,"offset":18384}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"3: ","position":{"start":{"line":357,"column":5,"offset":18389},"end":{"line":357,"column":8,"offset":18392}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX/lib/node"}],"position":{"start":{"line":357,"column":8,"offset":18392},"end":{"line":357,"column":26,"offset":18410}}}],"position":{"start":{"line":357,"column":1,"offset":18385},"end":{"line":357,"column":26,"offset":18410}}},{"type":"text","value":"\n"}],"position":{"start":{"line":355,"column":1,"offset":18325},"end":{"line":357,"column":26,"offset":18410}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Where ","position":{"start":{"line":359,"column":1,"offset":18412},"end":{"line":359,"column":7,"offset":18418}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME"}],"position":{"start":{"line":359,"column":7,"offset":18418},"end":{"line":359,"column":14,"offset":18425}}},{"type":"text","value":" is the user's home directory, and ","position":{"start":{"line":359,"column":14,"offset":18425},"end":{"line":359,"column":49,"offset":18460}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$PREFIX"}],"position":{"start":{"line":359,"column":49,"offset":18460},"end":{"line":359,"column":58,"offset":18469}}},{"type":"text","value":" is the Node.js configured ","position":{"start":{"line":359,"column":58,"offset":18469},"end":{"line":359,"column":85,"offset":18496}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_prefix"}],"position":{"start":{"line":359,"column":85,"offset":18496},"end":{"line":359,"column":98,"offset":18509}}},{"type":"text","value":".","position":{"start":{"line":359,"column":98,"offset":18509},"end":{"line":359,"column":99,"offset":18510}}}],"position":{"start":{"line":359,"column":1,"offset":18412},"end":{"line":359,"column":99,"offset":18510}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These are mostly for historic reasons.","position":{"start":{"line":361,"column":1,"offset":18512},"end":{"line":361,"column":39,"offset":18550}}}],"position":{"start":{"line":361,"column":1,"offset":18512},"end":{"line":361,"column":39,"offset":18550}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is strongly encouraged to place dependencies in the local ","position":{"start":{"line":363,"column":1,"offset":18552},"end":{"line":363,"column":62,"offset":18613}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":363,"column":62,"offset":18613},"end":{"line":363,"column":76,"offset":18627}}},{"type":"text","value":" folder. These will be loaded faster, and more reliably.","position":{"start":{"line":363,"column":76,"offset":18627},"end":{"line":363,"column":132,"offset":18683}}}],"position":{"start":{"line":363,"column":1,"offset":18552},"end":{"line":363,"column":132,"offset":18683}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module wrapper","position":{"start":{"line":365,"column":5,"offset":18689},"end":{"line":365,"column":23,"offset":18707}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_wrapper"},"children":[{"type":"text","value":"#","position":{"start":{"line":365,"column":24,"offset":18708},"end":{"line":365,"column":25,"offset":18709}}}],"position":{"start":{"line":365,"column":23,"offset":18707},"end":{"line":365,"column":90,"offset":18774}}}],"position":{"start":{"line":365,"column":1,"offset":18685},"end":{"line":365,"column":90,"offset":18774}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before a module's code is executed, Node.js will wrap it with a function wrapper that looks like the following:","position":{"start":{"line":367,"column":1,"offset":18776},"end":{"line":367,"column":112,"offset":18887}}}],"position":{"start":{"line":367,"column":1,"offset":18776},"end":{"line":367,"column":112,"offset":18887}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"(function(exports, require, module, __filename, __dirname) {\n// Module code actually lives in here\n});\n"}],"position":{"start":{"line":369,"column":1,"offset":18889},"end":{"line":373,"column":4,"offset":18999}}}],"position":{"start":{"line":369,"column":1,"offset":18889},"end":{"line":373,"column":4,"offset":18999}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By doing this, Node.js achieves a few things:","position":{"start":{"line":375,"column":1,"offset":19001},"end":{"line":375,"column":46,"offset":19046}}}],"position":{"start":{"line":375,"column":1,"offset":19001},"end":{"line":375,"column":46,"offset":19046}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It keeps top-level variables (defined with ","position":{"start":{"line":377,"column":5,"offset":19052},"end":{"line":377,"column":48,"offset":19095}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"var"}],"position":{"start":{"line":377,"column":48,"offset":19095},"end":{"line":377,"column":53,"offset":19100}}},{"type":"text","value":", ","position":{"start":{"line":377,"column":53,"offset":19100},"end":{"line":377,"column":55,"offset":19102}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const"}],"position":{"start":{"line":377,"column":55,"offset":19102},"end":{"line":377,"column":62,"offset":19109}}},{"type":"text","value":" or ","position":{"start":{"line":377,"column":62,"offset":19109},"end":{"line":377,"column":66,"offset":19113}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"let"}],"position":{"start":{"line":377,"column":66,"offset":19113},"end":{"line":377,"column":71,"offset":19118}}},{"type":"text","value":") scoped to the module rather than the global object.","position":{"start":{"line":377,"column":71,"offset":19118},"end":{"line":377,"column":124,"offset":19171}}}],"position":{"start":{"line":377,"column":1,"offset":19048},"end":{"line":377,"column":124,"offset":19171}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It helps to provide some global-looking variables that are actually specific to the module, such as:","position":{"start":{"line":378,"column":5,"offset":19176},"end":{"line":378,"column":105,"offset":19276}}}],"position":{"start":{"line":378,"column":5,"offset":19176},"end":{"line":378,"column":105,"offset":19276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":379,"column":9,"offset":19285},"end":{"line":379,"column":13,"offset":19289}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":379,"column":13,"offset":19289},"end":{"line":379,"column":21,"offset":19297}}},{"type":"text","value":" and ","position":{"start":{"line":379,"column":21,"offset":19297},"end":{"line":379,"column":26,"offset":19302}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":379,"column":26,"offset":19302},"end":{"line":379,"column":35,"offset":19311}}},{"type":"text","value":" objects that the implementor can use to export values from the module.","position":{"start":{"line":379,"column":35,"offset":19311},"end":{"line":379,"column":106,"offset":19382}}}],"position":{"start":{"line":379,"column":5,"offset":19281},"end":{"line":379,"column":106,"offset":19382}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The convenience variables ","position":{"start":{"line":380,"column":9,"offset":19391},"end":{"line":380,"column":35,"offset":19417}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":380,"column":35,"offset":19417},"end":{"line":380,"column":47,"offset":19429}}},{"type":"text","value":" and ","position":{"start":{"line":380,"column":47,"offset":19429},"end":{"line":380,"column":52,"offset":19434}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":380,"column":52,"offset":19434},"end":{"line":380,"column":63,"offset":19445}}},{"type":"text","value":", containing the module's absolute filename and directory path.","position":{"start":{"line":380,"column":63,"offset":19445},"end":{"line":380,"column":126,"offset":19508}}}],"position":{"start":{"line":380,"column":5,"offset":19387},"end":{"line":380,"column":126,"offset":19508}}},{"type":"text","value":"\n"}],"position":{"start":{"line":379,"column":5,"offset":19281},"end":{"line":380,"column":126,"offset":19508}}},{"type":"text","value":"\n"}],"position":{"start":{"line":378,"column":1,"offset":19172},"end":{"line":380,"column":126,"offset":19508}}},{"type":"text","value":"\n"}],"position":{"start":{"line":377,"column":1,"offset":19048},"end":{"line":380,"column":126,"offset":19508}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The module scope","position":{"start":{"line":382,"column":5,"offset":19514},"end":{"line":382,"column":21,"offset":19530}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_scope"},"children":[{"type":"text","value":"#","position":{"start":{"line":382,"column":22,"offset":19531},"end":{"line":382,"column":23,"offset":19532}}}],"position":{"start":{"line":382,"column":21,"offset":19530},"end":{"line":382,"column":86,"offset":19595}}}],"position":{"start":{"line":382,"column":1,"offset":19510},"end":{"line":382,"column":86,"offset":19595}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":384,"column":6,"offset":19602},"end":{"line":384,"column":17,"offset":19613}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"text","value":"#","position":{"start":{"line":384,"column":18,"offset":19614},"end":{"line":384,"column":19,"offset":19615}}}],"position":{"start":{"line":384,"column":17,"offset":19613},"end":{"line":384,"column":73,"offset":19669}}}],"position":{"start":{"line":384,"column":1,"offset":19597},"end":{"line":384,"column":73,"offset":19669}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.27","position":{"start":{"line":386,"column":1,"offset":19671},"end":{"line":386,"column":18,"offset":19688}}}],"position":{"start":{"line":386,"column":1,"offset":19671},"end":{"line":386,"column":18,"offset":19688}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":388,"column":6,"offset":19695},"end":{"line":388,"column":14,"offset":19703}}}],"position":{"start":{"line":388,"column":5,"offset":19694},"end":{"line":388,"column":100,"offset":19789}}}],"position":{"start":{"line":388,"column":1,"offset":19690},"end":{"line":388,"column":100,"offset":19789}}},{"type":"text","value":"\n"}],"position":{"start":{"line":388,"column":1,"offset":19690},"end":{"line":388,"column":100,"offset":19789}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the current module. This is the same as the ","position":{"start":{"line":390,"column":1,"offset":19791},"end":{"line":390,"column":67,"offset":19857}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":390,"column":68,"offset":19858},"end":{"line":390,"column":84,"offset":19874}}}],"position":{"start":{"line":390,"column":67,"offset":19857},"end":{"line":390,"column":142,"offset":19932}}},{"type":"text","value":" of the ","position":{"start":{"line":390,"column":142,"offset":19932},"end":{"line":390,"column":150,"offset":19940}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":390,"column":151,"offset":19941},"end":{"line":390,"column":163,"offset":19953}}}],"position":{"start":{"line":390,"column":150,"offset":19940},"end":{"line":390,"column":218,"offset":20008}}},{"type":"text","value":".","position":{"start":{"line":390,"column":218,"offset":20008},"end":{"line":390,"column":219,"offset":20009}}}],"position":{"start":{"line":390,"column":1,"offset":19791},"end":{"line":390,"column":219,"offset":20009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Example: running ","position":{"start":{"line":392,"column":1,"offset":20011},"end":{"line":392,"column":18,"offset":20028}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":392,"column":18,"offset":20028},"end":{"line":392,"column":35,"offset":20045}}},{"type":"text","value":" from ","position":{"start":{"line":392,"column":35,"offset":20045},"end":{"line":392,"column":41,"offset":20051}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":392,"column":41,"offset":20051},"end":{"line":392,"column":53,"offset":20063}}}],"position":{"start":{"line":392,"column":1,"offset":20011},"end":{"line":392,"column":53,"offset":20063}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__dirname);\n// Prints: /Users/mjr\nconsole.log(path.dirname(__filename));\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":394,"column":1,"offset":20065},"end":{"line":399,"column":4,"offset":20179}}}],"position":{"start":{"line":394,"column":1,"offset":20065},"end":{"line":399,"column":4,"offset":20179}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":401,"column":6,"offset":20186},"end":{"line":401,"column":18,"offset":20198}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":401,"column":19,"offset":20199},"end":{"line":401,"column":20,"offset":20200}}}],"position":{"start":{"line":401,"column":18,"offset":20198},"end":{"line":401,"column":75,"offset":20255}}}],"position":{"start":{"line":401,"column":1,"offset":20181},"end":{"line":401,"column":75,"offset":20255}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.0.1","position":{"start":{"line":403,"column":1,"offset":20257},"end":{"line":403,"column":17,"offset":20273}}}],"position":{"start":{"line":403,"column":1,"offset":20257},"end":{"line":403,"column":17,"offset":20273}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":405,"column":6,"offset":20280},"end":{"line":405,"column":14,"offset":20288}}}],"position":{"start":{"line":405,"column":5,"offset":20279},"end":{"line":405,"column":100,"offset":20374}}}],"position":{"start":{"line":405,"column":1,"offset":20275},"end":{"line":405,"column":100,"offset":20374}}},{"type":"text","value":"\n"}],"position":{"start":{"line":405,"column":1,"offset":20275},"end":{"line":405,"column":100,"offset":20374}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The file name of the current module. This is the current module file's absolute path with symlinks resolved.","position":{"start":{"line":407,"column":1,"offset":20376},"end":{"line":407,"column":109,"offset":20484}}}],"position":{"start":{"line":407,"column":1,"offset":20376},"end":{"line":407,"column":109,"offset":20484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a main program this is not necessarily the same as the file name used in the command line.","position":{"start":{"line":409,"column":1,"offset":20486},"end":{"line":409,"column":95,"offset":20580}}}],"position":{"start":{"line":409,"column":1,"offset":20486},"end":{"line":409,"column":95,"offset":20580}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See ","position":{"start":{"line":411,"column":1,"offset":20582},"end":{"line":411,"column":5,"offset":20586}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":411,"column":6,"offset":20587},"end":{"line":411,"column":17,"offset":20598}}}],"position":{"start":{"line":411,"column":5,"offset":20586},"end":{"line":411,"column":71,"offset":20652}}},{"type":"text","value":" for the directory name of the current module.","position":{"start":{"line":411,"column":71,"offset":20652},"end":{"line":411,"column":117,"offset":20698}}}],"position":{"start":{"line":411,"column":1,"offset":20582},"end":{"line":411,"column":117,"offset":20698}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Examples:","position":{"start":{"line":413,"column":1,"offset":20700},"end":{"line":413,"column":10,"offset":20709}}}],"position":{"start":{"line":413,"column":1,"offset":20700},"end":{"line":413,"column":10,"offset":20709}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Running ","position":{"start":{"line":415,"column":1,"offset":20711},"end":{"line":415,"column":9,"offset":20719}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node example.js"}],"position":{"start":{"line":415,"column":9,"offset":20719},"end":{"line":415,"column":26,"offset":20736}}},{"type":"text","value":" from ","position":{"start":{"line":415,"column":26,"offset":20736},"end":{"line":415,"column":32,"offset":20742}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr"}],"position":{"start":{"line":415,"column":32,"offset":20742},"end":{"line":415,"column":44,"offset":20754}}}],"position":{"start":{"line":415,"column":1,"offset":20711},"end":{"line":415,"column":44,"offset":20754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(__filename);\n// Prints: /Users/mjr/example.js\nconsole.log(__dirname);\n// Prints: /Users/mjr\n"}],"position":{"start":{"line":417,"column":1,"offset":20756},"end":{"line":422,"column":4,"offset":20867}}}],"position":{"start":{"line":417,"column":1,"offset":20756},"end":{"line":422,"column":4,"offset":20867}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given two modules: ","position":{"start":{"line":424,"column":1,"offset":20869},"end":{"line":424,"column":20,"offset":20888}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":424,"column":20,"offset":20888},"end":{"line":424,"column":23,"offset":20891}}},{"type":"text","value":" and ","position":{"start":{"line":424,"column":23,"offset":20891},"end":{"line":424,"column":28,"offset":20896}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":424,"column":28,"offset":20896},"end":{"line":424,"column":31,"offset":20899}}},{"type":"text","value":", where ","position":{"start":{"line":424,"column":31,"offset":20899},"end":{"line":424,"column":39,"offset":20907}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b"}],"position":{"start":{"line":424,"column":39,"offset":20907},"end":{"line":424,"column":42,"offset":20910}}},{"type":"text","value":" is a dependency of ","position":{"start":{"line":424,"column":42,"offset":20910},"end":{"line":424,"column":62,"offset":20930}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}],"position":{"start":{"line":424,"column":62,"offset":20930},"end":{"line":424,"column":65,"offset":20933}}},{"type":"text","value":" and there is a directory structure of:","position":{"start":{"line":424,"column":65,"offset":20933},"end":{"line":424,"column":104,"offset":20972}}}],"position":{"start":{"line":424,"column":1,"offset":20869},"end":{"line":424,"column":104,"offset":20972}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":426,"column":5,"offset":20978},"end":{"line":426,"column":26,"offset":20999}}}],"position":{"start":{"line":426,"column":1,"offset":20974},"end":{"line":426,"column":26,"offset":20999}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":427,"column":5,"offset":21004},"end":{"line":427,"column":41,"offset":21040}}}],"position":{"start":{"line":427,"column":1,"offset":21000},"end":{"line":427,"column":41,"offset":21040}}},{"type":"text","value":"\n"}],"position":{"start":{"line":426,"column":1,"offset":20974},"end":{"line":427,"column":41,"offset":21040}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References to ","position":{"start":{"line":429,"column":1,"offset":21042},"end":{"line":429,"column":15,"offset":21056}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":429,"column":15,"offset":21056},"end":{"line":429,"column":27,"offset":21068}}},{"type":"text","value":" within ","position":{"start":{"line":429,"column":27,"offset":21068},"end":{"line":429,"column":35,"offset":21076}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b.js"}],"position":{"start":{"line":429,"column":35,"offset":21076},"end":{"line":429,"column":41,"offset":21082}}},{"type":"text","value":" will return ","position":{"start":{"line":429,"column":41,"offset":21082},"end":{"line":429,"column":54,"offset":21095}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/node_modules/b/b.js"}],"position":{"start":{"line":429,"column":54,"offset":21095},"end":{"line":429,"column":90,"offset":21131}}},{"type":"text","value":" while references to ","position":{"start":{"line":429,"column":90,"offset":21131},"end":{"line":429,"column":111,"offset":21152}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__filename"}],"position":{"start":{"line":429,"column":111,"offset":21152},"end":{"line":429,"column":123,"offset":21164}}},{"type":"text","value":" within ","position":{"start":{"line":429,"column":123,"offset":21164},"end":{"line":429,"column":131,"offset":21172}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":429,"column":131,"offset":21172},"end":{"line":429,"column":137,"offset":21178}}},{"type":"text","value":" will return ","position":{"start":{"line":429,"column":137,"offset":21178},"end":{"line":429,"column":150,"offset":21191}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/Users/mjr/app/a.js"}],"position":{"start":{"line":429,"column":150,"offset":21191},"end":{"line":429,"column":171,"offset":21212}}},{"type":"text","value":".","position":{"start":{"line":429,"column":171,"offset":21212},"end":{"line":429,"column":172,"offset":21213}}}],"position":{"start":{"line":429,"column":1,"offset":21042},"end":{"line":429,"column":172,"offset":21213}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":431,"column":6,"offset":21220},"end":{"line":431,"column":15,"offset":21229}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":431,"column":16,"offset":21230},"end":{"line":431,"column":17,"offset":21231}}}],"position":{"start":{"line":431,"column":15,"offset":21229},"end":{"line":431,"column":71,"offset":21285}}}],"position":{"start":{"line":431,"column":1,"offset":21215},"end":{"line":431,"column":71,"offset":21285}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.12","position":{"start":{"line":433,"column":1,"offset":21287},"end":{"line":433,"column":18,"offset":21304}}}],"position":{"start":{"line":433,"column":1,"offset":21287},"end":{"line":433,"column":18,"offset":21304}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":435,"column":6,"offset":21311},"end":{"line":435,"column":14,"offset":21319}}}],"position":{"start":{"line":435,"column":5,"offset":21310},"end":{"line":435,"column":104,"offset":21409}}}],"position":{"start":{"line":435,"column":1,"offset":21306},"end":{"line":435,"column":104,"offset":21409}}},{"type":"text","value":"\n"}],"position":{"start":{"line":435,"column":1,"offset":21306},"end":{"line":435,"column":104,"offset":21409}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the ","position":{"start":{"line":437,"column":1,"offset":21411},"end":{"line":437,"column":20,"offset":21430}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":437,"column":20,"offset":21430},"end":{"line":437,"column":36,"offset":21446}}},{"type":"text","value":" that is shorter to type. See the section about the ","position":{"start":{"line":437,"column":36,"offset":21446},"end":{"line":437,"column":88,"offset":21498}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"exports shortcut","position":{"start":{"line":437,"column":89,"offset":21499},"end":{"line":437,"column":105,"offset":21515}}}],"position":{"start":{"line":437,"column":88,"offset":21498},"end":{"line":437,"column":168,"offset":21578}}},{"type":"text","value":" for details on when to use ","position":{"start":{"line":437,"column":168,"offset":21578},"end":{"line":437,"column":196,"offset":21606}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":437,"column":196,"offset":21606},"end":{"line":437,"column":205,"offset":21615}}},{"type":"text","value":" and when to use ","position":{"start":{"line":437,"column":205,"offset":21615},"end":{"line":437,"column":222,"offset":21632}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":437,"column":222,"offset":21632},"end":{"line":437,"column":238,"offset":21648}}},{"type":"text","value":".","position":{"start":{"line":437,"column":238,"offset":21648},"end":{"line":437,"column":239,"offset":21649}}}],"position":{"start":{"line":437,"column":1,"offset":21411},"end":{"line":437,"column":239,"offset":21649}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":439,"column":6,"offset":21656},"end":{"line":439,"column":14,"offset":21664}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module"},"children":[{"type":"text","value":"#","position":{"start":{"line":439,"column":15,"offset":21665},"end":{"line":439,"column":16,"offset":21666}}}],"position":{"start":{"line":439,"column":14,"offset":21664},"end":{"line":439,"column":69,"offset":21719}}}],"position":{"start":{"line":439,"column":1,"offset":21651},"end":{"line":439,"column":69,"offset":21719}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":441,"column":1,"offset":21721},"end":{"line":441,"column":18,"offset":21738}}}],"position":{"start":{"line":441,"column":1,"offset":21721},"end":{"line":441,"column":18,"offset":21738}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":443,"column":6,"offset":21745},"end":{"line":443,"column":14,"offset":21753}}}],"position":{"start":{"line":443,"column":5,"offset":21744},"end":{"line":443,"column":78,"offset":21817}}}],"position":{"start":{"line":443,"column":1,"offset":21740},"end":{"line":443,"column":78,"offset":21817}}},{"type":"text","value":"\n"}],"position":{"start":{"line":443,"column":1,"offset":21740},"end":{"line":443,"column":78,"offset":21817}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A reference to the current module, see the section about the ","position":{"start":{"line":445,"column":1,"offset":21819},"end":{"line":445,"column":62,"offset":21880}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":445,"column":63,"offset":21881},"end":{"line":445,"column":71,"offset":21889}}},{"type":"text","value":" object","position":{"start":{"line":445,"column":71,"offset":21889},"end":{"line":445,"column":78,"offset":21896}}}],"position":{"start":{"line":445,"column":62,"offset":21880},"end":{"line":445,"column":142,"offset":21960}}},{"type":"text","value":". In particular, ","position":{"start":{"line":445,"column":142,"offset":21960},"end":{"line":445,"column":159,"offset":21977}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":445,"column":159,"offset":21977},"end":{"line":445,"column":175,"offset":21993}}},{"type":"text","value":" is used for defining what a module exports and makes available through ","position":{"start":{"line":445,"column":175,"offset":21993},"end":{"line":445,"column":247,"offset":22065}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":445,"column":247,"offset":22065},"end":{"line":445,"column":258,"offset":22076}}},{"type":"text","value":".","position":{"start":{"line":445,"column":258,"offset":22076},"end":{"line":445,"column":259,"offset":22077}}}],"position":{"start":{"line":445,"column":1,"offset":21819},"end":{"line":445,"column":259,"offset":22077}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require(id)"}],"position":{"start":{"line":447,"column":6,"offset":22084},"end":{"line":447,"column":19,"offset":22097}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":447,"column":20,"offset":22098},"end":{"line":447,"column":21,"offset":22099}}}],"position":{"start":{"line":447,"column":19,"offset":22097},"end":{"line":447,"column":78,"offset":22156}}}],"position":{"start":{"line":447,"column":1,"offset":22079},"end":{"line":447,"column":78,"offset":22156}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.13","position":{"start":{"line":449,"column":1,"offset":22158},"end":{"line":449,"column":18,"offset":22175}}}],"position":{"start":{"line":449,"column":1,"offset":22158},"end":{"line":449,"column":18,"offset":22175}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":451,"column":5,"offset":22181},"end":{"line":451,"column":9,"offset":22185}}},{"type":"text","value":" ","position":{"start":{"line":451,"column":9,"offset":22185},"end":{"line":451,"column":10,"offset":22186}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":451,"column":11,"offset":22187},"end":{"line":451,"column":19,"offset":22195}}}],"position":{"start":{"line":451,"column":10,"offset":22186},"end":{"line":451,"column":105,"offset":22281}}},{"type":"text","value":" module name or path","position":{"start":{"line":451,"column":105,"offset":22281},"end":{"line":451,"column":125,"offset":22301}}}],"position":{"start":{"line":451,"column":1,"offset":22177},"end":{"line":451,"column":125,"offset":22301}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":452,"column":5,"offset":22306},"end":{"line":452,"column":14,"offset":22315}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":452,"column":15,"offset":22316},"end":{"line":452,"column":20,"offset":22321}}}],"position":{"start":{"line":452,"column":14,"offset":22315},"end":{"line":452,"column":105,"offset":22406}}},{"type":"text","value":" exported module content","position":{"start":{"line":452,"column":105,"offset":22406},"end":{"line":452,"column":129,"offset":22430}}}],"position":{"start":{"line":452,"column":1,"offset":22302},"end":{"line":452,"column":129,"offset":22430}}},{"type":"text","value":"\n"}],"position":{"start":{"line":451,"column":1,"offset":22177},"end":{"line":452,"column":129,"offset":22430}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Used to import modules, ","position":{"start":{"line":454,"column":1,"offset":22432},"end":{"line":454,"column":25,"offset":22456}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JSON"}],"position":{"start":{"line":454,"column":25,"offset":22456},"end":{"line":454,"column":31,"offset":22462}}},{"type":"text","value":", and local files. Modules can be imported from ","position":{"start":{"line":454,"column":31,"offset":22462},"end":{"line":454,"column":79,"offset":22510}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":454,"column":79,"offset":22510},"end":{"line":454,"column":93,"offset":22524}}},{"type":"text","value":". Local modules and JSON files can be imported using a relative path (e.g. ","position":{"start":{"line":454,"column":93,"offset":22524},"end":{"line":454,"column":168,"offset":22599}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./"}],"position":{"start":{"line":454,"column":168,"offset":22599},"end":{"line":454,"column":172,"offset":22603}}},{"type":"text","value":", ","position":{"start":{"line":454,"column":172,"offset":22603},"end":{"line":454,"column":174,"offset":22605}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./foo"}],"position":{"start":{"line":454,"column":174,"offset":22605},"end":{"line":454,"column":181,"offset":22612}}},{"type":"text","value":", ","position":{"start":{"line":454,"column":181,"offset":22612},"end":{"line":454,"column":183,"offset":22614}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"./bar/baz"}],"position":{"start":{"line":454,"column":183,"offset":22614},"end":{"line":454,"column":194,"offset":22625}}},{"type":"text","value":", ","position":{"start":{"line":454,"column":194,"offset":22625},"end":{"line":454,"column":196,"offset":22627}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"../foo"}],"position":{"start":{"line":454,"column":196,"offset":22627},"end":{"line":454,"column":204,"offset":22635}}},{"type":"text","value":") that will be resolved against the directory named by ","position":{"start":{"line":454,"column":204,"offset":22635},"end":{"line":454,"column":259,"offset":22690}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_dirname"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"__dirname"}],"position":{"start":{"line":454,"column":260,"offset":22691},"end":{"line":454,"column":271,"offset":22702}}}],"position":{"start":{"line":454,"column":259,"offset":22690},"end":{"line":454,"column":325,"offset":22756}}},{"type":"text","value":" (if defined) or the current working directory. The relative paths of POSIX style are resolved in an OS independent fashion, meaning that the examples above will work on Windows in the same way they would on Unix systems.","position":{"start":{"line":454,"column":325,"offset":22756},"end":{"line":454,"column":546,"offset":22977}}}],"position":{"start":{"line":454,"column":1,"offset":22432},"end":{"line":454,"column":546,"offset":22977}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// Importing a local module with a path relative to the `__dirname` or current\n// working directory. (On Windows, this would resolve to .\\path\\myLocalModule.)\nconst myLocalModule = require('./path/myLocalModule');\n\n// Importing a JSON file:\nconst jsonData = require('./path/filename.json');\n\n// Importing a module from node_modules or Node.js built-in module:\nconst crypto = require('crypto');\n"}],"position":{"start":{"line":456,"column":1,"offset":22979},"end":{"line":466,"column":4,"offset":23380}}}],"position":{"start":{"line":456,"column":1,"offset":22979},"end":{"line":466,"column":4,"offset":23380}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.cache"}],"position":{"start":{"line":468,"column":7,"offset":23388},"end":{"line":468,"column":22,"offset":23403}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_cache"},"children":[{"type":"text","value":"#","position":{"start":{"line":468,"column":23,"offset":23404},"end":{"line":468,"column":24,"offset":23405}}}],"position":{"start":{"line":468,"column":22,"offset":23403},"end":{"line":468,"column":84,"offset":23465}}}],"position":{"start":{"line":468,"column":1,"offset":23382},"end":{"line":468,"column":84,"offset":23465}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0","position":{"start":{"line":470,"column":1,"offset":23467},"end":{"line":470,"column":17,"offset":23483}}}],"position":{"start":{"line":470,"column":1,"offset":23467},"end":{"line":470,"column":17,"offset":23483}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":472,"column":6,"offset":23490},"end":{"line":472,"column":14,"offset":23498}}}],"position":{"start":{"line":472,"column":5,"offset":23489},"end":{"line":472,"column":104,"offset":23588}}}],"position":{"start":{"line":472,"column":1,"offset":23485},"end":{"line":472,"column":104,"offset":23588}}},{"type":"text","value":"\n"}],"position":{"start":{"line":472,"column":1,"offset":23485},"end":{"line":472,"column":104,"offset":23588}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Modules are cached in this object when they are required. By deleting a key value from this object, the next ","position":{"start":{"line":474,"column":1,"offset":23590},"end":{"line":474,"column":110,"offset":23699}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":474,"column":110,"offset":23699},"end":{"line":474,"column":119,"offset":23708}}},{"type":"text","value":" will reload the module. This does not apply to ","position":{"start":{"line":474,"column":119,"offset":23708},"end":{"line":474,"column":167,"offset":23756}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/addons.html"},"children":[{"type":"text","value":"native addons","position":{"start":{"line":474,"column":168,"offset":23757},"end":{"line":474,"column":181,"offset":23770}}}],"position":{"start":{"line":474,"column":167,"offset":23756},"end":{"line":474,"column":218,"offset":23807}}},{"type":"text","value":", for which reloading will result in an error.","position":{"start":{"line":474,"column":218,"offset":23807},"end":{"line":474,"column":264,"offset":23853}}}],"position":{"start":{"line":474,"column":1,"offset":23590},"end":{"line":474,"column":264,"offset":23853}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Adding or replacing entries is also possible. This cache is checked before native modules and if a name matching a native module is added to the cache, only ","position":{"start":{"line":476,"column":1,"offset":23855},"end":{"line":476,"column":158,"offset":24012}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node:"}],"position":{"start":{"line":476,"column":158,"offset":24012},"end":{"line":476,"column":165,"offset":24019}}},{"type":"text","value":"-prefixed require calls are going to receive the native module. Use with care!","position":{"start":{"line":476,"column":165,"offset":24019},"end":{"line":476,"column":243,"offset":24097}}}],"position":{"start":{"line":476,"column":1,"offset":23855},"end":{"line":476,"column":243,"offset":24097}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const assert = require('assert');\nconst realFs = require('fs');\n\nconst fakeFs = {};\nrequire.cache.fs = { exports: fakeFs };\n\nassert.strictEqual(require('fs'), fakeFs);\nassert.strictEqual(require('node:fs'), realFs);\n"}],"position":{"start":{"line":478,"column":1,"offset":24099},"end":{"line":487,"column":4,"offset":24322}}}],"position":{"start":{"line":478,"column":1,"offset":24099},"end":{"line":487,"column":4,"offset":24322}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":489,"column":7,"offset":24330},"end":{"line":489,"column":27,"offset":24350}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_extensions"},"children":[{"type":"text","value":"#","position":{"start":{"line":489,"column":28,"offset":24351},"end":{"line":489,"column":29,"offset":24352}}}],"position":{"start":{"line":489,"column":27,"offset":24350},"end":{"line":489,"column":94,"offset":24417}}}],"position":{"start":{"line":489,"column":1,"offset":24324},"end":{"line":489,"column":94,"offset":24417}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.3.0Deprecated since: v0.10.6","position":{"start":{"line":491,"column":1,"offset":24419},"end":{"line":491,"column":42,"offset":24460}}}],"position":{"start":{"line":491,"column":1,"offset":24419},"end":{"line":491,"column":42,"offset":24460}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":493,"column":2,"offset":24463},"end":{"line":493,"column":14,"offset":24475}}}],"position":{"start":{"line":493,"column":1,"offset":24462},"end":{"line":493,"column":88,"offset":24549}}},{"type":"text","value":" - Deprecated","position":{"start":{"line":493,"column":88,"offset":24549},"end":{"line":493,"column":101,"offset":24562}}}],"position":{"start":{"line":493,"column":1,"offset":24462},"end":{"line":493,"column":101,"offset":24562}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":495,"column":6,"offset":24569},"end":{"line":495,"column":14,"offset":24577}}}],"position":{"start":{"line":495,"column":5,"offset":24568},"end":{"line":495,"column":104,"offset":24667}}}],"position":{"start":{"line":495,"column":1,"offset":24564},"end":{"line":495,"column":104,"offset":24667}}},{"type":"text","value":"\n"}],"position":{"start":{"line":495,"column":1,"offset":24564},"end":{"line":495,"column":104,"offset":24667}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Instruct ","position":{"start":{"line":497,"column":1,"offset":24669},"end":{"line":497,"column":10,"offset":24678}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require"}],"position":{"start":{"line":497,"column":10,"offset":24678},"end":{"line":497,"column":19,"offset":24687}}},{"type":"text","value":" on how to handle certain file extensions.","position":{"start":{"line":497,"column":19,"offset":24687},"end":{"line":497,"column":61,"offset":24729}}}],"position":{"start":{"line":497,"column":1,"offset":24669},"end":{"line":497,"column":61,"offset":24729}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Process files with the extension ","position":{"start":{"line":499,"column":1,"offset":24731},"end":{"line":499,"column":34,"offset":24764}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".sjs"}],"position":{"start":{"line":499,"column":34,"offset":24764},"end":{"line":499,"column":40,"offset":24770}}},{"type":"text","value":" as ","position":{"start":{"line":499,"column":40,"offset":24770},"end":{"line":499,"column":44,"offset":24774}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".js"}],"position":{"start":{"line":499,"column":44,"offset":24774},"end":{"line":499,"column":49,"offset":24779}}},{"type":"text","value":":","position":{"start":{"line":499,"column":49,"offset":24779},"end":{"line":499,"column":50,"offset":24780}}}],"position":{"start":{"line":499,"column":1,"offset":24731},"end":{"line":499,"column":50,"offset":24780}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions['.sjs'] = require.extensions['.js'];\n"}],"position":{"start":{"line":501,"column":1,"offset":24782},"end":{"line":503,"column":4,"offset":24845}}}],"position":{"start":{"line":501,"column":1,"offset":24782},"end":{"line":503,"column":4,"offset":24845}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Deprecated. In the past, this list has been used to load non-JavaScript modules into Node.js by compiling them on-demand. However, in practice, there are much better ways to do this, such as loading modules via some other Node.js program, or compiling them to JavaScript ahead of time.","position":{"start":{"line":505,"column":1,"offset":24847},"end":{"line":505,"column":286,"offset":25132}}}],"position":{"start":{"line":505,"column":1,"offset":24847},"end":{"line":505,"column":286,"offset":25132}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Avoid using ","position":{"start":{"line":507,"column":1,"offset":25134},"end":{"line":507,"column":13,"offset":25146}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.extensions"}],"position":{"start":{"line":507,"column":13,"offset":25146},"end":{"line":507,"column":33,"offset":25166}}},{"type":"text","value":". Use could cause subtle bugs and resolving the extensions gets slower with each registered extension.","position":{"start":{"line":507,"column":33,"offset":25166},"end":{"line":507,"column":135,"offset":25268}}}],"position":{"start":{"line":507,"column":1,"offset":25134},"end":{"line":507,"column":135,"offset":25268}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":509,"column":7,"offset":25276},"end":{"line":509,"column":21,"offset":25290}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"text","value":"#","position":{"start":{"line":509,"column":22,"offset":25291},"end":{"line":509,"column":23,"offset":25292}}}],"position":{"start":{"line":509,"column":21,"offset":25290},"end":{"line":509,"column":82,"offset":25351}}}],"position":{"start":{"line":509,"column":1,"offset":25270},"end":{"line":509,"column":82,"offset":25351}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.17","position":{"start":{"line":511,"column":1,"offset":25353},"end":{"line":511,"column":18,"offset":25370}}}],"position":{"start":{"line":511,"column":1,"offset":25353},"end":{"line":511,"column":18,"offset":25370}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":513,"column":6,"offset":25377},"end":{"line":513,"column":14,"offset":25385}}}],"position":{"start":{"line":513,"column":5,"offset":25376},"end":{"line":513,"column":78,"offset":25449}}}],"position":{"start":{"line":513,"column":1,"offset":25372},"end":{"line":513,"column":78,"offset":25449}}},{"type":"text","value":"\n"}],"position":{"start":{"line":513,"column":1,"offset":25372},"end":{"line":513,"column":78,"offset":25449}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":515,"column":1,"offset":25451},"end":{"line":515,"column":5,"offset":25455}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":515,"column":5,"offset":25455},"end":{"line":515,"column":13,"offset":25463}}},{"type":"text","value":" object representing the entry script loaded when the Node.js process launched. See ","position":{"start":{"line":515,"column":13,"offset":25463},"end":{"line":515,"column":97,"offset":25547}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_accessing_the_main_module"},"children":[{"type":"text","value":"\"Accessing the main module\"","position":{"start":{"line":515,"column":98,"offset":25548},"end":{"line":515,"column":125,"offset":25575}}}],"position":{"start":{"line":515,"column":97,"offset":25547},"end":{"line":515,"column":197,"offset":25647}}},{"type":"text","value":".","position":{"start":{"line":515,"column":197,"offset":25647},"end":{"line":515,"column":198,"offset":25648}}}],"position":{"start":{"line":515,"column":1,"offset":25451},"end":{"line":515,"column":198,"offset":25648}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In ","position":{"start":{"line":517,"column":1,"offset":25650},"end":{"line":517,"column":4,"offset":25653}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"entry.js"}],"position":{"start":{"line":517,"column":4,"offset":25653},"end":{"line":517,"column":14,"offset":25663}}},{"type":"text","value":" script:","position":{"start":{"line":517,"column":14,"offset":25663},"end":{"line":517,"column":22,"offset":25671}}}],"position":{"start":{"line":517,"column":1,"offset":25650},"end":{"line":517,"column":22,"offset":25671}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"console.log(require.main);\n"}],"position":{"start":{"line":519,"column":1,"offset":25673},"end":{"line":521,"column":4,"offset":25707}}}],"position":{"start":{"line":519,"column":1,"offset":25673},"end":{"line":521,"column":4,"offset":25707}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node entry.js\n"}],"position":{"start":{"line":523,"column":1,"offset":25709},"end":{"line":525,"column":4,"offset":25730}}}],"position":{"start":{"line":523,"column":1,"offset":25709},"end":{"line":525,"column":4,"offset":25730}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module {\n  id: '.',\n  path: '/absolute/path/to',\n  exports: {},\n  filename: '/absolute/path/to/entry.js',\n  loaded: false,\n  children: [],\n  paths:\n   [ '/absolute/path/to/node_modules',\n     '/absolute/path/node_modules',\n     '/absolute/node_modules',\n     '/node_modules' ] }\n"}],"position":{"start":{"line":527,"column":1,"offset":25732},"end":{"line":540,"column":4,"offset":26018}}}],"position":{"start":{"line":527,"column":1,"offset":25732},"end":{"line":540,"column":4,"offset":26018}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve(request[, options])"}],"position":{"start":{"line":542,"column":7,"offset":26026},"end":{"line":542,"column":44,"offset":26063}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_request_options"},"children":[{"type":"text","value":"#","position":{"start":{"line":542,"column":45,"offset":26064},"end":{"line":542,"column":46,"offset":26065}}}],"position":{"start":{"line":542,"column":44,"offset":26063},"end":{"line":542,"column":124,"offset":26143}}}],"position":{"start":{"line":542,"column":1,"offset":26020},"end":{"line":542,"column":124,"offset":26143}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"History","position":{"start":{"line":544,"column":1,"offset":26145},"end":{"line":544,"column":8,"offset":26152}}}],"position":{"start":{"line":544,"column":1,"offset":26145},"end":{"line":544,"column":8,"offset":26152}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":546,"column":5,"offset":26158},"end":{"line":546,"column":14,"offset":26167}}},{"type":"text","value":" ","position":{"start":{"line":546,"column":14,"offset":26167},"end":{"line":546,"column":15,"offset":26168}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":546,"column":16,"offset":26169},"end":{"line":546,"column":24,"offset":26177}}}],"position":{"start":{"line":546,"column":15,"offset":26168},"end":{"line":546,"column":110,"offset":26263}}},{"type":"text","value":" The module path to resolve.","position":{"start":{"line":546,"column":110,"offset":26263},"end":{"line":546,"column":138,"offset":26291}}}],"position":{"start":{"line":546,"column":1,"offset":26154},"end":{"line":546,"column":138,"offset":26291}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"options"}],"position":{"start":{"line":547,"column":5,"offset":26296},"end":{"line":547,"column":14,"offset":26305}}},{"type":"text","value":" ","position":{"start":{"line":547,"column":14,"offset":26305},"end":{"line":547,"column":15,"offset":26306}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":547,"column":16,"offset":26307},"end":{"line":547,"column":24,"offset":26315}}}],"position":{"start":{"line":547,"column":15,"offset":26306},"end":{"line":547,"column":114,"offset":26405}}}],"position":{"start":{"line":547,"column":5,"offset":26296},"end":{"line":547,"column":114,"offset":26405}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"paths"}],"position":{"start":{"line":548,"column":9,"offset":26414},"end":{"line":548,"column":16,"offset":26421}}},{"type":"text","value":" ","position":{"start":{"line":548,"column":16,"offset":26421},"end":{"line":548,"column":17,"offset":26422}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":548,"column":18,"offset":26423},"end":{"line":548,"column":28,"offset":26433}}}],"position":{"start":{"line":548,"column":17,"offset":26422},"end":{"line":548,"column":114,"offset":26519}}},{"type":"text","value":" Paths to resolve module location from. If present, these paths are used instead of the default resolution paths, with the exception of ","position":{"start":{"line":548,"column":114,"offset":26519},"end":{"line":548,"column":250,"offset":26655}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_loading_from_the_global_folders"},"children":[{"type":"text","value":"GLOBAL_FOLDERS","position":{"start":{"line":548,"column":251,"offset":26656},"end":{"line":548,"column":265,"offset":26670}}}],"position":{"start":{"line":548,"column":250,"offset":26655},"end":{"line":548,"column":343,"offset":26748}}},{"type":"text","value":" like ","position":{"start":{"line":548,"column":343,"offset":26748},"end":{"line":548,"column":349,"offset":26754}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$HOME/.node_modules"}],"position":{"start":{"line":548,"column":349,"offset":26754},"end":{"line":548,"column":370,"offset":26775}}},{"type":"text","value":", which are always included. Each of these paths is used as a starting point for the module resolution algorithm, meaning that the ","position":{"start":{"line":548,"column":370,"offset":26775},"end":{"line":548,"column":501,"offset":26906}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"node_modules"}],"position":{"start":{"line":548,"column":501,"offset":26906},"end":{"line":548,"column":515,"offset":26920}}},{"type":"text","value":" hierarchy is checked from this location.","position":{"start":{"line":548,"column":515,"offset":26920},"end":{"line":548,"column":556,"offset":26961}}}],"position":{"start":{"line":548,"column":5,"offset":26410},"end":{"line":548,"column":556,"offset":26961}}},{"type":"text","value":"\n"}],"position":{"start":{"line":548,"column":5,"offset":26410},"end":{"line":548,"column":556,"offset":26961}}},{"type":"text","value":"\n"}],"position":{"start":{"line":547,"column":1,"offset":26292},"end":{"line":548,"column":556,"offset":26961}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":549,"column":5,"offset":26966},"end":{"line":549,"column":14,"offset":26975}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":549,"column":15,"offset":26976},"end":{"line":549,"column":23,"offset":26984}}}],"position":{"start":{"line":549,"column":14,"offset":26975},"end":{"line":549,"column":109,"offset":27070}}}],"position":{"start":{"line":549,"column":1,"offset":26962},"end":{"line":549,"column":109,"offset":27070}}},{"type":"text","value":"\n"}],"position":{"start":{"line":546,"column":1,"offset":26154},"end":{"line":549,"column":109,"offset":27070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use the internal ","position":{"start":{"line":551,"column":1,"offset":27072},"end":{"line":551,"column":18,"offset":27089}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":551,"column":18,"offset":27089},"end":{"line":551,"column":29,"offset":27100}}},{"type":"text","value":" machinery to look up the location of a module, but rather than loading the module, just return the resolved filename.","position":{"start":{"line":551,"column":29,"offset":27100},"end":{"line":551,"column":147,"offset":27218}}}],"position":{"start":{"line":551,"column":1,"offset":27072},"end":{"line":551,"column":147,"offset":27218}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If the module can not be found, a ","position":{"start":{"line":553,"column":1,"offset":27220},"end":{"line":553,"column":35,"offset":27254}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MODULE_NOT_FOUND"}],"position":{"start":{"line":553,"column":35,"offset":27254},"end":{"line":553,"column":53,"offset":27272}}},{"type":"text","value":" error is thrown.","position":{"start":{"line":553,"column":53,"offset":27272},"end":{"line":553,"column":70,"offset":27289}}}],"position":{"start":{"line":553,"column":1,"offset":27220},"end":{"line":553,"column":70,"offset":27289}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h6","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.resolve.paths(request)"}],"position":{"start":{"line":555,"column":8,"offset":27298},"end":{"line":555,"column":40,"offset":27330}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_resolve_paths_request"},"children":[{"type":"text","value":"#","position":{"start":{"line":555,"column":41,"offset":27331},"end":{"line":555,"column":42,"offset":27332}}}],"position":{"start":{"line":555,"column":40,"offset":27330},"end":{"line":555,"column":118,"offset":27408}}}],"position":{"start":{"line":555,"column":1,"offset":27291},"end":{"line":555,"column":118,"offset":27408}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v8.9.0","position":{"start":{"line":557,"column":1,"offset":27410},"end":{"line":557,"column":17,"offset":27426}}}],"position":{"start":{"line":557,"column":1,"offset":27410},"end":{"line":557,"column":17,"offset":27426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":559,"column":5,"offset":27432},"end":{"line":559,"column":14,"offset":27441}}},{"type":"text","value":" ","position":{"start":{"line":559,"column":14,"offset":27441},"end":{"line":559,"column":15,"offset":27442}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":559,"column":16,"offset":27443},"end":{"line":559,"column":24,"offset":27451}}}],"position":{"start":{"line":559,"column":15,"offset":27442},"end":{"line":559,"column":110,"offset":27537}}},{"type":"text","value":" The module path whose lookup paths are being retrieved.","position":{"start":{"line":559,"column":110,"offset":27537},"end":{"line":559,"column":166,"offset":27593}}}],"position":{"start":{"line":559,"column":1,"offset":27428},"end":{"line":559,"column":166,"offset":27593}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":560,"column":5,"offset":27598},"end":{"line":560,"column":14,"offset":27607}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":560,"column":15,"offset":27608},"end":{"line":560,"column":25,"offset":27618}}}],"position":{"start":{"line":560,"column":14,"offset":27607},"end":{"line":560,"column":111,"offset":27704}}},{"type":"text","value":" | ","position":{"start":{"line":560,"column":111,"offset":27704},"end":{"line":560,"column":114,"offset":27707}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":560,"column":115,"offset":27708},"end":{"line":560,"column":121,"offset":27714}}}],"position":{"start":{"line":560,"column":114,"offset":27707},"end":{"line":560,"column":205,"offset":27798}}}],"position":{"start":{"line":560,"column":1,"offset":27594},"end":{"line":560,"column":205,"offset":27798}}},{"type":"text","value":"\n"}],"position":{"start":{"line":559,"column":1,"offset":27428},"end":{"line":560,"column":205,"offset":27798}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Returns an array containing the paths searched during resolution of ","position":{"start":{"line":562,"column":1,"offset":27800},"end":{"line":562,"column":69,"offset":27868}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":562,"column":69,"offset":27868},"end":{"line":562,"column":78,"offset":27877}}},{"type":"text","value":" or ","position":{"start":{"line":562,"column":78,"offset":27877},"end":{"line":562,"column":82,"offset":27881}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":562,"column":82,"offset":27881},"end":{"line":562,"column":88,"offset":27887}}},{"type":"text","value":" if the ","position":{"start":{"line":562,"column":88,"offset":27887},"end":{"line":562,"column":96,"offset":27895}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"request"}],"position":{"start":{"line":562,"column":96,"offset":27895},"end":{"line":562,"column":105,"offset":27904}}},{"type":"text","value":" string references a core module, for example ","position":{"start":{"line":562,"column":105,"offset":27904},"end":{"line":562,"column":151,"offset":27950}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"http"}],"position":{"start":{"line":562,"column":151,"offset":27950},"end":{"line":562,"column":157,"offset":27956}}},{"type":"text","value":" or ","position":{"start":{"line":562,"column":157,"offset":27956},"end":{"line":562,"column":161,"offset":27960}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fs"}],"position":{"start":{"line":562,"column":161,"offset":27960},"end":{"line":562,"column":165,"offset":27964}}},{"type":"text","value":".","position":{"start":{"line":562,"column":165,"offset":27964},"end":{"line":562,"column":166,"offset":27965}}}],"position":{"start":{"line":562,"column":1,"offset":27800},"end":{"line":562,"column":166,"offset":27965}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":564,"column":5,"offset":27971},"end":{"line":564,"column":9,"offset":27975}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":564,"column":9,"offset":27975},"end":{"line":564,"column":17,"offset":27983}}},{"type":"text","value":" object","position":{"start":{"line":564,"column":17,"offset":27983},"end":{"line":564,"column":24,"offset":27990}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"#","position":{"start":{"line":564,"column":25,"offset":27991},"end":{"line":564,"column":26,"offset":27992}}}],"position":{"start":{"line":564,"column":24,"offset":27990},"end":{"line":564,"column":90,"offset":28056}}}],"position":{"start":{"line":564,"column":1,"offset":27967},"end":{"line":564,"column":90,"offset":28056}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":566,"column":1,"offset":28058},"end":{"line":566,"column":18,"offset":28075}}}],"position":{"start":{"line":566,"column":1,"offset":28058},"end":{"line":566,"column":18,"offset":28075}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":568,"column":6,"offset":28082},"end":{"line":568,"column":14,"offset":28090}}}],"position":{"start":{"line":568,"column":5,"offset":28081},"end":{"line":568,"column":104,"offset":28180}}}],"position":{"start":{"line":568,"column":1,"offset":28077},"end":{"line":568,"column":104,"offset":28180}}},{"type":"text","value":"\n"}],"position":{"start":{"line":568,"column":1,"offset":28077},"end":{"line":568,"column":104,"offset":28180}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In each module, the ","position":{"start":{"line":570,"column":1,"offset":28182},"end":{"line":570,"column":21,"offset":28202}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":570,"column":21,"offset":28202},"end":{"line":570,"column":29,"offset":28210}}},{"type":"text","value":" free variable is a reference to the object representing the current module. For convenience, ","position":{"start":{"line":570,"column":29,"offset":28210},"end":{"line":570,"column":123,"offset":28304}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":570,"column":123,"offset":28304},"end":{"line":570,"column":139,"offset":28320}}},{"type":"text","value":" is also accessible via the ","position":{"start":{"line":570,"column":139,"offset":28320},"end":{"line":570,"column":167,"offset":28348}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":570,"column":167,"offset":28348},"end":{"line":570,"column":176,"offset":28357}}},{"type":"text","value":" module-global. ","position":{"start":{"line":570,"column":176,"offset":28357},"end":{"line":570,"column":192,"offset":28373}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":570,"column":192,"offset":28373},"end":{"line":570,"column":200,"offset":28381}}},{"type":"text","value":" is not actually a global but rather local to each module.","position":{"start":{"line":570,"column":200,"offset":28381},"end":{"line":570,"column":258,"offset":28439}}}],"position":{"start":{"line":570,"column":1,"offset":28182},"end":{"line":570,"column":258,"offset":28439}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":572,"column":6,"offset":28446},"end":{"line":572,"column":23,"offset":28463}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"text","value":"#","position":{"start":{"line":572,"column":24,"offset":28464},"end":{"line":572,"column":25,"offset":28465}}}],"position":{"start":{"line":572,"column":23,"offset":28463},"end":{"line":572,"column":87,"offset":28527}}}],"position":{"start":{"line":572,"column":1,"offset":28441},"end":{"line":572,"column":87,"offset":28527}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":574,"column":1,"offset":28529},"end":{"line":574,"column":18,"offset":28546}}}],"position":{"start":{"line":574,"column":1,"offset":28529},"end":{"line":574,"column":18,"offset":28546}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"text","value":"<module[]>","position":{"start":{"line":576,"column":6,"offset":28553},"end":{"line":576,"column":16,"offset":28563}}}],"position":{"start":{"line":576,"column":5,"offset":28552},"end":{"line":576,"column":80,"offset":28627}}}],"position":{"start":{"line":576,"column":1,"offset":28548},"end":{"line":576,"column":80,"offset":28627}}},{"type":"text","value":"\n"}],"position":{"start":{"line":576,"column":1,"offset":28548},"end":{"line":576,"column":80,"offset":28627}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module objects required for the first time by this one.","position":{"start":{"line":578,"column":1,"offset":28629},"end":{"line":578,"column":60,"offset":28688}}}],"position":{"start":{"line":578,"column":1,"offset":28629},"end":{"line":578,"column":60,"offset":28688}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":580,"column":6,"offset":28695},"end":{"line":580,"column":22,"offset":28711}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_exports"},"children":[{"type":"text","value":"#","position":{"start":{"line":580,"column":23,"offset":28712},"end":{"line":580,"column":24,"offset":28713}}}],"position":{"start":{"line":580,"column":22,"offset":28711},"end":{"line":580,"column":85,"offset":28774}}}],"position":{"start":{"line":580,"column":1,"offset":28690},"end":{"line":580,"column":85,"offset":28774}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":582,"column":1,"offset":28776},"end":{"line":582,"column":18,"offset":28793}}}],"position":{"start":{"line":582,"column":1,"offset":28776},"end":{"line":582,"column":18,"offset":28793}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"},"children":[{"type":"raw","value":"<Object>","position":{"start":{"line":584,"column":6,"offset":28800},"end":{"line":584,"column":14,"offset":28808}}}],"position":{"start":{"line":584,"column":5,"offset":28799},"end":{"line":584,"column":104,"offset":28898}}}],"position":{"start":{"line":584,"column":1,"offset":28795},"end":{"line":584,"column":104,"offset":28898}}},{"type":"text","value":"\n"}],"position":{"start":{"line":584,"column":1,"offset":28795},"end":{"line":584,"column":104,"offset":28898}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":586,"column":1,"offset":28900},"end":{"line":586,"column":5,"offset":28904}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":586,"column":5,"offset":28904},"end":{"line":586,"column":21,"offset":28920}}},{"type":"text","value":" object is created by the ","position":{"start":{"line":586,"column":21,"offset":28920},"end":{"line":586,"column":47,"offset":28946}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":586,"column":47,"offset":28946},"end":{"line":586,"column":55,"offset":28954}}},{"type":"text","value":" system. Sometimes this is not acceptable; many want their module to be an instance of some class. To do this, assign the desired export object to ","position":{"start":{"line":586,"column":55,"offset":28954},"end":{"line":586,"column":202,"offset":29101}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":586,"column":202,"offset":29101},"end":{"line":586,"column":218,"offset":29117}}},{"type":"text","value":". Assigning the desired object to ","position":{"start":{"line":586,"column":218,"offset":29117},"end":{"line":586,"column":252,"offset":29151}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":586,"column":252,"offset":29151},"end":{"line":586,"column":261,"offset":29160}}},{"type":"text","value":" will simply rebind the local ","position":{"start":{"line":586,"column":261,"offset":29160},"end":{"line":586,"column":291,"offset":29190}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":586,"column":291,"offset":29190},"end":{"line":586,"column":300,"offset":29199}}},{"type":"text","value":" variable, which is probably not what is desired.","position":{"start":{"line":586,"column":300,"offset":29199},"end":{"line":586,"column":349,"offset":29248}}}],"position":{"start":{"line":586,"column":1,"offset":28900},"end":{"line":586,"column":349,"offset":29248}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, suppose we were making a module called ","position":{"start":{"line":588,"column":1,"offset":29250},"end":{"line":588,"column":53,"offset":29302}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a.js"}],"position":{"start":{"line":588,"column":53,"offset":29302},"end":{"line":588,"column":59,"offset":29308}}},{"type":"text","value":":","position":{"start":{"line":588,"column":59,"offset":29308},"end":{"line":588,"column":60,"offset":29309}}}],"position":{"start":{"line":588,"column":1,"offset":29250},"end":{"line":588,"column":60,"offset":29309}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const EventEmitter = require('events');\n\nmodule.exports = new EventEmitter();\n\n// Do some work, and after some time emit\n// the 'ready' event from the module itself.\nsetTimeout(() => {\n  module.exports.emit('ready');\n}, 1000);\n"}],"position":{"start":{"line":590,"column":1,"offset":29311},"end":{"line":600,"column":4,"offset":29545}}}],"position":{"start":{"line":590,"column":1,"offset":29311},"end":{"line":600,"column":4,"offset":29545}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then in another file we could do:","position":{"start":{"line":602,"column":1,"offset":29547},"end":{"line":602,"column":34,"offset":29580}}}],"position":{"start":{"line":602,"column":1,"offset":29547},"end":{"line":602,"column":34,"offset":29580}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const a = require('./a');\na.on('ready', () => {\n  console.log('module \"a\" is ready');\n});\n"}],"position":{"start":{"line":604,"column":1,"offset":29582},"end":{"line":609,"column":4,"offset":29679}}}],"position":{"start":{"line":604,"column":1,"offset":29582},"end":{"line":609,"column":4,"offset":29679}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Assignment to ","position":{"start":{"line":611,"column":1,"offset":29681},"end":{"line":611,"column":15,"offset":29695}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":611,"column":15,"offset":29695},"end":{"line":611,"column":31,"offset":29711}}},{"type":"text","value":" must be done immediately. It cannot be done in any callbacks. This does not work:","position":{"start":{"line":611,"column":31,"offset":29711},"end":{"line":611,"column":113,"offset":29793}}}],"position":{"start":{"line":611,"column":1,"offset":29681},"end":{"line":611,"column":113,"offset":29793}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x.js"}],"position":{"start":{"line":613,"column":1,"offset":29795},"end":{"line":613,"column":7,"offset":29801}}},{"type":"text","value":":","position":{"start":{"line":613,"column":7,"offset":29801},"end":{"line":613,"column":8,"offset":29802}}}],"position":{"start":{"line":613,"column":1,"offset":29795},"end":{"line":613,"column":8,"offset":29802}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"setTimeout(() => {\n  module.exports = { a: 'hello' };\n}, 0);\n"}],"position":{"start":{"line":615,"column":1,"offset":29804},"end":{"line":619,"column":4,"offset":29872}}}],"position":{"start":{"line":615,"column":1,"offset":29804},"end":{"line":619,"column":4,"offset":29872}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y.js"}],"position":{"start":{"line":621,"column":1,"offset":29874},"end":{"line":621,"column":7,"offset":29880}}},{"type":"text","value":":","position":{"start":{"line":621,"column":7,"offset":29880},"end":{"line":621,"column":8,"offset":29881}}}],"position":{"start":{"line":621,"column":1,"offset":29874},"end":{"line":621,"column":8,"offset":29881}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const x = require('./x');\nconsole.log(x.a);\n"}],"position":{"start":{"line":623,"column":1,"offset":29883},"end":{"line":626,"column":4,"offset":29934}}}],"position":{"start":{"line":623,"column":1,"offset":29883},"end":{"line":626,"column":4,"offset":29934}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h5","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":628,"column":7,"offset":29942},"end":{"line":628,"column":16,"offset":29951}}},{"type":"text","value":" shortcut","position":{"start":{"line":628,"column":16,"offset":29951},"end":{"line":628,"column":25,"offset":29960}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_exports_shortcut"},"children":[{"type":"text","value":"#","position":{"start":{"line":628,"column":26,"offset":29961},"end":{"line":628,"column":27,"offset":29962}}}],"position":{"start":{"line":628,"column":25,"offset":29960},"end":{"line":628,"column":90,"offset":30025}}}],"position":{"start":{"line":628,"column":1,"offset":29936},"end":{"line":628,"column":90,"offset":30025}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":630,"column":1,"offset":30027},"end":{"line":630,"column":18,"offset":30044}}}],"position":{"start":{"line":630,"column":1,"offset":30027},"end":{"line":630,"column":18,"offset":30044}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":632,"column":1,"offset":30046},"end":{"line":632,"column":5,"offset":30050}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":632,"column":5,"offset":30050},"end":{"line":632,"column":14,"offset":30059}}},{"type":"text","value":" variable is available within a module's file-level scope, and is assigned the value of ","position":{"start":{"line":632,"column":14,"offset":30059},"end":{"line":632,"column":102,"offset":30147}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":632,"column":102,"offset":30147},"end":{"line":632,"column":118,"offset":30163}}},{"type":"text","value":" before the module is evaluated.","position":{"start":{"line":632,"column":118,"offset":30163},"end":{"line":632,"column":150,"offset":30195}}}],"position":{"start":{"line":632,"column":1,"offset":30046},"end":{"line":632,"column":150,"offset":30195}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It allows a shortcut, so that ","position":{"start":{"line":634,"column":1,"offset":30197},"end":{"line":634,"column":31,"offset":30227}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.f = ..."}],"position":{"start":{"line":634,"column":31,"offset":30227},"end":{"line":634,"column":55,"offset":30251}}},{"type":"text","value":" can be written more succinctly as ","position":{"start":{"line":634,"column":55,"offset":30251},"end":{"line":634,"column":90,"offset":30286}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.f = ..."}],"position":{"start":{"line":634,"column":90,"offset":30286},"end":{"line":634,"column":107,"offset":30303}}},{"type":"text","value":". However, be aware that like any variable, if a new value is assigned to ","position":{"start":{"line":634,"column":107,"offset":30303},"end":{"line":634,"column":181,"offset":30377}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":634,"column":181,"offset":30377},"end":{"line":634,"column":190,"offset":30386}}},{"type":"text","value":", it is no longer bound to ","position":{"start":{"line":634,"column":190,"offset":30386},"end":{"line":634,"column":217,"offset":30413}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":634,"column":217,"offset":30413},"end":{"line":634,"column":233,"offset":30429}}},{"type":"text","value":":","position":{"start":{"line":634,"column":233,"offset":30429},"end":{"line":634,"column":234,"offset":30430}}}],"position":{"start":{"line":634,"column":1,"offset":30197},"end":{"line":634,"column":234,"offset":30430}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports.hello = true; // Exported from require of module\nexports = { hello: false };  // Not exported, only available in the module\n"}],"position":{"start":{"line":636,"column":1,"offset":30432},"end":{"line":639,"column":4,"offset":30578}}}],"position":{"start":{"line":636,"column":1,"offset":30432},"end":{"line":639,"column":4,"offset":30578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the ","position":{"start":{"line":641,"column":1,"offset":30580},"end":{"line":641,"column":10,"offset":30589}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":641,"column":10,"offset":30589},"end":{"line":641,"column":26,"offset":30605}}},{"type":"text","value":" property is being completely replaced by a new object, it is common to also reassign ","position":{"start":{"line":641,"column":26,"offset":30605},"end":{"line":641,"column":112,"offset":30691}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports"}],"position":{"start":{"line":641,"column":112,"offset":30691},"end":{"line":641,"column":121,"offset":30700}}},{"type":"text","value":":","position":{"start":{"line":641,"column":121,"offset":30700},"end":{"line":641,"column":122,"offset":30701}}}],"position":{"start":{"line":641,"column":1,"offset":30580},"end":{"line":641,"column":122,"offset":30701}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = exports = function Constructor() {\n  // ... etc.\n};\n"}],"position":{"start":{"line":643,"column":1,"offset":30703},"end":{"line":647,"column":4,"offset":30779}}}],"position":{"start":{"line":643,"column":1,"offset":30703},"end":{"line":647,"column":4,"offset":30779}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To illustrate the behavior, imagine this hypothetical implementation of ","position":{"start":{"line":649,"column":1,"offset":30781},"end":{"line":649,"column":73,"offset":30853}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":649,"column":73,"offset":30853},"end":{"line":649,"column":84,"offset":30864}}},{"type":"text","value":", which is quite similar to what is actually done by ","position":{"start":{"line":649,"column":84,"offset":30864},"end":{"line":649,"column":137,"offset":30917}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":649,"column":137,"offset":30917},"end":{"line":649,"column":148,"offset":30928}}},{"type":"text","value":":","position":{"start":{"line":649,"column":148,"offset":30928},"end":{"line":649,"column":149,"offset":30929}}}],"position":{"start":{"line":649,"column":1,"offset":30781},"end":{"line":649,"column":149,"offset":30929}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function require(/* ... */) {\n  const module = { exports: {} };\n  ((module, exports) => {\n    // Module code here. In this example, define a function.\n    function someFunc() {}\n    exports = someFunc;\n    // At this point, exports is no longer a shortcut to module.exports, and\n    // this module will still export an empty default object.\n    module.exports = someFunc;\n    // At this point, the module will now export someFunc, instead of the\n    // default object.\n  })(module, module.exports);\n  return module.exports;\n}\n"}],"position":{"start":{"line":651,"column":1,"offset":30931},"end":{"line":666,"column":4,"offset":31464}}}],"position":{"start":{"line":651,"column":1,"offset":30931},"end":{"line":666,"column":4,"offset":31464}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.filename"}],"position":{"start":{"line":668,"column":6,"offset":31471},"end":{"line":668,"column":23,"offset":31488}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_filename"},"children":[{"type":"text","value":"#","position":{"start":{"line":668,"column":24,"offset":31489},"end":{"line":668,"column":25,"offset":31490}}}],"position":{"start":{"line":668,"column":23,"offset":31488},"end":{"line":668,"column":87,"offset":31552}}}],"position":{"start":{"line":668,"column":1,"offset":31466},"end":{"line":668,"column":87,"offset":31552}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":670,"column":1,"offset":31554},"end":{"line":670,"column":18,"offset":31571}}}],"position":{"start":{"line":670,"column":1,"offset":31554},"end":{"line":670,"column":18,"offset":31571}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":672,"column":6,"offset":31578},"end":{"line":672,"column":14,"offset":31586}}}],"position":{"start":{"line":672,"column":5,"offset":31577},"end":{"line":672,"column":100,"offset":31672}}}],"position":{"start":{"line":672,"column":1,"offset":31573},"end":{"line":672,"column":100,"offset":31672}}},{"type":"text","value":"\n"}],"position":{"start":{"line":672,"column":1,"offset":31573},"end":{"line":672,"column":100,"offset":31672}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The fully resolved filename of the module.","position":{"start":{"line":674,"column":1,"offset":31674},"end":{"line":674,"column":43,"offset":31716}}}],"position":{"start":{"line":674,"column":1,"offset":31674},"end":{"line":674,"column":43,"offset":31716}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":676,"column":6,"offset":31723},"end":{"line":676,"column":17,"offset":31734}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":676,"column":18,"offset":31735},"end":{"line":676,"column":19,"offset":31736}}}],"position":{"start":{"line":676,"column":17,"offset":31734},"end":{"line":676,"column":75,"offset":31792}}}],"position":{"start":{"line":676,"column":1,"offset":31718},"end":{"line":676,"column":75,"offset":31792}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":678,"column":1,"offset":31794},"end":{"line":678,"column":18,"offset":31811}}}],"position":{"start":{"line":678,"column":1,"offset":31794},"end":{"line":678,"column":18,"offset":31811}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":680,"column":6,"offset":31818},"end":{"line":680,"column":14,"offset":31826}}}],"position":{"start":{"line":680,"column":5,"offset":31817},"end":{"line":680,"column":100,"offset":31912}}}],"position":{"start":{"line":680,"column":1,"offset":31813},"end":{"line":680,"column":100,"offset":31912}}},{"type":"text","value":"\n"}],"position":{"start":{"line":680,"column":1,"offset":31813},"end":{"line":680,"column":100,"offset":31912}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The identifier for the module. Typically this is the fully resolved filename.","position":{"start":{"line":682,"column":1,"offset":31914},"end":{"line":682,"column":78,"offset":31991}}}],"position":{"start":{"line":682,"column":1,"offset":31914},"end":{"line":682,"column":78,"offset":31991}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.isPreloading"}],"position":{"start":{"line":684,"column":6,"offset":31998},"end":{"line":684,"column":27,"offset":32019}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_ispreloading"},"children":[{"type":"text","value":"#","position":{"start":{"line":684,"column":28,"offset":32020},"end":{"line":684,"column":29,"offset":32021}}}],"position":{"start":{"line":684,"column":27,"offset":32019},"end":{"line":684,"column":95,"offset":32087}}}],"position":{"start":{"line":684,"column":1,"offset":31993},"end":{"line":684,"column":95,"offset":32087}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v15.4.0","position":{"start":{"line":686,"column":1,"offset":32089},"end":{"line":686,"column":18,"offset":32106}}}],"position":{"start":{"line":686,"column":1,"offset":32089},"end":{"line":686,"column":18,"offset":32106}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Type: ","position":{"start":{"line":688,"column":5,"offset":32112},"end":{"line":688,"column":11,"offset":32118}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":688,"column":12,"offset":32119},"end":{"line":688,"column":21,"offset":32128}}}],"position":{"start":{"line":688,"column":11,"offset":32118},"end":{"line":688,"column":108,"offset":32215}}},{"type":"text","value":" ","position":{"start":{"line":688,"column":108,"offset":32215},"end":{"line":688,"column":109,"offset":32216}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}],"position":{"start":{"line":688,"column":109,"offset":32216},"end":{"line":688,"column":115,"offset":32222}}},{"type":"text","value":" if the module is running during the Node.js preload phase.","position":{"start":{"line":688,"column":115,"offset":32222},"end":{"line":688,"column":174,"offset":32281}}}],"position":{"start":{"line":688,"column":1,"offset":32108},"end":{"line":688,"column":174,"offset":32281}}},{"type":"text","value":"\n"}],"position":{"start":{"line":688,"column":1,"offset":32108},"end":{"line":688,"column":174,"offset":32281}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.loaded"}],"position":{"start":{"line":690,"column":6,"offset":32288},"end":{"line":690,"column":21,"offset":32303}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_loaded"},"children":[{"type":"text","value":"#","position":{"start":{"line":690,"column":22,"offset":32304},"end":{"line":690,"column":23,"offset":32305}}}],"position":{"start":{"line":690,"column":21,"offset":32303},"end":{"line":690,"column":83,"offset":32365}}}],"position":{"start":{"line":690,"column":1,"offset":32283},"end":{"line":690,"column":83,"offset":32365}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16","position":{"start":{"line":692,"column":1,"offset":32367},"end":{"line":692,"column":18,"offset":32384}}}],"position":{"start":{"line":692,"column":1,"offset":32367},"end":{"line":692,"column":18,"offset":32384}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type"},"children":[{"type":"raw","value":"<boolean>","position":{"start":{"line":694,"column":6,"offset":32391},"end":{"line":694,"column":15,"offset":32400}}}],"position":{"start":{"line":694,"column":5,"offset":32390},"end":{"line":694,"column":102,"offset":32487}}}],"position":{"start":{"line":694,"column":1,"offset":32386},"end":{"line":694,"column":102,"offset":32487}}},{"type":"text","value":"\n"}],"position":{"start":{"line":694,"column":1,"offset":32386},"end":{"line":694,"column":102,"offset":32487}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Whether or not the module is done loading, or is in the process of loading.","position":{"start":{"line":696,"column":1,"offset":32489},"end":{"line":696,"column":76,"offset":32564}}}],"position":{"start":{"line":696,"column":1,"offset":32489},"end":{"line":696,"column":76,"offset":32564}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.parent"}],"position":{"start":{"line":698,"column":6,"offset":32571},"end":{"line":698,"column":21,"offset":32586}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_parent"},"children":[{"type":"text","value":"#","position":{"start":{"line":698,"column":22,"offset":32587},"end":{"line":698,"column":23,"offset":32588}}}],"position":{"start":{"line":698,"column":21,"offset":32586},"end":{"line":698,"column":83,"offset":32648}}}],"position":{"start":{"line":698,"column":1,"offset":32566},"end":{"line":698,"column":83,"offset":32648}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.1.16Deprecated since: v14.6.0, v12.19.0","position":{"start":{"line":700,"column":1,"offset":32650},"end":{"line":700,"column":53,"offset":32702}}}],"position":{"start":{"line":700,"column":1,"offset":32650},"end":{"line":700,"column":53,"offset":32702}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/documentation.html#documentation_stability_index"},"children":[{"type":"text","value":"Stability: 0","position":{"start":{"line":702,"column":2,"offset":32705},"end":{"line":702,"column":14,"offset":32717}}}],"position":{"start":{"line":702,"column":1,"offset":32704},"end":{"line":702,"column":88,"offset":32791}}},{"type":"text","value":" - Deprecated: Please use ","position":{"start":{"line":702,"column":88,"offset":32791},"end":{"line":702,"column":114,"offset":32817}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_require_main"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require.main"}],"position":{"start":{"line":702,"column":115,"offset":32818},"end":{"line":702,"column":129,"offset":32832}}}],"position":{"start":{"line":702,"column":114,"offset":32817},"end":{"line":702,"column":188,"offset":32891}}},{"type":"text","value":" and ","position":{"start":{"line":702,"column":188,"offset":32891},"end":{"line":702,"column":193,"offset":32896}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_children"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.children"}],"position":{"start":{"line":702,"column":194,"offset":32897},"end":{"line":702,"column":211,"offset":32914}}}],"position":{"start":{"line":702,"column":193,"offset":32896},"end":{"line":702,"column":273,"offset":32976}}},{"type":"text","value":" instead.","position":{"start":{"line":702,"column":273,"offset":32976},"end":{"line":702,"column":282,"offset":32985}}}],"position":{"start":{"line":702,"column":1,"offset":32704},"end":{"line":702,"column":282,"offset":32985}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object"},"children":[{"type":"raw","value":"<module>","position":{"start":{"line":704,"column":6,"offset":32992},"end":{"line":704,"column":14,"offset":33000}}}],"position":{"start":{"line":704,"column":5,"offset":32991},"end":{"line":704,"column":78,"offset":33064}}},{"type":"text","value":" | ","position":{"start":{"line":704,"column":78,"offset":33064},"end":{"line":704,"column":81,"offset":33067}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type"},"children":[{"type":"raw","value":"<null>","position":{"start":{"line":704,"column":82,"offset":33068},"end":{"line":704,"column":88,"offset":33074}}}],"position":{"start":{"line":704,"column":81,"offset":33067},"end":{"line":704,"column":172,"offset":33158}}},{"type":"text","value":" | ","position":{"start":{"line":704,"column":172,"offset":33158},"end":{"line":704,"column":175,"offset":33161}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type"},"children":[{"type":"raw","value":"<undefined>","position":{"start":{"line":704,"column":176,"offset":33162},"end":{"line":704,"column":187,"offset":33173}}}],"position":{"start":{"line":704,"column":175,"offset":33161},"end":{"line":704,"column":276,"offset":33262}}}],"position":{"start":{"line":704,"column":1,"offset":32987},"end":{"line":704,"column":276,"offset":33262}}},{"type":"text","value":"\n"}],"position":{"start":{"line":704,"column":1,"offset":32987},"end":{"line":704,"column":276,"offset":33262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The module that first required this one, or ","position":{"start":{"line":706,"column":1,"offset":33264},"end":{"line":706,"column":45,"offset":33308}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"null"}],"position":{"start":{"line":706,"column":45,"offset":33308},"end":{"line":706,"column":51,"offset":33314}}},{"type":"text","value":" if the current module is the entry point of the current process, or ","position":{"start":{"line":706,"column":51,"offset":33314},"end":{"line":706,"column":120,"offset":33383}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"undefined"}],"position":{"start":{"line":706,"column":120,"offset":33383},"end":{"line":706,"column":131,"offset":33394}}},{"type":"text","value":" if the module was loaded by something that is not a CommonJS module (E.G.: REPL or ","position":{"start":{"line":706,"column":131,"offset":33394},"end":{"line":706,"column":215,"offset":33478}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"import"}],"position":{"start":{"line":706,"column":215,"offset":33478},"end":{"line":706,"column":223,"offset":33486}}},{"type":"text","value":").","position":{"start":{"line":706,"column":223,"offset":33486},"end":{"line":706,"column":225,"offset":33488}}}],"position":{"start":{"line":706,"column":1,"offset":33264},"end":{"line":706,"column":225,"offset":33488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.path"}],"position":{"start":{"line":708,"column":6,"offset":33495},"end":{"line":708,"column":19,"offset":33508}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_path"},"children":[{"type":"text","value":"#","position":{"start":{"line":708,"column":20,"offset":33509},"end":{"line":708,"column":21,"offset":33510}}}],"position":{"start":{"line":708,"column":19,"offset":33508},"end":{"line":708,"column":79,"offset":33568}}}],"position":{"start":{"line":708,"column":1,"offset":33490},"end":{"line":708,"column":79,"offset":33568}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v11.14.0","position":{"start":{"line":710,"column":1,"offset":33570},"end":{"line":710,"column":19,"offset":33588}}}],"position":{"start":{"line":710,"column":1,"offset":33570},"end":{"line":710,"column":19,"offset":33588}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":712,"column":6,"offset":33595},"end":{"line":712,"column":14,"offset":33603}}}],"position":{"start":{"line":712,"column":5,"offset":33594},"end":{"line":712,"column":100,"offset":33689}}}],"position":{"start":{"line":712,"column":1,"offset":33590},"end":{"line":712,"column":100,"offset":33689}}},{"type":"text","value":"\n"}],"position":{"start":{"line":712,"column":1,"offset":33590},"end":{"line":712,"column":100,"offset":33689}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The directory name of the module. This is usually the same as the ","position":{"start":{"line":714,"column":1,"offset":33691},"end":{"line":714,"column":67,"offset":33757}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/path.html#path_path_dirname_path"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"path.dirname()"}],"position":{"start":{"line":714,"column":68,"offset":33758},"end":{"line":714,"column":84,"offset":33774}}}],"position":{"start":{"line":714,"column":67,"offset":33757},"end":{"line":714,"column":142,"offset":33832}}},{"type":"text","value":" of the ","position":{"start":{"line":714,"column":142,"offset":33832},"end":{"line":714,"column":150,"offset":33840}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_id"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.id"}],"position":{"start":{"line":714,"column":151,"offset":33841},"end":{"line":714,"column":162,"offset":33852}}}],"position":{"start":{"line":714,"column":150,"offset":33840},"end":{"line":714,"column":218,"offset":33908}}},{"type":"text","value":".","position":{"start":{"line":714,"column":218,"offset":33908},"end":{"line":714,"column":219,"offset":33909}}}],"position":{"start":{"line":714,"column":1,"offset":33691},"end":{"line":714,"column":219,"offset":33909}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.paths"}],"position":{"start":{"line":716,"column":6,"offset":33916},"end":{"line":716,"column":20,"offset":33930}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_paths"},"children":[{"type":"text","value":"#","position":{"start":{"line":716,"column":21,"offset":33931},"end":{"line":716,"column":22,"offset":33932}}}],"position":{"start":{"line":716,"column":20,"offset":33930},"end":{"line":716,"column":81,"offset":33991}}}],"position":{"start":{"line":716,"column":1,"offset":33911},"end":{"line":716,"column":81,"offset":33991}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.4.0","position":{"start":{"line":718,"column":1,"offset":33993},"end":{"line":718,"column":17,"offset":34009}}}],"position":{"start":{"line":718,"column":1,"offset":33993},"end":{"line":718,"column":17,"offset":34009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"text","value":"<string[]>","position":{"start":{"line":720,"column":6,"offset":34016},"end":{"line":720,"column":16,"offset":34026}}}],"position":{"start":{"line":720,"column":5,"offset":34015},"end":{"line":720,"column":102,"offset":34112}}}],"position":{"start":{"line":720,"column":1,"offset":34011},"end":{"line":720,"column":102,"offset":34112}}},{"type":"text","value":"\n"}],"position":{"start":{"line":720,"column":1,"offset":34011},"end":{"line":720,"column":102,"offset":34112}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The search paths for the module.","position":{"start":{"line":722,"column":1,"offset":34114},"end":{"line":722,"column":33,"offset":34146}}}],"position":{"start":{"line":722,"column":1,"offset":34114},"end":{"line":722,"column":33,"offset":34146}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require(id)"}],"position":{"start":{"line":724,"column":6,"offset":34153},"end":{"line":724,"column":26,"offset":34173}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_module_require_id"},"children":[{"type":"text","value":"#","position":{"start":{"line":724,"column":27,"offset":34174},"end":{"line":724,"column":28,"offset":34175}}}],"position":{"start":{"line":724,"column":26,"offset":34173},"end":{"line":724,"column":92,"offset":34239}}}],"position":{"start":{"line":724,"column":1,"offset":34148},"end":{"line":724,"column":92,"offset":34239}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Added in: v0.5.1","position":{"start":{"line":726,"column":1,"offset":34241},"end":{"line":726,"column":17,"offset":34257}}}],"position":{"start":{"line":726,"column":1,"offset":34241},"end":{"line":726,"column":17,"offset":34257}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":728,"column":5,"offset":34263},"end":{"line":728,"column":9,"offset":34267}}},{"type":"text","value":" ","position":{"start":{"line":728,"column":9,"offset":34267},"end":{"line":728,"column":10,"offset":34268}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type"},"children":[{"type":"raw","value":"<string>","position":{"start":{"line":728,"column":11,"offset":34269},"end":{"line":728,"column":19,"offset":34277}}}],"position":{"start":{"line":728,"column":10,"offset":34268},"end":{"line":728,"column":105,"offset":34363}}}],"position":{"start":{"line":728,"column":1,"offset":34259},"end":{"line":728,"column":105,"offset":34363}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Returns: ","position":{"start":{"line":729,"column":5,"offset":34368},"end":{"line":729,"column":14,"offset":34377}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types"},"children":[{"type":"raw","value":"<any>","position":{"start":{"line":729,"column":15,"offset":34378},"end":{"line":729,"column":20,"offset":34383}}}],"position":{"start":{"line":729,"column":14,"offset":34377},"end":{"line":729,"column":105,"offset":34468}}},{"type":"text","value":" exported module content","position":{"start":{"line":729,"column":105,"offset":34468},"end":{"line":729,"column":129,"offset":34492}}}],"position":{"start":{"line":729,"column":1,"offset":34364},"end":{"line":729,"column":129,"offset":34492}}},{"type":"text","value":"\n"}],"position":{"start":{"line":728,"column":1,"offset":34259},"end":{"line":729,"column":129,"offset":34492}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":731,"column":1,"offset":34494},"end":{"line":731,"column":5,"offset":34498}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.require()"}],"position":{"start":{"line":731,"column":5,"offset":34498},"end":{"line":731,"column":23,"offset":34516}}},{"type":"text","value":" method provides a way to load a module as if ","position":{"start":{"line":731,"column":23,"offset":34516},"end":{"line":731,"column":69,"offset":34562}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":731,"column":69,"offset":34562},"end":{"line":731,"column":80,"offset":34573}}},{"type":"text","value":" was called from the original module.","position":{"start":{"line":731,"column":80,"offset":34573},"end":{"line":731,"column":117,"offset":34610}}}],"position":{"start":{"line":731,"column":1,"offset":34494},"end":{"line":731,"column":117,"offset":34610}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to do this, it is necessary to get a reference to the ","position":{"start":{"line":733,"column":1,"offset":34612},"end":{"line":733,"column":64,"offset":34675}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":733,"column":64,"offset":34675},"end":{"line":733,"column":72,"offset":34683}}},{"type":"text","value":" object. Since ","position":{"start":{"line":733,"column":72,"offset":34683},"end":{"line":733,"column":87,"offset":34698}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"require()"}],"position":{"start":{"line":733,"column":87,"offset":34698},"end":{"line":733,"column":98,"offset":34709}}},{"type":"text","value":" returns the ","position":{"start":{"line":733,"column":98,"offset":34709},"end":{"line":733,"column":111,"offset":34722}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports"}],"position":{"start":{"line":733,"column":111,"offset":34722},"end":{"line":733,"column":127,"offset":34738}}},{"type":"text","value":", and the ","position":{"start":{"line":733,"column":127,"offset":34738},"end":{"line":733,"column":137,"offset":34748}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":733,"column":137,"offset":34748},"end":{"line":733,"column":145,"offset":34756}}},{"type":"text","value":" is typically ","position":{"start":{"line":733,"column":145,"offset":34756},"end":{"line":733,"column":159,"offset":34770}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"only","position":{"start":{"line":733,"column":160,"offset":34771},"end":{"line":733,"column":164,"offset":34775}}}],"position":{"start":{"line":733,"column":159,"offset":34770},"end":{"line":733,"column":165,"offset":34776}}},{"type":"text","value":" available within a specific module's code, it must be explicitly exported in order to be used.","position":{"start":{"line":733,"column":165,"offset":34776},"end":{"line":733,"column":260,"offset":34871}}}],"position":{"start":{"line":733,"column":1,"offset":34612},"end":{"line":733,"column":260,"offset":34871}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":735,"column":5,"offset":34877},"end":{"line":735,"column":9,"offset":34881}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Module"}],"position":{"start":{"line":735,"column":9,"offset":34881},"end":{"line":735,"column":17,"offset":34889}}},{"type":"text","value":" object","position":{"start":{"line":735,"column":17,"offset":34889},"end":{"line":735,"column":24,"offset":34896}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/modules.html#modules_the_module_object_1"},"children":[{"type":"text","value":"#","position":{"start":{"line":735,"column":25,"offset":34897},"end":{"line":735,"column":26,"offset":34898}}}],"position":{"start":{"line":735,"column":24,"offset":34896},"end":{"line":735,"column":92,"offset":34964}}}],"position":{"start":{"line":735,"column":1,"offset":34873},"end":{"line":735,"column":92,"offset":34964}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section was moved to ","position":{"start":{"line":737,"column":1,"offset":34966},"end":{"line":737,"column":27,"offset":34992}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_the_module_object"},"children":[{"type":"text","value":"Modules: ","position":{"start":{"line":737,"column":28,"offset":34993},"end":{"line":737,"column":37,"offset":35002}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module"}],"position":{"start":{"line":737,"column":37,"offset":35002},"end":{"line":737,"column":45,"offset":35010}}},{"type":"text","value":" core module","position":{"start":{"line":737,"column":45,"offset":35010},"end":{"line":737,"column":57,"offset":35022}}}],"position":{"start":{"line":737,"column":27,"offset":34992},"end":{"line":737,"column":119,"offset":35084}}},{"type":"text","value":".","position":{"start":{"line":737,"column":119,"offset":35084},"end":{"line":737,"column":120,"offset":35085}}}],"position":{"start":{"line":737,"column":1,"offset":34966},"end":{"line":737,"column":120,"offset":35085}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_builtinmodules"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.builtinModules"}],"position":{"start":{"line":739,"column":6,"offset":35092},"end":{"line":739,"column":29,"offset":35115}}}],"position":{"start":{"line":739,"column":5,"offset":35091},"end":{"line":739,"column":95,"offset":35181}}}],"position":{"start":{"line":739,"column":1,"offset":35087},"end":{"line":739,"column":95,"offset":35181}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_createrequire_filename"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.createRequire(filename)"}],"position":{"start":{"line":740,"column":6,"offset":35187},"end":{"line":740,"column":38,"offset":35219}}}],"position":{"start":{"line":740,"column":5,"offset":35186},"end":{"line":740,"column":112,"offset":35293}}}],"position":{"start":{"line":740,"column":1,"offset":35182},"end":{"line":740,"column":112,"offset":35293}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org/api/module.html#module_module_syncbuiltinesmexports"},"children":[],"position":{"start":{"line":741,"column":5,"offset":35298},"end":{"line":741,"column":79,"offset":35372}}}],"position":{"start":{"line":741,"column":1,"offset":35294},"end":{"line":741,"column":79,"offset":35372}}},{"type":"text","value":"\n"}],"position":{"start":{"line":739,"column":1,"offset":35087},"end":{"line":741,"column":79,"offset":35372}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":742,"column":1,"offset":35373}}}}